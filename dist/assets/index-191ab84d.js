import{j as o,S as Xj,O as pi,C as hi,a as mi,T as gi,D as vi,P as bd,R as wd,b as jd,c as He,d as Vr,u as Tt,e as Ma,f as Oe,g as Nd,h as Sd,i as Pv,I as Yj,k as Ov,l as Av,m as Zj,n as Ev,V as Jj,L as Cv,o as Tv,p as Qj,q as e1,r as $v,s as t1,t as r1,v as kv,w as _d,x as _o,y as Mv,z as yi,A as Iv,W as n1,B as Dv,E as Rv,F as a1,G as o1,H as i1,J as s1,K as l1,M as c1,N as Lv,Q as u1,U as d1,X as f1,Y as p1}from"./ui-ca696331.js";import{a as Fv,r as S,c as E,d as Ei,g as Fe}from"./vendor-c54080c3.js";import{u as el,a as h1,b as Pd,L as tc,c as m1,N as yo,B as g1,R as v1,d as Ot}from"./router-09b71c9e.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var Ic={},np=Fv;Ic.createRoot=np.createRoot,Ic.hydrateRoot=np.hydrateRoot;var y1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const x1=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ne=(e,t)=>{const r=S.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:s,children:l,...c},u)=>S.createElement("svg",{ref:u,...y1,width:a,height:a,stroke:n,strokeWidth:s?Number(i)*24/Number(a):i,className:`lucide lucide-${x1(e)}`,...c},[...t.map(([d,f])=>S.createElement(d,f)),...(Array.isArray(l)?l:[l])||[]]));return r.displayName=`${e}`,r},b1=ne("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),Od=ne("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),vt=ne("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),ap=ne("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]),w1=ne("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),zv=ne("BadgePercent",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"M9 9h.01",key:"1q5me6"}],["path",{d:"M15 15h.01",key:"lqbp3k"}]]),Bv=ne("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]),Hi=ne("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),j1=ne("BarChartBig",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["rect",{width:"4",height:"7",x:"7",y:"10",rx:"1",key:"14u6mf"}],["rect",{width:"4",height:"12",x:"15",y:"5",rx:"1",key:"b3pek6"}]]),Dc=ne("Beer",[["path",{d:"M17 11h1a3 3 0 0 1 0 6h-1",key:"1yp76v"}],["path",{d:"M9 12v6",key:"1u1cab"}],["path",{d:"M13 12v6",key:"1sugkk"}],["path",{d:"M14 7.5c-1 0-1.44.5-3 .5s-2-.5-3-.5-1.72.5-2.5.5a2.5 2.5 0 0 1 0-5c.78 0 1.57.5 2.5.5S9.44 2 11 2s2 1.5 3 1.5 1.72-.5 2.5-.5a2.5 2.5 0 0 1 0 5c-.78 0-1.5-.5-2.5-.5Z",key:"1510fo"}],["path",{d:"M5 8v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V8",key:"19jb7n"}]]),N1=ne("Bike",[["circle",{cx:"18.5",cy:"17.5",r:"3.5",key:"15x4ox"}],["circle",{cx:"5.5",cy:"17.5",r:"3.5",key:"1noe27"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["path",{d:"M12 17.5V14l-3-3 4-3 2 3h2",key:"1npguv"}]]),S1=ne("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),xo=ne("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Po=ne("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]),op=ne("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),ta=ne("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Ad=ne("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),qv=ne("ChefHat",[["path",{d:"M6 13.87A4 4 0 0 1 7.41 6a5.11 5.11 0 0 1 1.05-1.54 5 5 0 0 1 7.08 0A5.11 5.11 0 0 1 16.59 6 4 4 0 0 1 18 13.87V21H6Z",key:"z3ra2g"}],["line",{x1:"6",x2:"18",y1:"17",y2:"17",key:"12q60k"}]]),Vv=ne("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),_1=ne("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),P1=ne("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),Ki=ne("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Uv=ne("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]]),ip=ne("Cookie",[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]]),Oo=ne("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),Fr=ne("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),O1=ne("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),Wv=ne("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),A1=ne("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]),Ed=ne("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),Gv=ne("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),E1=ne("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]),ce=ne("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),Rc=ne("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),C1=ne("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),T1=ne("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),xn=ne("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),Hv=ne("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),Dn=ne("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]),ln=ne("Pizza",[["path",{d:"M15 11h.01",key:"rns66s"}],["path",{d:"M11 15h.01",key:"k85uqc"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"m2 16 20 6-6-20A20 20 0 0 0 2 16",key:"e4slt2"}],["path",{d:"M5.71 17.11a17.04 17.04 0 0 1 11.4-11.4",key:"rerf8f"}]]),Ur=ne("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),Lc=ne("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),tl=ne("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]),sp=ne("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]),$1=ne("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1-2-1Z",key:"wqdwcb"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17V7",key:"pyj7ub"}]]),Xi=ne("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),k1=ne("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]),An=ne("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),M1=ne("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),I1=ne("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),Kv=ne("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]),Fc=ne("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),Xv=ne("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),Yv=ne("Split",[["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"M8 3H3v5",key:"15dfkv"}],["path",{d:"M12 22v-8.3a4 4 0 0 0-1.172-2.872L3 3",key:"1qrqzj"}],["path",{d:"m15 9 6-6",key:"ko1vev"}]]),Ao=ne("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]),D1=ne("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),lp=ne("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]),dr=ne("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Yi=ne("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),Gt=ne("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),wr=ne("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]]),R1=ne("UserCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]),Zi=ne("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),cn=ne("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Eo=ne("UtensilsCrossed",[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]]),cp=ne("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]),Ji=ne("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),rl=ne("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),eo=ne("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function Zv(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=Zv(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function _e(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=Zv(e))&&(n&&(n+=" "),n+=t);return n}function L1(){for(var e=0,t,r,n="";e<arguments.length;)(t=arguments[e++])&&(r=Jv(t))&&(n&&(n+=" "),n+=r);return n}function Jv(e){if(typeof e=="string")return e;for(var t,r="",n=0;n<e.length;n++)e[n]&&(t=Jv(e[n]))&&(r&&(r+=" "),r+=t);return r}var Cd="-";function F1(e){var t=B1(e),r=e.conflictingClassGroups,n=e.conflictingClassGroupModifiers,a=n===void 0?{}:n;function i(l){var c=l.split(Cd);return c[0]===""&&c.length!==1&&c.shift(),Qv(c,t)||z1(l)}function s(l,c){var u=r[l]||[];return c&&a[l]?[].concat(u,a[l]):u}return{getClassGroupId:i,getConflictingClassGroupIds:s}}function Qv(e,t){var s;if(e.length===0)return t.classGroupId;var r=e[0],n=t.nextPart.get(r),a=n?Qv(e.slice(1),n):void 0;if(a)return a;if(t.validators.length!==0){var i=e.join(Cd);return(s=t.validators.find(function(l){var c=l.validator;return c(i)}))==null?void 0:s.classGroupId}}var up=/^\[(.+)\]$/;function z1(e){if(up.test(e)){var t=up.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}}function B1(e){var t=e.theme,r=e.prefix,n={nextPart:new Map,validators:[]},a=V1(Object.entries(e.classGroups),r);return a.forEach(function(i){var s=i[0],l=i[1];zc(l,n,s,t)}),n}function zc(e,t,r,n){e.forEach(function(a){if(typeof a=="string"){var i=a===""?t:dp(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(q1(a)){zc(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(function(s){var l=s[0],c=s[1];zc(c,dp(t,l),r,n)})})}function dp(e,t){var r=e;return t.split(Cd).forEach(function(n){r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r}function q1(e){return e.isThemeGetter}function V1(e,t){return t?e.map(function(r){var n=r[0],a=r[1],i=a.map(function(s){return typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(function(l){var c=l[0],u=l[1];return[t+c,u]})):s});return[n,i]}):e}function U1(e){if(e<1)return{get:function(){},set:function(){}};var t=0,r=new Map,n=new Map;function a(i,s){r.set(i,s),t++,t>e&&(t=0,n=r,r=new Map)}return{get:function(s){var l=r.get(s);if(l!==void 0)return l;if((l=n.get(s))!==void 0)return a(s,l),l},set:function(s,l){r.has(s)?r.set(s,l):a(s,l)}}}var ey="!";function W1(e){var t=e.separator||":",r=t.length===1,n=t[0],a=t.length;return function(s){for(var l=[],c=0,u=0,d,f=0;f<s.length;f++){var p=s[f];if(c===0){if(p===n&&(r||s.slice(f,f+a)===t)){l.push(s.slice(u,f)),u=f+a;continue}if(p==="/"){d=f;continue}}p==="["?c++:p==="]"&&c--}var h=l.length===0?s:s.substring(u),g=h.startsWith(ey),v=g?h.substring(1):h,m=d&&d>u?d-u:void 0;return{modifiers:l,hasImportantModifier:g,baseClassName:v,maybePostfixModifierPosition:m}}}function G1(e){if(e.length<=1)return e;var t=[],r=[];return e.forEach(function(n){var a=n[0]==="[";a?(t.push.apply(t,r.sort().concat([n])),r=[]):r.push(n)}),t.push.apply(t,r.sort()),t}function H1(e){return{cache:U1(e.cacheSize),splitModifiers:W1(e),...F1(e)}}var K1=/\s+/;function X1(e,t){var r=t.splitModifiers,n=t.getClassGroupId,a=t.getConflictingClassGroupIds,i=new Set;return e.trim().split(K1).map(function(s){var l=r(s),c=l.modifiers,u=l.hasImportantModifier,d=l.baseClassName,f=l.maybePostfixModifierPosition,p=n(f?d.substring(0,f):d),h=!!f;if(!p){if(!f)return{isTailwindClass:!1,originalClassName:s};if(p=n(d),!p)return{isTailwindClass:!1,originalClassName:s};h=!1}var g=G1(c).join(":"),v=u?g+ey:g;return{isTailwindClass:!0,modifierId:v,classGroupId:p,originalClassName:s,hasPostfixModifier:h}}).reverse().filter(function(s){if(!s.isTailwindClass)return!0;var l=s.modifierId,c=s.classGroupId,u=s.hasPostfixModifier,d=l+c;return i.has(d)?!1:(i.add(d),a(c,u).forEach(function(f){return i.add(l+f)}),!0)}).reverse().map(function(s){return s.originalClassName}).join(" ")}function Y1(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,a,i,s=l;function l(u){var d=t[0],f=t.slice(1),p=f.reduce(function(h,g){return g(h)},d());return n=H1(p),a=n.cache.get,i=n.cache.set,s=c,c(u)}function c(u){var d=a(u);if(d)return d;var f=X1(u,n);return i(u,f),f}return function(){return s(L1.apply(null,arguments))}}function qe(e){var t=function(n){return n[e]||[]};return t.isThemeGetter=!0,t}var ty=/^\[(?:([a-z-]+):)?(.+)\]$/i,Z1=/^\d+\/\d+$/,J1=new Set(["px","full","screen"]),Q1=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,eN=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,tN=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function er(e){return bn(e)||J1.has(e)||Z1.test(e)||Bc(e)}function Bc(e){return Rn(e,"length",sN)}function rN(e){return Rn(e,"size",ry)}function nN(e){return Rn(e,"position",ry)}function aN(e){return Rn(e,"url",lN)}function Ci(e){return Rn(e,"number",bn)}function bn(e){return!Number.isNaN(Number(e))}function oN(e){return e.endsWith("%")&&bn(e.slice(0,-1))}function to(e){return fp(e)||Rn(e,"number",fp)}function Se(e){return ty.test(e)}function ro(){return!0}function Zr(e){return Q1.test(e)}function iN(e){return Rn(e,"",cN)}function Rn(e,t,r){var n=ty.exec(e);return n?n[1]?n[1]===t:r(n[2]):!1}function sN(e){return eN.test(e)}function ry(){return!1}function lN(e){return e.startsWith("url(")}function fp(e){return Number.isInteger(Number(e))}function cN(e){return tN.test(e)}function uN(){var e=qe("colors"),t=qe("spacing"),r=qe("blur"),n=qe("brightness"),a=qe("borderColor"),i=qe("borderRadius"),s=qe("borderSpacing"),l=qe("borderWidth"),c=qe("contrast"),u=qe("grayscale"),d=qe("hueRotate"),f=qe("invert"),p=qe("gap"),h=qe("gradientColorStops"),g=qe("gradientColorStopPositions"),v=qe("inset"),m=qe("margin"),x=qe("opacity"),b=qe("padding"),N=qe("saturate"),j=qe("scale"),y=qe("sepia"),w=qe("skew"),_=qe("space"),P=qe("translate"),O=function(){return["auto","contain","none"]},k=function(){return["auto","hidden","clip","visible","scroll"]},A=function(){return["auto",Se,t]},T=function(){return[Se,t]},z=function(){return["",er]},$=function(){return["auto",bn,Se]},M=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},L=function(){return["solid","dashed","dotted","double","none"]},V=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},H=function(){return["start","end","center","between","around","evenly","stretch"]},C=function(){return["","0",Se]},X=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},I=function(){return[bn,Ci]},W=function(){return[bn,Se]};return{cacheSize:500,theme:{colors:[ro],spacing:[er],blur:["none","",Zr,Se],brightness:I(),borderColor:[e],borderRadius:["none","","full",Zr,Se],borderSpacing:T(),borderWidth:z(),contrast:I(),grayscale:C(),hueRotate:W(),invert:C(),gap:T(),gradientColorStops:[e],gradientColorStopPositions:[oN,Bc],inset:A(),margin:A(),opacity:I(),padding:T(),saturate:I(),scale:I(),sepia:C(),skew:W(),space:T(),translate:T()},classGroups:{aspect:[{aspect:["auto","square","video",Se]}],container:["container"],columns:[{columns:[Zr]}],"break-after":[{"break-after":X()}],"break-before":[{"break-before":X()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(M(),[Se])}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",to]}],basis:[{basis:A()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Se]}],grow:[{grow:C()}],shrink:[{shrink:C()}],order:[{order:["first","last","none",to]}],"grid-cols":[{"grid-cols":[ro]}],"col-start-end":[{col:["auto",{span:["full",to]},Se]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[ro]}],"row-start-end":[{row:["auto",{span:[to]},Se]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Se]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Se]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal"].concat(H())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(H(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(H(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[m]}],mx:[{mx:[m]}],my:[{my:[m]}],ms:[{ms:[m]}],me:[{me:[m]}],mt:[{mt:[m]}],mr:[{mr:[m]}],mb:[{mb:[m]}],ml:[{ml:[m]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",Se,t]}],"min-w":[{"min-w":["min","max","fit",Se,er]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[Zr]},Zr,Se]}],h:[{h:[Se,t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",Se,er]}],"max-h":[{"max-h":[Se,t,"min","max","fit"]}],"font-size":[{text:["base",Zr,Bc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ci]}],"font-family":[{font:[ro]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Se]}],"line-clamp":[{"line-clamp":["none",bn,Ci]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Se,er]}],"list-image":[{"list-image":["none",Se]}],"list-style-type":[{list:["none","disc","decimal",Se]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(L(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",er]}],"underline-offset":[{"underline-offset":["auto",Se,er]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Se]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Se]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(M(),[nN])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",rN]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},aN]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[].concat(L(),["hidden"])}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:L()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:[""].concat(L())}],"outline-offset":[{"outline-offset":[Se,er]}],"outline-w":[{outline:[er]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[er]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Zr,iN]}],"shadow-color":[{shadow:[ro]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":V()}],"bg-blend":[{"bg-blend":V()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Zr,Se]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[N]}],sepia:[{sepia:[y]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[N]}],"backdrop-sepia":[{"backdrop-sepia":[y]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Se]}],duration:[{duration:W()}],ease:[{ease:["linear","in","out","in-out",Se]}],delay:[{delay:W()}],animate:[{animate:["none","spin","ping","pulse","bounce",Se]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[to,Se]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[w]}],"skew-y":[{"skew-y":[w]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Se]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Se]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Se]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[er,Ci]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var dN=Y1(uN);function se(...e){return dN(_e(e))}function R(e){if(typeof e!="number"){const t=parseFloat(e);if(isNaN(t))return"R$ 0,00";e=t}return e.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}const pp=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,hp=_e,Ia=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return hp(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=t,s=Object.keys(a).map(u=>{const d=r==null?void 0:r[u],f=i==null?void 0:i[u];if(d===null)return null;const p=pp(d)||pp(f);return a[u][p]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,p]=d;return p===void 0||(u[f]=p),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:p,...h}=d;return Object.entries(h).every(g=>{let[v,m]=g;return Array.isArray(m)?m.includes({...i,...l}[v]):{...i,...l}[v]===m})?[...u,f,p]:u},[]);return hp(e,s,c,r==null?void 0:r.class,r==null?void 0:r.className)},Td=Ia("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),K=E.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},i)=>{const s=n?Xj:"button";return o.jsx(s,{className:se(Td({variant:t,size:r,className:e})),ref:i,...a})});K.displayName="Button";const fN=wd,pN=jd,hN=bd,ny=E.forwardRef(({className:e,...t},r)=>o.jsx(pi,{className:se("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));ny.displayName=pi.displayName;const mN=Ia("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),ay=E.forwardRef(({side:e="right",className:t,children:r,...n},a)=>o.jsxs(hN,{children:[o.jsx(ny,{}),o.jsxs(hi,{ref:a,className:se(mN({side:e}),t),...n,children:[r,o.jsxs(mi,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[o.jsx(rl,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ay.displayName=hi.displayName;const gN=E.forwardRef(({className:e,...t},r)=>o.jsx(gi,{ref:r,className:se("text-lg font-semibold text-foreground",e),...t}));gN.displayName=gi.displayName;const vN=E.forwardRef(({className:e,...t},r)=>o.jsx(vi,{ref:r,className:se("text-sm text-muted-foreground",e),...t}));vN.displayName=vi.displayName;const oy=S.createContext(void 0);function yN({children:e,defaultTheme:t="system",storageKey:r="vite-ui-theme",...n}){const[a,i]=S.useState(()=>localStorage.getItem(r)||t);S.useEffect(()=>{const l=window.document.documentElement;if(l.classList.remove("light","dark"),a==="system"){const c=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";l.classList.add(c);return}l.classList.add(a)},[a]);const s={theme:a,setTheme:l=>{localStorage.setItem(r,l),i(l)}};return o.jsx(oy.Provider,{...n,value:s,children:e})}const xN=()=>{const e=S.useContext(oy);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e},iy=S.createContext(null),bN=({children:e})=>{const[t,r]=S.useState(null),[n,a]=S.useState(null),[i,s]=S.useState(null),[l,c]=S.useState(null),[u,d]=S.useState(!0),[f,p]=S.useState(!1),h=S.useCallback((b,N,j)=>{r(b),a(N),s(j),c((j==null?void 0:j.role)||null),d(!1),p(!0)},[]);S.useEffect(()=>{console.log("🔐 AuthProvider - Inicializando...");const b=localStorage.getItem("authToken"),N=localStorage.getItem("userProfile");if(b&&N)try{const j=JSON.parse(N);h({user:j,access_token:b},j,j),console.log("✅ AuthProvider - Sessão restaurada do localStorage")}catch(j){console.error("❌ AuthProvider - Erro ao restaurar sessão:",j),localStorage.removeItem("authToken"),localStorage.removeItem("userProfile"),h(null,null,null)}else h(null,null,null),console.log("🔓 AuthProvider - Nenhuma sessão encontrada")},[h]),S.useEffect(()=>{console.log("🔐 AuthProvider - Estado mudou:",{hasSession:!!t,loading:u,initialized:f,userRole:l,userEmail:n==null?void 0:n.email,timestamp:new Date().toISOString()})},[t,u,f,l,n]);const x={session:t,user:n,userProfile:i,userRole:l,loading:u,initialized:f,signInWithPassword:async(b,N)=>{console.log("🔐 AuthProvider - Realizando login...",{email:b}),d(!0);try{const j=await fetch("http://localhost:3001/api/auth/signin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:b,password:N})}),y=await j.json();if(!j.ok)throw new Error(y.error||"Erro no login");const{token:w,user:_}=y,P={full_name:_.full_name||_.name,role:_.role};localStorage.setItem("authToken",w),localStorage.setItem("userProfile",JSON.stringify(_));const O={user:_,access_token:w};return h(O,_,P),console.log("✅ AuthProvider - Login realizado com sucesso"),{data:{session:O,user:_},error:null,profile:P}}catch(j){return console.error("❌ AuthProvider - Erro no login:",j),h(null,null,null),{data:null,error:{message:j.message},profile:null}}finally{d(!1)}},signUp:async(b,N,j,y)=>{console.log("📝 AuthProvider - Realizando cadastro...",{email:b,fullName:j,role:y}),d(!0);try{const w=await fetch("http://localhost:3001/api/auth/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:b,password:N,fullName:j,role:y||"atendente"})}),_=await w.json();if(!w.ok)throw new Error(_.error||"Erro no cadastro");const{token:P,user:O}=_,k={full_name:O.full_name||O.name,role:O.role};localStorage.setItem("authToken",P),localStorage.setItem("userProfile",JSON.stringify(O));const A={user:O,access_token:P};return h(A,O,k),console.log("✅ AuthProvider - Cadastro realizado com sucesso"),{data:{session:A,user:O},error:null,profile:k}}catch(w){return console.error("❌ AuthProvider - Erro no cadastro:",w),h(null,null,null),{data:null,error:{message:w.message},profile:null}}finally{d(!1)}},signOut:async()=>{console.log("🚪 AuthProvider - Fazendo logout..."),d(!0);try{return localStorage.removeItem("authToken"),localStorage.removeItem("userProfile"),h(null,null,null),console.log("✅ AuthProvider - Logout realizado com sucesso"),{error:null}}catch(b){return console.error("❌ AuthProvider - Erro no logout:",b),h(null,null,null),{error:{message:b.message}}}finally{d(!1)}},isAuthenticated:()=>!!n&&!!t,hasRole:b=>l===b,hasAnyRole:b=>b.includes(l)};return console.log("✅ AuthProvider - Renderização concluída"),o.jsx(iy.Provider,{value:x,children:e})},xi=()=>{const e=S.useContext(iy);if(e===void 0)throw new Error("useAuth deve ser usado dentro de um AuthProvider");return e},wN=1;let rc=0;function jN(){return rc=(rc+1)%Number.MAX_VALUE,rc.toString()}const xt={state:{toasts:[]},listeners:[],getState:()=>xt.state,setState:e=>{typeof e=="function"?xt.state=e(xt.state):xt.state={...xt.state,...e},xt.listeners.forEach(t=>t(xt.state))},subscribe:e=>(xt.listeners.push(e),()=>{xt.listeners=xt.listeners.filter(t=>t!==e)})},NN=({...e})=>{const t=jN(),r=a=>xt.setState(i=>({...i,toasts:i.toasts.map(s=>s.id===t?{...s,...a}:s)})),n=()=>xt.setState(a=>({...a,toasts:a.toasts.filter(i=>i.id!==t)}));return xt.setState(a=>({...a,toasts:[{...e,id:t,dismiss:n},...a.toasts].slice(0,wN)})),{id:t,dismiss:n,update:r}};function ze(){const[e,t]=S.useState(xt.getState());return S.useEffect(()=>xt.subscribe(n=>{t(n)}),[]),S.useEffect(()=>{const r=[];return e.toasts.forEach(n=>{if(n.duration===1/0)return;const a=setTimeout(()=>{n.dismiss()},n.duration||5e3);r.push(a)}),()=>{r.forEach(n=>clearTimeout(n))}},[e.toasts]),{toast:NN,toasts:e.toasts}}const SN=()=>{const e=el(),t=h1();return S.useEffect(()=>{console.log("🧭 ROTA MUDOU:",{pathname:e.pathname,search:e.search,hash:e.hash,state:e.state,navigationType:t,timestamp:new Date().toISOString()}),e.pathname==="/dashboard"?console.log("📊 Navegando para Dashboard - verificar se dados carregam"):e.pathname.startsWith("/pedidos")&&console.log("🛒 Navegando para Pedidos - verificar rate limiting"),e.search&&console.log("🔍 Parâmetros de URL detectados:",new URLSearchParams(e.search))},[e,t]),{location:e,navigationType:t}},_N=()=>{const e=xi(),{session:t,loading:r,userRole:n,user:a,userProfile:i}=e;return S.useEffect(()=>{console.log("🔐 ESTADO DE AUTENTICAÇÃO MUDOU:",{hasSession:!!t,isLoading:r,userRole:n,hasUser:!!a,hasUserProfile:!!i,userEmail:(a==null?void 0:a.email)||"N/A",timestamp:new Date().toISOString()}),r?console.log("⏳ Autenticação carregando..."):t&&a?console.log("✅ Usuário autenticado:",{email:a.email,role:n,profileName:i==null?void 0:i.full_name}):console.log("❌ Usuário não autenticado"),t&&!n&&console.warn("⚠️ PROBLEMA: Sessão existe mas userRole está undefined"),a&&!t&&console.warn("⚠️ PROBLEMA: User existe mas session está undefined")},[t,r,n,a,i]),e},PN=[{href:"/dashboard",icon:Gv,label:"Dashboard",adminOnly:!1,allowedRoles:["admin","atendente","entregador"]},{href:"/produtos",icon:xn,label:"Produtos",adminOnly:!1,allowedRoles:["admin","atendente"]},{href:"/pedidos",icon:Fc,label:"Pedidos",adminOnly:!1,allowedRoles:["admin","atendente"]},{href:"/mesas",icon:Eo,label:"Fechamento de Mesas",adminOnly:!1,allowedRoles:["admin","atendente"]},{href:"/clientes",icon:cn,label:"Clientes",adminOnly:!1,allowedRoles:["admin","atendente"]},{href:"/entregas",icon:wr,label:"Entregas",adminOnly:!1,allowedRoles:["admin","atendente","entregador"]},{href:"/fechamento-caixa",icon:Fr,label:"Fechamento de Caixa",adminOnly:!1,allowedRoles:["admin","atendente"]},{href:"/relatorios",icon:Bv,label:"Relatórios",adminOnly:!0,allowedRoles:["admin"]},{href:"/cupons",icon:zv,label:"Cupons",adminOnly:!0,allowedRoles:["admin"]}],ON=({children:e})=>{console.log("🏗️ Layout - Iniciando renderização");const t=el(),r=Pd(),{theme:n,setTheme:a}=xN(),{session:i,signOut:s,userRole:l,loading:c,user:u,userProfile:d}=xi(),{toast:f}=ze(),p="https://storage.googleapis.com/hostinger-horizons-assets-prod/4ef0826d-37c9-4595-aa25-5fd60b9607f9/3c06c8f178277b565847dec6973b756e.jpg";SN(),_N(),console.log("🏗️ Layout - Estado atual:",{currentPath:t.pathname,hasSession:!!i,userRole:l,authLoading:c,theme:n});const h=()=>{console.log("🎨 Layout - Alternando tema de",n,"para",n==="light"?"dark":"light"),a(n==="light"?"dark":"light")},g=async()=>{console.log("🚪 Layout - Iniciando logout");const{error:b}=await s();b?(console.error("❌ Layout - Erro no logout:",b),f({title:"Erro ao Sair",description:b.message,variant:"destructive"})):(console.log("✅ Layout - Logout realizado com sucesso"),f({title:"Logout Realizado",description:"Você foi desconectado com sucesso."}),r("/login"))},v=b=>{console.log("🔗 Layout - Clique na navegação:",{href:b.href,label:b.label,currentPath:t.pathname,userRole:l,hasPermission:b.allowedRoles.includes(l)})};t.pathname.startsWith("/cupons")||t.pathname.startsWith("/relatorios");const m=()=>(console.log("📋 Layout - Renderizando SidebarContent"),o.jsxs("div",{className:"flex flex-col h-full",children:[o.jsx("div",{className:"p-6 border-b border-border",children:o.jsx(tc,{to:"/dashboard",className:"flex items-center gap-2",onClick:()=>console.log("🏠 Layout - Clique no logo, navegando para dashboard"),children:o.jsx("img",{alt:"Pit Stop Pizzaria Logo",width:"160",height:"40",className:"object-contain",src:p})})}),o.jsx("nav",{className:"flex-1 px-4 py-6 space-y-2",children:PN.map(b=>b.allowedRoles&&b.allowedRoles.includes(l)?o.jsxs(tc,{to:b.href,onClick:()=>v(b),className:`flex items-center px-4 py-3 rounded-lg transition-colors duration-150 ease-in-out group
                  ${t.pathname.startsWith(b.href)?"bg-primary/10 text-primary font-semibold shadow-sm dark:bg-primary/20":"text-muted-foreground hover:bg-muted/50 hover:text-foreground dark:hover:bg-muted/20"}`,children:[o.jsx(b.icon,{className:`w-5 h-5 mr-3 transition-transform duration-200 ease-out group-hover:scale-110 
                  ${t.pathname.startsWith(b.href)?"text-primary":""}`}),b.label]},b.label):(console.log("🚫 Layout - Item de navegação oculto por falta de permissão:",{item:b.label,userRole:l,requiredRoles:b.allowedRoles}),null))}),o.jsxs("div",{className:"p-4 mt-auto border-t border-border",children:[o.jsxs(K,{variant:"ghost",className:"w-full justify-start text-muted-foreground hover:text-foreground",children:[o.jsx(M1,{className:"w-5 h-5 mr-3"}),"Configurações"]}),o.jsxs(K,{variant:"ghost",onClick:h,className:"w-full justify-start text-muted-foreground hover:text-foreground mt-2",children:[n==="light"?o.jsx(T1,{className:"w-5 h-5 mr-3"}):o.jsx(D1,{className:"w-5 h-5 mr-3"}),n==="light"?"Modo Escuro":"Modo Claro"]}),i?o.jsxs(K,{variant:"ghost",onClick:g,className:"flex items-center px-4 py-3 mt-2 w-full justify-start rounded-lg text-muted-foreground hover:bg-muted/50 hover:text-foreground dark:hover:bg-muted/20 group",children:[o.jsx(C1,{className:"w-5 h-5 mr-3 group-hover:scale-110"}),"Sair"]}):o.jsxs(tc,{to:"/login",onClick:()=>console.log("🔑 Layout - Clique no botão de login"),className:"flex items-center px-4 py-3 mt-2 rounded-lg text-muted-foreground hover:bg-muted/50 hover:text-foreground dark:hover:bg-muted/20 group",children:[o.jsx(Rc,{className:"w-5 h-5 mr-3 group-hover:scale-110"}),"Login"]})]})]})),x=t.pathname!=="/login";return console.log("🏗️ Layout - Decisões de renderização:",{showLayoutShell:x,authLoading:c,currentPath:t.pathname}),c&&t.pathname!=="/login"?(console.log("⏳ Layout - Mostrando tela de carregamento de autenticação"),o.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-background to-muted/20 dark:from-slate-900 dark:to-primary/10",children:o.jsx(ce,{className:"h-16 w-16 animate-spin text-primary"})})):(console.log("✅ Layout - Renderização concluída, renderizando layout principal"),o.jsxs("div",{className:"flex h-screen bg-background text-foreground",children:[x&&o.jsx("aside",{className:"hidden lg:block w-72 border-r border-border/60 shadow-md dark:border-border/20",children:o.jsx(m,{})}),o.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[x&&o.jsxs("header",{className:"flex items-center justify-between h-16 px-6 border-b border-border/60 dark:border-border/20 lg:justify-end",children:[o.jsxs(fN,{children:[o.jsx(pN,{asChild:!0,children:o.jsxs(K,{variant:"outline",size:"icon",className:"lg:hidden",onClick:()=>console.log("📱 Layout - Abrindo menu mobile"),children:[o.jsx(Gv,{className:"h-6 w-6"}),o.jsx("span",{className:"sr-only",children:"Abrir menu"})]})}),o.jsx(ay,{side:"left",className:"w-72 p-0",children:o.jsx(m,{})})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("span",{className:"text-sm text-muted-foreground hidden md:inline",children:d!=null&&d.full_name?`Bem-vindo, ${d.full_name.split(" ")[0]}!`:"Bem-vindo!"}),o.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-tr from-primary to-red-400 flex items-center justify-center text-primary-foreground font-semibold",children:d!=null&&d.full_name?d.full_name.charAt(0).toUpperCase():u?u.email.charAt(0).toUpperCase():"U"})]})]}),o.jsx("main",{className:`flex-1 overflow-y-auto ${x?"p-6 md:p-8":""} bg-gradient-to-br from-background to-muted/20 dark:from-background dark:to-slate-900/30`,children:o.jsx("div",{children:e})})]})]}))},ae=E.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:se("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));ae.displayName="Card";const ve=E.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:se("flex flex-col space-y-1.5 p-6",e),...t}));ve.displayName="CardHeader";const me=E.forwardRef(({className:e,...t},r)=>o.jsx("h3",{ref:r,className:se("text-2xl font-semibold leading-none tracking-tight",e),...t}));me.displayName="CardTitle";const We=E.forwardRef(({className:e,...t},r)=>o.jsx("p",{ref:r,className:se("text-sm text-muted-foreground",e),...t}));We.displayName="CardDescription";const ie=E.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:se("p-6 pt-0",e),...t}));ie.displayName="CardContent";const la=E.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:se("flex items-center p-6 pt-0",e),...t}));la.displayName="CardFooter";const AN=({kpiData:e,isLoading:t})=>{const r=[{id:"salesToday",title:"Vendas Hoje",value:R(e.salesToday),rawValue:e.salesToday,icon:j1,color:"text-red-600",bgColor:"bg-gradient-to-br from-red-50 to-red-100 dark:from-red-950/20 dark:to-red-900/20",borderColor:"border-l-red-500"},{id:"newCustomersToday",title:"Novos Clientes Hoje",value:e.newCustomersToday.toString(),rawValue:e.newCustomersToday,icon:cn,color:"text-gray-800 dark:text-gray-200",bgColor:"bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-950/20 dark:to-gray-900/20",borderColor:"border-l-gray-500"},{id:"pizzasSoldToday",title:"Pizzas Vendidas Hoje",value:e.pizzasSoldToday.toString(),rawValue:e.pizzasSoldToday,icon:ln,color:"text-red-700 dark:text-red-300",bgColor:"bg-gradient-to-br from-red-100 to-red-200 dark:from-red-900/30 dark:to-red-800/20",borderColor:"border-l-red-600"},{id:"pendingOrders",title:"Pedidos Pendentes",value:e.pendingOrders.toString(),rawValue:e.pendingOrders,icon:Kv,color:"text-black dark:text-white",bgColor:"bg-gradient-to-br from-black/5 to-black/10 dark:from-black/20 dark:to-black/30",borderColor:"border-l-black"}];return o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:r.map((n,a)=>o.jsx("div",{children:o.jsx(ae,{className:`shadow-xl hover:shadow-2xl transition-all duration-300 border-l-4 ${n.borderColor} ${n.bgColor}`,children:o.jsxs(ie,{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between space-y-0 pb-3",children:[o.jsx(me,{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:n.title}),o.jsx("div",{className:"p-2 rounded-full bg-white/50 dark:bg-black/20",children:o.jsx(n.icon,{className:`h-5 w-5 ${n.color}`})})]}),o.jsxs("div",{className:"space-y-2",children:[t?o.jsx("div",{className:"flex items-center justify-center h-12",children:o.jsx(ce,{className:"h-8 w-8 animate-spin text-red-500"})}):o.jsx("div",{className:`text-3xl font-bold ${n.color}`,children:n.value}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Atualizado agora"}),!t&&n.rawValue>0&&o.jsxs("div",{className:"flex items-center text-xs text-green-600 dark:text-green-400",children:[o.jsx(Gt,{className:"h-3 w-3 mr-1"}),"Ativo"]})]})]})]})})},n.id))})},$t=E.forwardRef(({className:e,...t},r)=>o.jsx("div",{className:"relative w-full overflow-auto",children:o.jsx("table",{ref:r,className:se("w-full caption-bottom text-sm",e),...t})}));$t.displayName="Table";const kt=E.forwardRef(({className:e,...t},r)=>o.jsx("thead",{ref:r,className:se("[&_tr]:border-b",e),...t}));kt.displayName="TableHeader";const Mt=E.forwardRef(({className:e,...t},r)=>o.jsx("tbody",{ref:r,className:se("[&_tr:last-child]:border-0",e),...t}));Mt.displayName="TableBody";const EN=E.forwardRef(({className:e,...t},r)=>o.jsx("tfoot",{ref:r,className:se("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));EN.displayName="TableFooter";const Le=E.forwardRef(({className:e,...t},r)=>o.jsx("tr",{ref:r,className:se("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Le.displayName="TableRow";const te=E.forwardRef(({className:e,...t},r)=>o.jsx("th",{ref:r,className:se("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));te.displayName="TableHead";const J=E.forwardRef(({className:e,...t},r)=>o.jsx("td",{ref:r,className:se("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));J.displayName="TableCell";const En=E.forwardRef(({className:e,...t},r)=>o.jsx("caption",{ref:r,className:se("mt-4 text-sm text-muted-foreground",e),...t}));En.displayName="TableCaption";const sy=[{id:"mussarela",name:"Mussarela"},{id:"calabresa",name:"Calabresa"},{id:"portuguesa",name:"Portuguesa"},{id:"frango_catupiry",name:"Frango com Catupiry"},{id:"quatro_queijos",name:"Quatro Queijos"},{id:"vegetariana",name:"Vegetariana"},{id:"marguerita",name:"Marguerita"},{id:"pepperoni",name:"Pepperoni"}],Co=[{id:"pequena",name:"Pequena (4 fatias)"},{id:"media",name:"Média (6 fatias)"},{id:"grande",name:"Grande (8 fatias)"},{id:"familia",name:"Família (12 fatias)"}],Cr=[{id:"pendente",name:"Pendente",color:"bg-yellow-500"},{id:"em_preparo",name:"Em Preparo",color:"bg-blue-500"},{id:"saiu_para_entrega",name:"Saiu para Entrega",color:"bg-orange-500"},{id:"entregue",name:"Entregue",color:"bg-green-500"},{id:"retirado",name:"Retirado",color:"bg-purple-500"},{id:"fechada",name:"Fechada",color:"bg-gray-500"},{id:"cancelado",name:"Cancelado",color:"bg-red-500"}],pt=[{id:"dinheiro",name:"Dinheiro"},{id:"cartao_credito",name:"Cartão de Crédito"},{id:"cartao_debito",name:"Cartão de Débito"},{id:"pix",name:"PIX"},{id:"vale_refeicao",name:"Vale Refeição"}],CN=({orders:e,isLoading:t})=>{const r=n=>{const a=Cr.find(i=>i.id===n);return a?o.jsx("span",{className:`px-2 py-1 text-xs font-semibold text-white rounded-full ${a.color}`,children:a.name}):null};return o.jsxs(ae,{className:"h-full shadow-lg",children:[o.jsxs(ve,{children:[o.jsx(me,{children:"Vendas Recentes"}),o.jsx(We,{children:"Últimos 5 pedidos registrados."})]}),o.jsx(ie,{children:t?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx(ce,{className:"h-8 w-8 animate-spin text-primary"})}):e.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center",children:[o.jsx(vt,{className:"w-12 h-12 text-muted-foreground mb-2"}),o.jsx("p",{className:"text-muted-foreground",children:"Nenhum pedido recente encontrado."})]}):o.jsxs($t,{children:[o.jsx(kt,{children:o.jsxs(Le,{children:[o.jsx(te,{children:"ID"}),o.jsx(te,{children:"Cliente"}),o.jsx(te,{children:"Status"}),o.jsx(te,{className:"text-right",children:"Total"})]})}),o.jsx(Mt,{children:e.map(n=>{var a;return o.jsxs(Le,{children:[o.jsxs(J,{className:"font-mono text-xs",children:["#",String(n.id).slice(-5)]}),o.jsx(J,{children:n.customerName||((a=n.cliente_id)==null?void 0:a.nome)||"N/A"}),o.jsx(J,{children:r(n.status_pedido||"entregue")}),o.jsx(J,{className:"text-right",children:R(n.total||0)})]},n.id)})})]})})]})},TN=({pizzas:e,isLoading:t})=>o.jsxs(ae,{className:"h-full shadow-lg",children:[o.jsxs(ve,{children:[o.jsx(me,{children:"Pizzas Mais Pedidas"}),o.jsx(We,{children:"Sabores que estão fazendo sucesso."})]}),o.jsx(ie,{children:t?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx(ce,{className:"h-8 w-8 animate-spin text-primary"})}):e.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center",children:[o.jsx(vt,{className:"w-12 h-12 text-muted-foreground mb-2"}),o.jsx("p",{className:"text-muted-foreground",children:"Nenhum dado de pizzas mais pedidas."})]}):o.jsxs($t,{children:[o.jsx(kt,{children:o.jsxs(Le,{children:[o.jsx(te,{children:"Sabor"}),o.jsx(te,{className:"text-right",children:"Qtd. Vendida"})]})}),o.jsx(Mt,{children:e.map((r,n)=>o.jsxs(Le,{children:[o.jsx(J,{children:r.nome||"Sabor Desconhecido"}),o.jsx(J,{className:"text-right",children:r.total_vendido})]},r.nome||n))})]})})]});var $N=Array.isArray,It=$N,kN=typeof Ei=="object"&&Ei&&Ei.Object===Object&&Ei,ly=kN,MN=ly,IN=typeof self=="object"&&self&&self.Object===Object&&self,DN=MN||IN||Function("return this")(),_r=DN,RN=_r,LN=RN.Symbol,bi=LN,mp=bi,cy=Object.prototype,FN=cy.hasOwnProperty,zN=cy.toString,no=mp?mp.toStringTag:void 0;function BN(e){var t=FN.call(e,no),r=e[no];try{e[no]=void 0;var n=!0}catch{}var a=zN.call(e);return n&&(t?e[no]=r:delete e[no]),a}var qN=BN,VN=Object.prototype,UN=VN.toString;function WN(e){return UN.call(e)}var GN=WN,gp=bi,HN=qN,KN=GN,XN="[object Null]",YN="[object Undefined]",vp=gp?gp.toStringTag:void 0;function ZN(e){return e==null?e===void 0?YN:XN:vp&&vp in Object(e)?HN(e):KN(e)}var Wr=ZN;function JN(e){return e!=null&&typeof e=="object"}var Gr=JN,QN=Wr,eS=Gr,tS="[object Symbol]";function rS(e){return typeof e=="symbol"||eS(e)&&QN(e)==tS}var Da=rS,nS=It,aS=Da,oS=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,iS=/^\w*$/;function sS(e,t){if(nS(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||aS(e)?!0:iS.test(e)||!oS.test(e)||t!=null&&e in Object(t)}var $d=sS;function lS(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var un=lS;const Ra=Fe(un);var cS=Wr,uS=un,dS="[object AsyncFunction]",fS="[object Function]",pS="[object GeneratorFunction]",hS="[object Proxy]";function mS(e){if(!uS(e))return!1;var t=cS(e);return t==fS||t==pS||t==dS||t==hS}var kd=mS;const ye=Fe(kd);var gS=_r,vS=gS["__core-js_shared__"],yS=vS,nc=yS,yp=function(){var e=/[^.]+$/.exec(nc&&nc.keys&&nc.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function xS(e){return!!yp&&yp in e}var bS=xS,wS=Function.prototype,jS=wS.toString;function NS(e){if(e!=null){try{return jS.call(e)}catch{}try{return e+""}catch{}}return""}var uy=NS,SS=kd,_S=bS,PS=un,OS=uy,AS=/[\\^$.*+?()[\]{}|]/g,ES=/^\[object .+?Constructor\]$/,CS=Function.prototype,TS=Object.prototype,$S=CS.toString,kS=TS.hasOwnProperty,MS=RegExp("^"+$S.call(kS).replace(AS,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function IS(e){if(!PS(e)||_S(e))return!1;var t=SS(e)?MS:ES;return t.test(OS(e))}var DS=IS;function RS(e,t){return e==null?void 0:e[t]}var LS=RS,FS=DS,zS=LS;function BS(e,t){var r=zS(e,t);return FS(r)?r:void 0}var Ln=BS,qS=Ln,VS=qS(Object,"create"),nl=VS,xp=nl;function US(){this.__data__=xp?xp(null):{},this.size=0}var WS=US;function GS(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var HS=GS,KS=nl,XS="__lodash_hash_undefined__",YS=Object.prototype,ZS=YS.hasOwnProperty;function JS(e){var t=this.__data__;if(KS){var r=t[e];return r===XS?void 0:r}return ZS.call(t,e)?t[e]:void 0}var QS=JS,e_=nl,t_=Object.prototype,r_=t_.hasOwnProperty;function n_(e){var t=this.__data__;return e_?t[e]!==void 0:r_.call(t,e)}var a_=n_,o_=nl,i_="__lodash_hash_undefined__";function s_(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=o_&&t===void 0?i_:t,this}var l_=s_,c_=WS,u_=HS,d_=QS,f_=a_,p_=l_;function La(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}La.prototype.clear=c_;La.prototype.delete=u_;La.prototype.get=d_;La.prototype.has=f_;La.prototype.set=p_;var h_=La;function m_(){this.__data__=[],this.size=0}var g_=m_;function v_(e,t){return e===t||e!==e&&t!==t}var Md=v_,y_=Md;function x_(e,t){for(var r=e.length;r--;)if(y_(e[r][0],t))return r;return-1}var al=x_,b_=al,w_=Array.prototype,j_=w_.splice;function N_(e){var t=this.__data__,r=b_(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():j_.call(t,r,1),--this.size,!0}var S_=N_,__=al;function P_(e){var t=this.__data__,r=__(t,e);return r<0?void 0:t[r][1]}var O_=P_,A_=al;function E_(e){return A_(this.__data__,e)>-1}var C_=E_,T_=al;function $_(e,t){var r=this.__data__,n=T_(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var k_=$_,M_=g_,I_=S_,D_=O_,R_=C_,L_=k_;function Fa(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Fa.prototype.clear=M_;Fa.prototype.delete=I_;Fa.prototype.get=D_;Fa.prototype.has=R_;Fa.prototype.set=L_;var ol=Fa,F_=Ln,z_=_r,B_=F_(z_,"Map"),Id=B_,bp=h_,q_=ol,V_=Id;function U_(){this.size=0,this.__data__={hash:new bp,map:new(V_||q_),string:new bp}}var W_=U_;function G_(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var H_=G_,K_=H_;function X_(e,t){var r=e.__data__;return K_(t)?r[typeof t=="string"?"string":"hash"]:r.map}var il=X_,Y_=il;function Z_(e){var t=Y_(this,e).delete(e);return this.size-=t?1:0,t}var J_=Z_,Q_=il;function eP(e){return Q_(this,e).get(e)}var tP=eP,rP=il;function nP(e){return rP(this,e).has(e)}var aP=nP,oP=il;function iP(e,t){var r=oP(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var sP=iP,lP=W_,cP=J_,uP=tP,dP=aP,fP=sP;function za(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}za.prototype.clear=lP;za.prototype.delete=cP;za.prototype.get=uP;za.prototype.has=dP;za.prototype.set=fP;var Dd=za,dy=Dd,pP="Expected a function";function Rd(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(pP);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var s=e.apply(this,n);return r.cache=i.set(a,s)||i,s};return r.cache=new(Rd.Cache||dy),r}Rd.Cache=dy;var fy=Rd;const hP=Fe(fy);var mP=fy,gP=500;function vP(e){var t=mP(e,function(n){return r.size===gP&&r.clear(),n}),r=t.cache;return t}var yP=vP,xP=yP,bP=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,wP=/\\(\\)?/g,jP=xP(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(bP,function(r,n,a,i){t.push(a?i.replace(wP,"$1"):n||r)}),t}),NP=jP;function SP(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var Ld=SP,wp=bi,_P=Ld,PP=It,OP=Da,AP=1/0,jp=wp?wp.prototype:void 0,Np=jp?jp.toString:void 0;function py(e){if(typeof e=="string")return e;if(PP(e))return _P(e,py)+"";if(OP(e))return Np?Np.call(e):"";var t=e+"";return t=="0"&&1/e==-AP?"-0":t}var EP=py,CP=EP;function TP(e){return e==null?"":CP(e)}var hy=TP,$P=It,kP=$d,MP=NP,IP=hy;function DP(e,t){return $P(e)?e:kP(e,t)?[e]:MP(IP(e))}var my=DP,RP=Da,LP=1/0;function FP(e){if(typeof e=="string"||RP(e))return e;var t=e+"";return t=="0"&&1/e==-LP?"-0":t}var sl=FP,zP=my,BP=sl;function qP(e,t){t=zP(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[BP(t[r++])];return r&&r==n?e:void 0}var Fd=qP,VP=Fd;function UP(e,t,r){var n=e==null?void 0:VP(e,t);return n===void 0?r:n}var gy=UP;const Ht=Fe(gy);function WP(e){return e==null}var GP=WP;const Ne=Fe(GP);var HP=Wr,KP=It,XP=Gr,YP="[object String]";function ZP(e){return typeof e=="string"||!KP(e)&&XP(e)&&HP(e)==YP}var JP=ZP;const Cn=Fe(JP);var vy={exports:{}},$e={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zd=Symbol.for("react.element"),Bd=Symbol.for("react.portal"),ll=Symbol.for("react.fragment"),cl=Symbol.for("react.strict_mode"),ul=Symbol.for("react.profiler"),dl=Symbol.for("react.provider"),fl=Symbol.for("react.context"),QP=Symbol.for("react.server_context"),pl=Symbol.for("react.forward_ref"),hl=Symbol.for("react.suspense"),ml=Symbol.for("react.suspense_list"),gl=Symbol.for("react.memo"),vl=Symbol.for("react.lazy"),eO=Symbol.for("react.offscreen"),yy;yy=Symbol.for("react.module.reference");function Zt(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case zd:switch(e=e.type,e){case ll:case ul:case cl:case hl:case ml:return e;default:switch(e=e&&e.$$typeof,e){case QP:case fl:case pl:case vl:case gl:case dl:return e;default:return t}}case Bd:return t}}}$e.ContextConsumer=fl;$e.ContextProvider=dl;$e.Element=zd;$e.ForwardRef=pl;$e.Fragment=ll;$e.Lazy=vl;$e.Memo=gl;$e.Portal=Bd;$e.Profiler=ul;$e.StrictMode=cl;$e.Suspense=hl;$e.SuspenseList=ml;$e.isAsyncMode=function(){return!1};$e.isConcurrentMode=function(){return!1};$e.isContextConsumer=function(e){return Zt(e)===fl};$e.isContextProvider=function(e){return Zt(e)===dl};$e.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===zd};$e.isForwardRef=function(e){return Zt(e)===pl};$e.isFragment=function(e){return Zt(e)===ll};$e.isLazy=function(e){return Zt(e)===vl};$e.isMemo=function(e){return Zt(e)===gl};$e.isPortal=function(e){return Zt(e)===Bd};$e.isProfiler=function(e){return Zt(e)===ul};$e.isStrictMode=function(e){return Zt(e)===cl};$e.isSuspense=function(e){return Zt(e)===hl};$e.isSuspenseList=function(e){return Zt(e)===ml};$e.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===ll||e===ul||e===cl||e===hl||e===ml||e===eO||typeof e=="object"&&e!==null&&(e.$$typeof===vl||e.$$typeof===gl||e.$$typeof===dl||e.$$typeof===fl||e.$$typeof===pl||e.$$typeof===yy||e.getModuleId!==void 0)};$e.typeOf=Zt;vy.exports=$e;var tO=vy.exports,rO=Wr,nO=Gr,aO="[object Number]";function oO(e){return typeof e=="number"||nO(e)&&rO(e)==aO}var xy=oO;const iO=Fe(xy);var sO=xy;function lO(e){return sO(e)&&e!=+e}var cO=lO;const Ba=Fe(cO);var or=function(t){return t===0?0:t>0?1:-1},wn=function(t){return Cn(t)&&t.indexOf("%")===t.length-1},Z=function(t){return iO(t)&&!Ba(t)},rt=function(t){return Z(t)||Cn(t)},uO=0,qa=function(t){var r=++uO;return"".concat(t||"").concat(r)},Tn=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Z(t)&&!Cn(t))return n;var i;if(wn(t)){var s=t.indexOf("%");i=r*parseFloat(t.slice(0,s))/100}else i=+t;return Ba(i)&&(i=n),a&&i>r&&(i=r),i},en=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},dO=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},ct=function(t,r){return Z(t)&&Z(r)?function(n){return t+n*(r-t)}:function(){return r}};function Qi(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Ht(n,t))===r})}var fO=function(t,r){return Z(t)&&Z(r)?t-r:Cn(t)&&Cn(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function ra(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function qc(e){"@babel/helpers - typeof";return qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qc(e)}var pO=["viewBox","children"],hO=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Sp=["points","pathLength"],ac={svg:pO,polygon:Sp,polyline:Sp},qd=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],es=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(S.isValidElement(t)&&(n=t.props),!Ra(n))return null;var a={};return Object.keys(n).forEach(function(i){qd.includes(i)&&(a[i]=r||function(s){return n[i](n,s)})}),a},mO=function(t,r,n){return function(a){return t(r,n,a),null}},ts=function(t,r,n){if(!Ra(t)||qc(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var s=t[i];qd.includes(i)&&typeof s=="function"&&(a||(a={}),a[i]=mO(s,r,n))}),a},gO=["children"],vO=["children"];function _p(e,t){if(e==null)return{};var r=yO(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function yO(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Vc(e){"@babel/helpers - typeof";return Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vc(e)}var Pp={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Mr=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},Op=null,oc=null,Vd=function e(t){if(t===Op&&Array.isArray(oc))return oc;var r=[];return S.Children.forEach(t,function(n){Ne(n)||(tO.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),oc=r,Op=t,r};function Kt(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return Mr(a)}):n=[Mr(t)],Vd(e).forEach(function(a){var i=Ht(a,"type.displayName")||Ht(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function Ft(e,t){var r=Kt(e,t);return r&&r[0]}var Ap=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!Z(n)||n<=0||!Z(a)||a<=0)},xO=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],bO=function(t){return t&&t.type&&Cn(t.type)&&xO.indexOf(t.type)>=0},by=function(t){return t&&Vc(t)==="object"&&"clipDot"in t},wO=function(t,r,n,a){var i,s=(i=ac==null?void 0:ac[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!ye(t)&&(a&&s.includes(r)||hO.includes(r))||n&&qd.includes(r)},xe=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(S.isValidElement(t)&&(a=t.props),!Ra(a))return null;var i={};return Object.keys(a).forEach(function(s){var l;wO((l=a)===null||l===void 0?void 0:l[s],s,r,n)&&(i[s]=a[s])}),i},Uc=function e(t,r){if(t===r)return!0;var n=S.Children.count(t);if(n!==S.Children.count(r))return!1;if(n===0)return!0;if(n===1)return Ep(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],s=r[a];if(Array.isArray(i)||Array.isArray(s)){if(!e(i,s))return!1}else if(!Ep(i,s))return!1}return!0},Ep=function(t,r){if(Ne(t)&&Ne(r))return!0;if(!Ne(t)&&!Ne(r)){var n=t.props||{},a=n.children,i=_p(n,gO),s=r.props||{},l=s.children,c=_p(s,vO);return a&&l?ra(i,c)&&Uc(a,l):!a&&!l?ra(i,c):!1}return!1},Cp=function(t,r){var n=[],a={};return Vd(t).forEach(function(i,s){if(bO(i))n.push(i);else if(i){var l=Mr(i.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var f=u(i,l,s);n.push(f),a[l]=!0}}}),n},jO=function(t){var r=t&&t.type;return r&&Pp[r]?Pp[r]:null},NO=function(t,r){return Vd(r).indexOf(t)},SO=["children","width","height","viewBox","className","style","title","desc"];function Wc(){return Wc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wc.apply(this,arguments)}function _O(e,t){if(e==null)return{};var r=PO(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function PO(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Gc(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,s=e.style,l=e.title,c=e.desc,u=_O(e,SO),d=a||{width:r,height:n,x:0,y:0},f=_e("recharts-surface",i);return E.createElement("svg",Wc({},xe(u,!0,"svg"),{className:f,width:r,height:n,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),E.createElement("title",null,l),E.createElement("desc",null,c),t)}var OO=["children","className"];function Hc(){return Hc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hc.apply(this,arguments)}function AO(e,t){if(e==null)return{};var r=EO(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function EO(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Re=E.forwardRef(function(e,t){var r=e.children,n=e.className,a=AO(e,OO),i=_e("recharts-layer",n);return E.createElement("g",Hc({className:i},xe(a,!0),{ref:t}),r)}),Ir=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function CO(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}var TO=CO,$O=TO;function kO(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:$O(e,t,r)}var MO=kO,IO="\\ud800-\\udfff",DO="\\u0300-\\u036f",RO="\\ufe20-\\ufe2f",LO="\\u20d0-\\u20ff",FO=DO+RO+LO,zO="\\ufe0e\\ufe0f",BO="\\u200d",qO=RegExp("["+BO+IO+FO+zO+"]");function VO(e){return qO.test(e)}var wy=VO;function UO(e){return e.split("")}var WO=UO,jy="\\ud800-\\udfff",GO="\\u0300-\\u036f",HO="\\ufe20-\\ufe2f",KO="\\u20d0-\\u20ff",XO=GO+HO+KO,YO="\\ufe0e\\ufe0f",ZO="["+jy+"]",Kc="["+XO+"]",Xc="\\ud83c[\\udffb-\\udfff]",JO="(?:"+Kc+"|"+Xc+")",Ny="[^"+jy+"]",Sy="(?:\\ud83c[\\udde6-\\uddff]){2}",_y="[\\ud800-\\udbff][\\udc00-\\udfff]",QO="\\u200d",Py=JO+"?",Oy="["+YO+"]?",eA="(?:"+QO+"(?:"+[Ny,Sy,_y].join("|")+")"+Oy+Py+")*",tA=Oy+Py+eA,rA="(?:"+[Ny+Kc+"?",Kc,Sy,_y,ZO].join("|")+")",nA=RegExp(Xc+"(?="+Xc+")|"+rA+tA,"g");function aA(e){return e.match(nA)||[]}var oA=aA,iA=WO,sA=wy,lA=oA;function cA(e){return sA(e)?lA(e):iA(e)}var uA=cA,dA=MO,fA=wy,pA=uA,hA=hy;function mA(e){return function(t){t=hA(t);var r=fA(t)?pA(t):void 0,n=r?r[0]:t.charAt(0),a=r?dA(r,1).join(""):t.slice(1);return n[e]()+a}}var gA=mA,vA=gA,yA=vA("toUpperCase"),xA=yA;const yl=Fe(xA);function De(e){return function(){return e}}const Ay=Math.cos,rs=Math.sin,fr=Math.sqrt,ns=Math.PI,xl=2*ns,Yc=Math.PI,Zc=2*Yc,gn=1e-6,bA=Zc-gn;function Ey(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function wA(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Ey;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class jA{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Ey:wA(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,s){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+s}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let s=this._x1,l=this._y1,c=n-t,u=a-r,d=s-t,f=l-r,p=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(p>gn)if(!(Math.abs(f*c-u*d)>gn)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let h=n-s,g=a-l,v=c*c+u*u,m=h*h+g*g,x=Math.sqrt(v),b=Math.sqrt(p),N=i*Math.tan((Yc-Math.acos((v+p-m)/(2*x*b)))/2),j=N/b,y=N/x;Math.abs(j-1)>gn&&this._append`L${t+j*d},${r+j*f}`,this._append`A${i},${i},0,0,${+(f*h>d*g)},${this._x1=t+y*c},${this._y1=r+y*u}`}}arc(t,r,n,a,i,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,d=r+c,f=1^s,p=s?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>gn||Math.abs(this._y1-d)>gn)&&this._append`L${u},${d}`,n&&(p<0&&(p=p%Zc+Zc),p>bA?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:p>gn&&this._append`A${n},${n},0,${+(p>=Yc)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function Ud(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new jA(t)}function Wd(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Cy(e){this._context=e}Cy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function bl(e){return new Cy(e)}function Ty(e){return e[0]}function $y(e){return e[1]}function ky(e,t){var r=De(!0),n=null,a=bl,i=null,s=Ud(l);e=typeof e=="function"?e:e===void 0?Ty:De(e),t=typeof t=="function"?t:t===void 0?$y:De(t);function l(c){var u,d=(c=Wd(c)).length,f,p=!1,h;for(n==null&&(i=a(h=s())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===p&&((p=!p)?i.lineStart():i.lineEnd()),p&&i.point(+e(f,u,c),+t(f,u,c));if(h)return i=null,h+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:De(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:De(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:De(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),l):n},l}function Ti(e,t,r){var n=null,a=De(!0),i=null,s=bl,l=null,c=Ud(u);e=typeof e=="function"?e:e===void 0?Ty:De(+e),t=typeof t=="function"?t:De(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?$y:De(+r);function u(f){var p,h,g,v=(f=Wd(f)).length,m,x=!1,b,N=new Array(v),j=new Array(v);for(i==null&&(l=s(b=c())),p=0;p<=v;++p){if(!(p<v&&a(m=f[p],p,f))===x)if(x=!x)h=p,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=p-1;g>=h;--g)l.point(N[g],j[g]);l.lineEnd(),l.areaEnd()}x&&(N[p]=+e(m,p,f),j[p]=+t(m,p,f),l.point(n?+n(m,p,f):N[p],r?+r(m,p,f):j[p]))}if(b)return l=null,b+""||null}function d(){return ky().defined(a).curve(s).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:De(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:De(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:De(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:De(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:De(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:De(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:De(!!f),u):a},u.curve=function(f){return arguments.length?(s=f,i!=null&&(l=s(i)),u):s},u.context=function(f){return arguments.length?(f==null?i=l=null:l=s(i=f),u):i},u}class My{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function NA(e){return new My(e,!0)}function SA(e){return new My(e,!1)}const Gd={draw(e,t){const r=fr(t/ns);e.moveTo(r,0),e.arc(0,0,r,0,xl)}},_A={draw(e,t){const r=fr(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},Iy=fr(1/3),PA=Iy*2,OA={draw(e,t){const r=fr(t/PA),n=r*Iy;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},AA={draw(e,t){const r=fr(t),n=-r/2;e.rect(n,n,r,r)}},EA=.8908130915292852,Dy=rs(ns/10)/rs(7*ns/10),CA=rs(xl/10)*Dy,TA=-Ay(xl/10)*Dy,$A={draw(e,t){const r=fr(t*EA),n=CA*r,a=TA*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const s=xl*i/5,l=Ay(s),c=rs(s);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},ic=fr(3),kA={draw(e,t){const r=-fr(t/(ic*3));e.moveTo(0,r*2),e.lineTo(-ic*r,-r),e.lineTo(ic*r,-r),e.closePath()}},Bt=-.5,qt=fr(3)/2,Jc=1/fr(12),MA=(Jc/2+1)*3,IA={draw(e,t){const r=fr(t/MA),n=r/2,a=r*Jc,i=n,s=r*Jc+r,l=-i,c=s;e.moveTo(n,a),e.lineTo(i,s),e.lineTo(l,c),e.lineTo(Bt*n-qt*a,qt*n+Bt*a),e.lineTo(Bt*i-qt*s,qt*i+Bt*s),e.lineTo(Bt*l-qt*c,qt*l+Bt*c),e.lineTo(Bt*n+qt*a,Bt*a-qt*n),e.lineTo(Bt*i+qt*s,Bt*s-qt*i),e.lineTo(Bt*l+qt*c,Bt*c-qt*l),e.closePath()}};function DA(e,t){let r=null,n=Ud(a);e=typeof e=="function"?e:De(e||Gd),t=typeof t=="function"?t:De(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:De(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:De(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function as(){}function os(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function Ry(e){this._context=e}Ry.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:os(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:os(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function RA(e){return new Ry(e)}function Ly(e){this._context=e}Ly.prototype={areaStart:as,areaEnd:as,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:os(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function LA(e){return new Ly(e)}function Fy(e){this._context=e}Fy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:os(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function FA(e){return new Fy(e)}function zy(e){this._context=e}zy.prototype={areaStart:as,areaEnd:as,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function zA(e){return new zy(e)}function Tp(e){return e<0?-1:1}function $p(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),s=(r-e._y1)/(a||n<0&&-0),l=(i*a+s*n)/(n+a);return(Tp(i)+Tp(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(l))||0}function kp(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function sc(e,t,r){var n=e._x0,a=e._y0,i=e._x1,s=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,a+l*t,i-l,s-l*r,i,s)}function is(e){this._context=e}is.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:sc(this,this._t0,kp(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,sc(this,kp(this,r=$p(this,e,t)),r);break;default:sc(this,this._t0,r=$p(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function By(e){this._context=new qy(e)}(By.prototype=Object.create(is.prototype)).point=function(e,t){is.prototype.point.call(this,t,e)};function qy(e){this._context=e}qy.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function BA(e){return new is(e)}function qA(e){return new By(e)}function Vy(e){this._context=e}Vy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Mp(e),a=Mp(t),i=0,s=1;s<r;++i,++s)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Mp(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),s=new Array(r);for(a[0]=0,i[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,s[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,s[t]-=n*s[t-1];for(a[r-1]=s[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(s[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function VA(e){return new Vy(e)}function wl(e,t){this._context=e,this._t=t}wl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function UA(e){return new wl(e,.5)}function WA(e){return new wl(e,0)}function GA(e){return new wl(e,1)}function ca(e,t){if((s=e.length)>1)for(var r=1,n,a,i=e[t[0]],s,l=i.length;r<s;++r)for(a=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function Qc(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function HA(e,t){return e[t]}function KA(e){const t=[];return t.key=e,t}function XA(){var e=De([]),t=Qc,r=ca,n=HA;function a(i){var s=Array.from(e.apply(this,arguments),KA),l,c=s.length,u=-1,d;for(const f of i)for(l=0,++u;l<c;++l)(s[l][u]=[0,+n(f,s[l].key,u,i)]).data=f;for(l=0,d=Wd(t(s));l<c;++l)s[d[l]].index=l;return r(s,d),s}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:De(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:De(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?Qc:typeof i=="function"?i:De(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??ca,a):r},a}function YA(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,s;a<i;++a){for(s=r=0;r<n;++r)s+=e[r][a][1]||0;if(s)for(r=0;r<n;++r)e[r][a][1]/=s}ca(e,t)}}function ZA(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var s=0,l=0;s<a;++s)l+=e[s][r][1]||0;n[r][1]+=n[r][0]=-l/2}ca(e,t)}}function JA(e,t){if(!(!((s=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,s;n<i;++n){for(var l=0,c=0,u=0;l<s;++l){for(var d=e[t[l]],f=d[n][1]||0,p=d[n-1][1]||0,h=(f-p)/2,g=0;g<l;++g){var v=e[t[g]],m=v[n][1]||0,x=v[n-1][1]||0;h+=m-x}c+=f,u+=h*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,ca(e,t)}}function To(e){"@babel/helpers - typeof";return To=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},To(e)}var QA=["type","size","sizeType"];function eu(){return eu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eu.apply(this,arguments)}function Ip(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Dp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ip(Object(r),!0).forEach(function(n){e2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ip(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function e2(e,t,r){return t=t2(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t2(e){var t=r2(e,"string");return To(t)=="symbol"?t:t+""}function r2(e,t){if(To(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(To(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function n2(e,t){if(e==null)return{};var r=a2(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function a2(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Uy={symbolCircle:Gd,symbolCross:_A,symbolDiamond:OA,symbolSquare:AA,symbolStar:$A,symbolTriangle:kA,symbolWye:IA},o2=Math.PI/180,i2=function(t){var r="symbol".concat(yl(t));return Uy[r]||Gd},s2=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*o2;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},l2=function(t,r){Uy["symbol".concat(yl(t))]=r},Hd=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,s=t.sizeType,l=s===void 0?"area":s,c=n2(t,QA),u=Dp(Dp({},c),{},{type:n,size:i,sizeType:l}),d=function(){var m=i2(n),x=DA().type(m).size(s2(i,l,n));return x()},f=u.className,p=u.cx,h=u.cy,g=xe(u,!0);return p===+p&&h===+h&&i===+i?E.createElement("path",eu({},g,{className:_e("recharts-symbols",f),transform:"translate(".concat(p,", ").concat(h,")"),d:d()})):null};Hd.registerSymbol=l2;function ua(e){"@babel/helpers - typeof";return ua=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ua(e)}function tu(){return tu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tu.apply(this,arguments)}function Rp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function c2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rp(Object(r),!0).forEach(function(n){$o(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rp(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function u2(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lp(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Gy(n.key),n)}}function d2(e,t,r){return t&&Lp(e.prototype,t),r&&Lp(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function f2(e,t,r){return t=ss(t),p2(e,Wy()?Reflect.construct(t,r||[],ss(e).constructor):t.apply(e,r))}function p2(e,t){if(t&&(ua(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h2(e)}function h2(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wy(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Wy=function(){return!!e})()}function ss(e){return ss=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ss(e)}function m2(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ru(e,t)}function ru(e,t){return ru=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ru(e,t)}function $o(e,t,r){return t=Gy(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gy(e){var t=g2(e,"string");return ua(t)=="symbol"?t:t+""}function g2(e,t){if(ua(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ua(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vt=32,Kd=function(e){function t(){return u2(this,t),f2(this,t,arguments)}return m2(t,e),d2(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=Vt/2,s=Vt/6,l=Vt/3,c=n.inactive?a:n.color;if(n.type==="plainline")return E.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:Vt,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return E.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Vt,"M").concat(2*l,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return E.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Vt/8,"h").concat(Vt,"v").concat(Vt*3/4,"h").concat(-Vt,"z"),className:"recharts-legend-icon"});if(E.isValidElement(n.legendIcon)){var u=c2({},n);return delete u.legendIcon,E.cloneElement(n.legendIcon,u)}return E.createElement(Hd,{fill:c,cx:i,cy:i,size:Vt,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,s=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:Vt,height:Vt},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(h,g){var v=h.formatter||c,m=_e($o($o({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",h.inactive));if(h.type==="none")return null;var x=ye(h.value)?null:h.value;Ir(!ye(h.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=h.inactive?u:h.color;return E.createElement("li",tu({className:m,style:f,key:"legend-item-".concat(g)},ts(n.props,h,g)),E.createElement(Gc,{width:s,height:s,viewBox:d,style:p},n.renderIcon(h)),E.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},v?v(x,h,g):x))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,s=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?s:"left"};return E.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(S.PureComponent);$o(Kd,"displayName","Legend");$o(Kd,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var v2=ol;function y2(){this.__data__=new v2,this.size=0}var x2=y2;function b2(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var w2=b2;function j2(e){return this.__data__.get(e)}var N2=j2;function S2(e){return this.__data__.has(e)}var _2=S2,P2=ol,O2=Id,A2=Dd,E2=200;function C2(e,t){var r=this.__data__;if(r instanceof P2){var n=r.__data__;if(!O2||n.length<E2-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new A2(n)}return r.set(e,t),this.size=r.size,this}var T2=C2,$2=ol,k2=x2,M2=w2,I2=N2,D2=_2,R2=T2;function Va(e){var t=this.__data__=new $2(e);this.size=t.size}Va.prototype.clear=k2;Va.prototype.delete=M2;Va.prototype.get=I2;Va.prototype.has=D2;Va.prototype.set=R2;var Hy=Va,L2="__lodash_hash_undefined__";function F2(e){return this.__data__.set(e,L2),this}var z2=F2;function B2(e){return this.__data__.has(e)}var q2=B2,V2=Dd,U2=z2,W2=q2;function ls(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new V2;++t<r;)this.add(e[t])}ls.prototype.add=ls.prototype.push=U2;ls.prototype.has=W2;var Ky=ls;function G2(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var Xy=G2;function H2(e,t){return e.has(t)}var Yy=H2,K2=Ky,X2=Xy,Y2=Yy,Z2=1,J2=2;function Q2(e,t,r,n,a,i){var s=r&Z2,l=e.length,c=t.length;if(l!=c&&!(s&&c>l))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var f=-1,p=!0,h=r&J2?new K2:void 0;for(i.set(e,t),i.set(t,e);++f<l;){var g=e[f],v=t[f];if(n)var m=s?n(v,g,f,t,e,i):n(g,v,f,e,t,i);if(m!==void 0){if(m)continue;p=!1;break}if(h){if(!X2(t,function(x,b){if(!Y2(h,b)&&(g===x||a(g,x,r,n,i)))return h.push(b)})){p=!1;break}}else if(!(g===v||a(g,v,r,n,i))){p=!1;break}}return i.delete(e),i.delete(t),p}var Zy=Q2,eE=_r,tE=eE.Uint8Array,rE=tE;function nE(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var aE=nE;function oE(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var Xd=oE,Fp=bi,zp=rE,iE=Md,sE=Zy,lE=aE,cE=Xd,uE=1,dE=2,fE="[object Boolean]",pE="[object Date]",hE="[object Error]",mE="[object Map]",gE="[object Number]",vE="[object RegExp]",yE="[object Set]",xE="[object String]",bE="[object Symbol]",wE="[object ArrayBuffer]",jE="[object DataView]",Bp=Fp?Fp.prototype:void 0,lc=Bp?Bp.valueOf:void 0;function NE(e,t,r,n,a,i,s){switch(r){case jE:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case wE:return!(e.byteLength!=t.byteLength||!i(new zp(e),new zp(t)));case fE:case pE:case gE:return iE(+e,+t);case hE:return e.name==t.name&&e.message==t.message;case vE:case xE:return e==t+"";case mE:var l=lE;case yE:var c=n&uE;if(l||(l=cE),e.size!=t.size&&!c)return!1;var u=s.get(e);if(u)return u==t;n|=dE,s.set(e,t);var d=sE(l(e),l(t),n,a,i,s);return s.delete(e),d;case bE:if(lc)return lc.call(e)==lc.call(t)}return!1}var SE=NE;function _E(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var Jy=_E,PE=Jy,OE=It;function AE(e,t,r){var n=t(e);return OE(e)?n:PE(n,r(e))}var EE=AE;function CE(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var s=e[r];t(s,r,e)&&(i[a++]=s)}return i}var TE=CE;function $E(){return[]}var kE=$E,ME=TE,IE=kE,DE=Object.prototype,RE=DE.propertyIsEnumerable,qp=Object.getOwnPropertySymbols,LE=qp?function(e){return e==null?[]:(e=Object(e),ME(qp(e),function(t){return RE.call(e,t)}))}:IE,FE=LE;function zE(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var BE=zE,qE=Wr,VE=Gr,UE="[object Arguments]";function WE(e){return VE(e)&&qE(e)==UE}var GE=WE,Vp=GE,HE=Gr,Qy=Object.prototype,KE=Qy.hasOwnProperty,XE=Qy.propertyIsEnumerable,YE=Vp(function(){return arguments}())?Vp:function(e){return HE(e)&&KE.call(e,"callee")&&!XE.call(e,"callee")},Yd=YE,cs={exports:{}};function ZE(){return!1}var JE=ZE;cs.exports;(function(e,t){var r=_r,n=JE,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===a,l=s?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(cs,cs.exports);var ex=cs.exports,QE=9007199254740991,eC=/^(?:0|[1-9]\d*)$/;function tC(e,t){var r=typeof e;return t=t??QE,!!t&&(r=="number"||r!="symbol"&&eC.test(e))&&e>-1&&e%1==0&&e<t}var Zd=tC,rC=9007199254740991;function nC(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=rC}var Jd=nC,aC=Wr,oC=Jd,iC=Gr,sC="[object Arguments]",lC="[object Array]",cC="[object Boolean]",uC="[object Date]",dC="[object Error]",fC="[object Function]",pC="[object Map]",hC="[object Number]",mC="[object Object]",gC="[object RegExp]",vC="[object Set]",yC="[object String]",xC="[object WeakMap]",bC="[object ArrayBuffer]",wC="[object DataView]",jC="[object Float32Array]",NC="[object Float64Array]",SC="[object Int8Array]",_C="[object Int16Array]",PC="[object Int32Array]",OC="[object Uint8Array]",AC="[object Uint8ClampedArray]",EC="[object Uint16Array]",CC="[object Uint32Array]",Ve={};Ve[jC]=Ve[NC]=Ve[SC]=Ve[_C]=Ve[PC]=Ve[OC]=Ve[AC]=Ve[EC]=Ve[CC]=!0;Ve[sC]=Ve[lC]=Ve[bC]=Ve[cC]=Ve[wC]=Ve[uC]=Ve[dC]=Ve[fC]=Ve[pC]=Ve[hC]=Ve[mC]=Ve[gC]=Ve[vC]=Ve[yC]=Ve[xC]=!1;function TC(e){return iC(e)&&oC(e.length)&&!!Ve[aC(e)]}var $C=TC;function kC(e){return function(t){return e(t)}}var tx=kC,us={exports:{}};us.exports;(function(e,t){var r=ly,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,s=i&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}}();e.exports=l})(us,us.exports);var MC=us.exports,IC=$C,DC=tx,Up=MC,Wp=Up&&Up.isTypedArray,RC=Wp?DC(Wp):IC,rx=RC,LC=BE,FC=Yd,zC=It,BC=ex,qC=Zd,VC=rx,UC=Object.prototype,WC=UC.hasOwnProperty;function GC(e,t){var r=zC(e),n=!r&&FC(e),a=!r&&!n&&BC(e),i=!r&&!n&&!a&&VC(e),s=r||n||a||i,l=s?LC(e.length,String):[],c=l.length;for(var u in e)(t||WC.call(e,u))&&!(s&&(u=="length"||a&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||qC(u,c)))&&l.push(u);return l}var HC=GC,KC=Object.prototype;function XC(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||KC;return e===r}var YC=XC;function ZC(e,t){return function(r){return e(t(r))}}var nx=ZC,JC=nx,QC=JC(Object.keys,Object),eT=QC,tT=YC,rT=eT,nT=Object.prototype,aT=nT.hasOwnProperty;function oT(e){if(!tT(e))return rT(e);var t=[];for(var r in Object(e))aT.call(e,r)&&r!="constructor"&&t.push(r);return t}var iT=oT,sT=kd,lT=Jd;function cT(e){return e!=null&&lT(e.length)&&!sT(e)}var wi=cT,uT=HC,dT=iT,fT=wi;function pT(e){return fT(e)?uT(e):dT(e)}var jl=pT,hT=EE,mT=FE,gT=jl;function vT(e){return hT(e,gT,mT)}var yT=vT,Gp=yT,xT=1,bT=Object.prototype,wT=bT.hasOwnProperty;function jT(e,t,r,n,a,i){var s=r&xT,l=Gp(e),c=l.length,u=Gp(t),d=u.length;if(c!=d&&!s)return!1;for(var f=c;f--;){var p=l[f];if(!(s?p in t:wT.call(t,p)))return!1}var h=i.get(e),g=i.get(t);if(h&&g)return h==t&&g==e;var v=!0;i.set(e,t),i.set(t,e);for(var m=s;++f<c;){p=l[f];var x=e[p],b=t[p];if(n)var N=s?n(b,x,p,t,e,i):n(x,b,p,e,t,i);if(!(N===void 0?x===b||a(x,b,r,n,i):N)){v=!1;break}m||(m=p=="constructor")}if(v&&!m){var j=e.constructor,y=t.constructor;j!=y&&"constructor"in e&&"constructor"in t&&!(typeof j=="function"&&j instanceof j&&typeof y=="function"&&y instanceof y)&&(v=!1)}return i.delete(e),i.delete(t),v}var NT=jT,ST=Ln,_T=_r,PT=ST(_T,"DataView"),OT=PT,AT=Ln,ET=_r,CT=AT(ET,"Promise"),TT=CT,$T=Ln,kT=_r,MT=$T(kT,"Set"),ax=MT,IT=Ln,DT=_r,RT=IT(DT,"WeakMap"),LT=RT,nu=OT,au=Id,ou=TT,iu=ax,su=LT,ox=Wr,Ua=uy,Hp="[object Map]",FT="[object Object]",Kp="[object Promise]",Xp="[object Set]",Yp="[object WeakMap]",Zp="[object DataView]",zT=Ua(nu),BT=Ua(au),qT=Ua(ou),VT=Ua(iu),UT=Ua(su),vn=ox;(nu&&vn(new nu(new ArrayBuffer(1)))!=Zp||au&&vn(new au)!=Hp||ou&&vn(ou.resolve())!=Kp||iu&&vn(new iu)!=Xp||su&&vn(new su)!=Yp)&&(vn=function(e){var t=ox(e),r=t==FT?e.constructor:void 0,n=r?Ua(r):"";if(n)switch(n){case zT:return Zp;case BT:return Hp;case qT:return Kp;case VT:return Xp;case UT:return Yp}return t});var WT=vn,cc=Hy,GT=Zy,HT=SE,KT=NT,Jp=WT,Qp=It,eh=ex,XT=rx,YT=1,th="[object Arguments]",rh="[object Array]",$i="[object Object]",ZT=Object.prototype,nh=ZT.hasOwnProperty;function JT(e,t,r,n,a,i){var s=Qp(e),l=Qp(t),c=s?rh:Jp(e),u=l?rh:Jp(t);c=c==th?$i:c,u=u==th?$i:u;var d=c==$i,f=u==$i,p=c==u;if(p&&eh(e)){if(!eh(t))return!1;s=!0,d=!1}if(p&&!d)return i||(i=new cc),s||XT(e)?GT(e,t,r,n,a,i):HT(e,t,c,r,n,a,i);if(!(r&YT)){var h=d&&nh.call(e,"__wrapped__"),g=f&&nh.call(t,"__wrapped__");if(h||g){var v=h?e.value():e,m=g?t.value():t;return i||(i=new cc),a(v,m,r,n,i)}}return p?(i||(i=new cc),KT(e,t,r,n,a,i)):!1}var QT=JT,e$=QT,ah=Gr;function ix(e,t,r,n,a){return e===t?!0:e==null||t==null||!ah(e)&&!ah(t)?e!==e&&t!==t:e$(e,t,r,n,ix,a)}var Qd=ix,t$=Hy,r$=Qd,n$=1,a$=2;function o$(e,t,r,n){var a=r.length,i=a,s=!n;if(e==null)return!i;for(e=Object(e);a--;){var l=r[a];if(s&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<i;){l=r[a];var c=l[0],u=e[c],d=l[1];if(s&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new t$;if(n)var p=n(u,d,c,e,t,f);if(!(p===void 0?r$(d,u,n$|a$,n,f):p))return!1}}return!0}var i$=o$,s$=un;function l$(e){return e===e&&!s$(e)}var sx=l$,c$=sx,u$=jl;function d$(e){for(var t=u$(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,c$(a)]}return t}var f$=d$;function p$(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var lx=p$,h$=i$,m$=f$,g$=lx;function v$(e){var t=m$(e);return t.length==1&&t[0][2]?g$(t[0][0],t[0][1]):function(r){return r===e||h$(r,e,t)}}var y$=v$;function x$(e,t){return e!=null&&t in Object(e)}var b$=x$,w$=my,j$=Yd,N$=It,S$=Zd,_$=Jd,P$=sl;function O$(e,t,r){t=w$(t,e);for(var n=-1,a=t.length,i=!1;++n<a;){var s=P$(t[n]);if(!(i=e!=null&&r(e,s)))break;e=e[s]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&_$(a)&&S$(s,a)&&(N$(e)||j$(e)))}var A$=O$,E$=b$,C$=A$;function T$(e,t){return e!=null&&C$(e,t,E$)}var $$=T$,k$=Qd,M$=gy,I$=$$,D$=$d,R$=sx,L$=lx,F$=sl,z$=1,B$=2;function q$(e,t){return D$(e)&&R$(t)?L$(F$(e),t):function(r){var n=M$(r,e);return n===void 0&&n===t?I$(r,e):k$(t,n,z$|B$)}}var V$=q$;function U$(e){return e}var Wa=U$;function W$(e){return function(t){return t==null?void 0:t[e]}}var G$=W$,H$=Fd;function K$(e){return function(t){return H$(t,e)}}var X$=K$,Y$=G$,Z$=X$,J$=$d,Q$=sl;function ek(e){return J$(e)?Y$(Q$(e)):Z$(e)}var tk=ek,rk=y$,nk=V$,ak=Wa,ok=It,ik=tk;function sk(e){return typeof e=="function"?e:e==null?ak:typeof e=="object"?ok(e)?nk(e[0],e[1]):rk(e):ik(e)}var dn=sk;function lk(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var cx=lk;function ck(e){return e!==e}var uk=ck;function dk(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var fk=dk,pk=cx,hk=uk,mk=fk;function gk(e,t,r){return t===t?mk(e,t,r):pk(e,hk,r)}var vk=gk,yk=vk;function xk(e,t){var r=e==null?0:e.length;return!!r&&yk(e,t,0)>-1}var bk=xk;function wk(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var jk=wk;function Nk(){}var Sk=Nk,uc=ax,_k=Sk,Pk=Xd,Ok=1/0,Ak=uc&&1/Pk(new uc([,-0]))[1]==Ok?function(e){return new uc(e)}:_k,Ek=Ak,Ck=Ky,Tk=bk,$k=jk,kk=Yy,Mk=Ek,Ik=Xd,Dk=200;function Rk(e,t,r){var n=-1,a=Tk,i=e.length,s=!0,l=[],c=l;if(r)s=!1,a=$k;else if(i>=Dk){var u=t?null:Mk(e);if(u)return Ik(u);s=!1,a=kk,c=new Ck}else c=t?[]:l;e:for(;++n<i;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,s&&f===f){for(var p=c.length;p--;)if(c[p]===f)continue e;t&&c.push(f),l.push(d)}else a(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var Lk=Rk,Fk=dn,zk=Lk;function Bk(e,t){return e&&e.length?zk(e,Fk(t)):[]}var qk=Bk;const oh=Fe(qk);function ux(e,t,r){return t===!0?oh(e,r):ye(t)?oh(e,t):e}function da(e){"@babel/helpers - typeof";return da=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},da(e)}var Vk=["ref"];function ih(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ar(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ih(Object(r),!0).forEach(function(n){Nl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ih(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Uk(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sh(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,fx(n.key),n)}}function Wk(e,t,r){return t&&sh(e.prototype,t),r&&sh(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Gk(e,t,r){return t=ds(t),Hk(e,dx()?Reflect.construct(t,r||[],ds(e).constructor):t.apply(e,r))}function Hk(e,t){if(t&&(da(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kk(e)}function Kk(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dx(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dx=function(){return!!e})()}function ds(e){return ds=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ds(e)}function Xk(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lu(e,t)}function lu(e,t){return lu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},lu(e,t)}function Nl(e,t,r){return t=fx(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fx(e){var t=Yk(e,"string");return da(t)=="symbol"?t:t+""}function Yk(e,t){if(da(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(da(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zk(e,t){if(e==null)return{};var r=Jk(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Jk(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Qk(e){return e.value}function eM(e,t){if(E.isValidElement(e))return E.cloneElement(e,t);if(typeof e=="function")return E.createElement(e,t);t.ref;var r=Zk(t,Vk);return E.createElement(Kd,r)}var lh=1,gr=function(e){function t(){var r;Uk(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Gk(this,t,[].concat(a)),Nl(r,"lastBoundingBox",{width:-1,height:-1}),r}return Xk(t,e),Wk(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>lh||Math.abs(a.height-this.lastBoundingBox.height)>lh)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ar({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,s=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,f,p;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&i==="vertical"){var h=this.getBBoxSnapshot();f={left:((u||0)-h.width)/2}}else f=s==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var g=this.getBBoxSnapshot();p={top:((d||0)-g.height)/2}}else p=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Ar(Ar({},f),p)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,s=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=Ar(Ar({position:"absolute",width:s||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return E.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(h){n.wrapperNode=h}},eM(i,Ar(Ar({},this.props),{},{payload:ux(d,u,Qk)})))}}],[{key:"getWithHeight",value:function(n,a){var i=Ar(Ar({},this.defaultProps),n.props),s=i.layout;return s==="vertical"&&Z(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||a}:null}}])}(S.PureComponent);Nl(gr,"displayName","Legend");Nl(gr,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var ch=bi,tM=Yd,rM=It,uh=ch?ch.isConcatSpreadable:void 0;function nM(e){return rM(e)||tM(e)||!!(uh&&e&&e[uh])}var aM=nM,oM=Jy,iM=aM;function px(e,t,r,n,a){var i=-1,s=e.length;for(r||(r=iM),a||(a=[]);++i<s;){var l=e[i];t>0&&r(l)?t>1?px(l,t-1,r,n,a):oM(a,l):n||(a[a.length]=l)}return a}var hx=px;function sM(e){return function(t,r,n){for(var a=-1,i=Object(t),s=n(t),l=s.length;l--;){var c=s[e?l:++a];if(r(i[c],c,i)===!1)break}return t}}var lM=sM,cM=lM,uM=cM(),dM=uM,fM=dM,pM=jl;function hM(e,t){return e&&fM(e,t,pM)}var mx=hM,mM=wi;function gM(e,t){return function(r,n){if(r==null)return r;if(!mM(r))return e(r,n);for(var a=r.length,i=t?a:-1,s=Object(r);(t?i--:++i<a)&&n(s[i],i,s)!==!1;);return r}}var vM=gM,yM=mx,xM=vM,bM=xM(yM),ef=bM,wM=ef,jM=wi;function NM(e,t){var r=-1,n=jM(e)?Array(e.length):[];return wM(e,function(a,i,s){n[++r]=t(a,i,s)}),n}var gx=NM;function SM(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var _M=SM,dh=Da;function PM(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,i=dh(e),s=t!==void 0,l=t===null,c=t===t,u=dh(t);if(!l&&!u&&!i&&e>t||i&&s&&c&&!l&&!u||n&&s&&c||!r&&c||!a)return 1;if(!n&&!i&&!u&&e<t||u&&r&&a&&!n&&!i||l&&r&&a||!s&&a||!c)return-1}return 0}var OM=PM,AM=OM;function EM(e,t,r){for(var n=-1,a=e.criteria,i=t.criteria,s=a.length,l=r.length;++n<s;){var c=AM(a[n],i[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var CM=EM,dc=Ld,TM=Fd,$M=dn,kM=gx,MM=_M,IM=tx,DM=CM,RM=Wa,LM=It;function FM(e,t,r){t.length?t=dc(t,function(i){return LM(i)?function(s){return TM(s,i.length===1?i[0]:i)}:i}):t=[RM];var n=-1;t=dc(t,IM($M));var a=kM(e,function(i,s,l){var c=dc(t,function(u){return u(i)});return{criteria:c,index:++n,value:i}});return MM(a,function(i,s){return DM(i,s,r)})}var zM=FM;function BM(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var qM=BM,VM=qM,fh=Math.max;function UM(e,t,r){return t=fh(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=fh(n.length-t,0),s=Array(i);++a<i;)s[a]=n[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=n[a];return l[t]=r(s),VM(e,this,l)}}var WM=UM;function GM(e){return function(){return e}}var HM=GM,KM=Ln,XM=function(){try{var e=KM(Object,"defineProperty");return e({},"",{}),e}catch{}}(),vx=XM,YM=HM,ph=vx,ZM=Wa,JM=ph?function(e,t){return ph(e,"toString",{configurable:!0,enumerable:!1,value:YM(t),writable:!0})}:ZM,QM=JM,eI=800,tI=16,rI=Date.now;function nI(e){var t=0,r=0;return function(){var n=rI(),a=tI-(n-r);if(r=n,a>0){if(++t>=eI)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var aI=nI,oI=QM,iI=aI,sI=iI(oI),lI=sI,cI=Wa,uI=WM,dI=lI;function fI(e,t){return dI(uI(e,t,cI),e+"")}var pI=fI,hI=Md,mI=wi,gI=Zd,vI=un;function yI(e,t,r){if(!vI(r))return!1;var n=typeof t;return(n=="number"?mI(r)&&gI(t,r.length):n=="string"&&t in r)?hI(r[t],e):!1}var Sl=yI,xI=hx,bI=zM,wI=pI,hh=Sl,jI=wI(function(e,t){if(e==null)return[];var r=t.length;return r>1&&hh(e,t[0],t[1])?t=[]:r>2&&hh(t[0],t[1],t[2])&&(t=[t[0]]),bI(e,xI(t,1),[])}),NI=jI;const tf=Fe(NI);function ko(e){"@babel/helpers - typeof";return ko=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ko(e)}function cu(){return cu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cu.apply(this,arguments)}function SI(e,t){return AI(e)||OI(e,t)||PI(e,t)||_I()}function _I(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PI(e,t){if(e){if(typeof e=="string")return mh(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mh(e,t)}}function mh(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function OI(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function AI(e){if(Array.isArray(e))return e}function gh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gh(Object(r),!0).forEach(function(n){EI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gh(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EI(e,t,r){return t=CI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CI(e){var t=TI(e,"string");return ko(t)=="symbol"?t:t+""}function TI(e,t){if(ko(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ko(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $I(e){return Array.isArray(e)&&rt(e[0])&&rt(e[1])?e.join(" ~ "):e}var kI=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,s=t.itemStyle,l=s===void 0?{}:s,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,p=t.itemSorter,h=t.wrapperClassName,g=t.labelClassName,v=t.label,m=t.labelFormatter,x=t.accessibilityLayer,b=x===void 0?!1:x,N=function(){if(d&&d.length){var T={padding:0,margin:0},z=(p?tf(d,p):d).map(function($,M){if($.type==="none")return null;var L=fc({display:"block",paddingTop:4,paddingBottom:4,color:$.color||"#000"},l),V=$.formatter||f||$I,H=$.value,C=$.name,X=H,I=C;if(V&&X!=null&&I!=null){var W=V(H,C,$,M,d);if(Array.isArray(W)){var B=SI(W,2);X=B[0],I=B[1]}else X=W}return E.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(M),style:L},rt(I)?E.createElement("span",{className:"recharts-tooltip-item-name"},I):null,rt(I)?E.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,E.createElement("span",{className:"recharts-tooltip-item-value"},X),E.createElement("span",{className:"recharts-tooltip-item-unit"},$.unit||""))});return E.createElement("ul",{className:"recharts-tooltip-item-list",style:T},z)}return null},j=fc({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),y=fc({margin:0},u),w=!Ne(v),_=w?v:"",P=_e("recharts-default-tooltip",h),O=_e("recharts-tooltip-label",g);w&&m&&d!==void 0&&d!==null&&(_=m(v,d));var k=b?{role:"status","aria-live":"assertive"}:{};return E.createElement("div",cu({className:P,style:j},k),E.createElement("p",{className:O,style:y},E.isValidElement(_)?_:"".concat(_)),N())};function Mo(e){"@babel/helpers - typeof";return Mo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mo(e)}function ki(e,t,r){return t=MI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MI(e){var t=II(e,"string");return Mo(t)=="symbol"?t:t+""}function II(e,t){if(Mo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Mo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ao="recharts-tooltip-wrapper",DI={visibility:"hidden"};function RI(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return _e(ao,ki(ki(ki(ki({},"".concat(ao,"-right"),Z(r)&&t&&Z(t.x)&&r>=t.x),"".concat(ao,"-left"),Z(r)&&t&&Z(t.x)&&r<t.x),"".concat(ao,"-bottom"),Z(n)&&t&&Z(t.y)&&n>=t.y),"".concat(ao,"-top"),Z(n)&&t&&Z(t.y)&&n<t.y))}function vh(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,s=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&Z(i[n]))return i[n];var d=r[n]-l-a,f=r[n]+a;if(t[n])return s[n]?d:f;if(s[n]){var p=d,h=c[n];return p<h?Math.max(f,c[n]):Math.max(d,c[n])}var g=f+l,v=c[n]+u;return g>v?Math.max(d,c[n]):Math.max(f,c[n])}function LI(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function FI(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,s=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return s.height>0&&s.width>0&&r?(d=vh({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),f=vh({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),u=LI({translateX:d,translateY:f,useTranslate3d:l})):u=DI,{cssProperties:u,cssClasses:RI({translateX:d,translateY:f,coordinate:r})}}function fa(e){"@babel/helpers - typeof";return fa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fa(e)}function yh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yh(Object(r),!0).forEach(function(n){du(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yh(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bh(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,xx(n.key),n)}}function BI(e,t,r){return t&&bh(e.prototype,t),r&&bh(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function qI(e,t,r){return t=fs(t),VI(e,yx()?Reflect.construct(t,r||[],fs(e).constructor):t.apply(e,r))}function VI(e,t){if(t&&(fa(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UI(e)}function UI(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yx(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yx=function(){return!!e})()}function fs(e){return fs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fs(e)}function WI(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uu(e,t)}function uu(e,t){return uu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},uu(e,t)}function du(e,t,r){return t=xx(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xx(e){var t=GI(e,"string");return fa(t)=="symbol"?t:t+""}function GI(e,t){if(fa(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(fa(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wh=1,HI=function(e){function t(){var r;zI(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=qI(this,t,[].concat(a)),du(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),du(r,"handleKeyDown",function(s){if(s.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return WI(t,e),BI(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>wh||Math.abs(n.height-this.state.lastBoundingBox.height)>wh)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,p=a.isAnimationActive,h=a.offset,g=a.position,v=a.reverseDirection,m=a.useTranslate3d,x=a.viewBox,b=a.wrapperStyle,N=FI({allowEscapeViewBox:s,coordinate:d,offsetTopLeft:h,position:g,reverseDirection:v,tooltipBox:this.state.lastBoundingBox,useTranslate3d:m,viewBox:x}),j=N.cssClasses,y=N.cssProperties,w=xh(xh({transition:p&&i?"transform ".concat(l,"ms ").concat(c):void 0},y),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},b);return E.createElement("div",{tabIndex:-1,className:j,style:w,ref:function(P){n.wrapperNode=P}},u)}}])}(S.PureComponent),KI=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},vr={isSsr:KI(),get:function(t){return vr[t]},set:function(t,r){if(typeof t=="string")vr[t]=r;else{var n=Object.keys(t);n&&n.length&&n.forEach(function(a){vr[a]=t[a]})}}};function pa(e){"@babel/helpers - typeof";return pa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pa(e)}function jh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Nh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jh(Object(r),!0).forEach(function(n){rf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jh(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sh(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wx(n.key),n)}}function YI(e,t,r){return t&&Sh(e.prototype,t),r&&Sh(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZI(e,t,r){return t=ps(t),JI(e,bx()?Reflect.construct(t,r||[],ps(e).constructor):t.apply(e,r))}function JI(e,t){if(t&&(pa(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QI(e)}function QI(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bx(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bx=function(){return!!e})()}function ps(e){return ps=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ps(e)}function eD(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fu(e,t)}function fu(e,t){return fu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},fu(e,t)}function rf(e,t,r){return t=wx(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wx(e){var t=tD(e,"string");return pa(t)=="symbol"?t:t+""}function tD(e,t){if(pa(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(pa(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rD(e){return e.dataKey}function nD(e,t){return E.isValidElement(e)?E.cloneElement(e,t):typeof e=="function"?E.createElement(e,t):E.createElement(kI,t)}var bt=function(e){function t(){return XI(this,t),ZI(this,t,arguments)}return eD(t,e),YI(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,p=a.isAnimationActive,h=a.offset,g=a.payload,v=a.payloadUniqBy,m=a.position,x=a.reverseDirection,b=a.useTranslate3d,N=a.viewBox,j=a.wrapperStyle,y=g??[];f&&y.length&&(y=ux(g.filter(function(_){return _.value!=null&&(_.hide!==!0||n.props.includeHidden)}),v,rD));var w=y.length>0;return E.createElement(HI,{allowEscapeViewBox:s,animationDuration:l,animationEasing:c,isAnimationActive:p,active:i,coordinate:d,hasPayload:w,offset:h,position:m,reverseDirection:x,useTranslate3d:b,viewBox:N,wrapperStyle:j},nD(u,Nh(Nh({},this.props),{},{payload:y})))}}])}(S.PureComponent);rf(bt,"displayName","Tooltip");rf(bt,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!vr.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var aD=_r,oD=function(){return aD.Date.now()},iD=oD,sD=/\s/;function lD(e){for(var t=e.length;t--&&sD.test(e.charAt(t)););return t}var cD=lD,uD=cD,dD=/^\s+/;function fD(e){return e&&e.slice(0,uD(e)+1).replace(dD,"")}var pD=fD,hD=pD,_h=un,mD=Da,Ph=0/0,gD=/^[-+]0x[0-9a-f]+$/i,vD=/^0b[01]+$/i,yD=/^0o[0-7]+$/i,xD=parseInt;function bD(e){if(typeof e=="number")return e;if(mD(e))return Ph;if(_h(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=_h(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=hD(e);var r=vD.test(e);return r||yD.test(e)?xD(e.slice(2),r?2:8):gD.test(e)?Ph:+e}var jx=bD,wD=un,pc=iD,Oh=jx,jD="Expected a function",ND=Math.max,SD=Math.min;function _D(e,t,r){var n,a,i,s,l,c,u=0,d=!1,f=!1,p=!0;if(typeof e!="function")throw new TypeError(jD);t=Oh(t)||0,wD(r)&&(d=!!r.leading,f="maxWait"in r,i=f?ND(Oh(r.maxWait)||0,t):i,p="trailing"in r?!!r.trailing:p);function h(w){var _=n,P=a;return n=a=void 0,u=w,s=e.apply(P,_),s}function g(w){return u=w,l=setTimeout(x,t),d?h(w):s}function v(w){var _=w-c,P=w-u,O=t-_;return f?SD(O,i-P):O}function m(w){var _=w-c,P=w-u;return c===void 0||_>=t||_<0||f&&P>=i}function x(){var w=pc();if(m(w))return b(w);l=setTimeout(x,v(w))}function b(w){return l=void 0,p&&n?h(w):(n=a=void 0,s)}function N(){l!==void 0&&clearTimeout(l),u=0,n=c=a=l=void 0}function j(){return l===void 0?s:b(pc())}function y(){var w=pc(),_=m(w);if(n=arguments,a=this,c=w,_){if(l===void 0)return g(c);if(f)return clearTimeout(l),l=setTimeout(x,t),h(c)}return l===void 0&&(l=setTimeout(x,t)),s}return y.cancel=N,y.flush=j,y}var PD=_D,OD=PD,AD=un,ED="Expected a function";function CD(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(ED);return AD(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),OD(e,t,{leading:n,maxWait:t,trailing:a})}var TD=CD;const Nx=Fe(TD);function Io(e){"@babel/helpers - typeof";return Io=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Io(e)}function Ah(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Mi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ah(Object(r),!0).forEach(function(n){$D(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ah(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $D(e,t,r){return t=kD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kD(e){var t=MD(e,"string");return Io(t)=="symbol"?t:t+""}function MD(e,t){if(Io(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Io(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ID(e,t){return FD(e)||LD(e,t)||RD(e,t)||DD()}function DD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RD(e,t){if(e){if(typeof e=="string")return Eh(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Eh(e,t)}}function Eh(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function LD(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function FD(e){if(Array.isArray(e))return e}var Ga=S.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,s=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,p=e.maxHeight,h=e.children,g=e.debounce,v=g===void 0?0:g,m=e.id,x=e.className,b=e.onResize,N=e.style,j=N===void 0?{}:N,y=S.useRef(null),w=S.useRef();w.current=b,S.useImperativeHandle(t,function(){return Object.defineProperty(y.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),y.current},configurable:!0})});var _=S.useState({containerWidth:a.width,containerHeight:a.height}),P=ID(_,2),O=P[0],k=P[1],A=S.useCallback(function(z,$){k(function(M){var L=Math.round(z),V=Math.round($);return M.containerWidth===L&&M.containerHeight===V?M:{containerWidth:L,containerHeight:V}})},[]);S.useEffect(function(){var z=function(C){var X,I=C[0].contentRect,W=I.width,B=I.height;A(W,B),(X=w.current)===null||X===void 0||X.call(w,W,B)};v>0&&(z=Nx(z,v,{trailing:!0,leading:!1}));var $=new ResizeObserver(z),M=y.current.getBoundingClientRect(),L=M.width,V=M.height;return A(L,V),$.observe(y.current),function(){$.disconnect()}},[A,v]);var T=S.useMemo(function(){var z=O.containerWidth,$=O.containerHeight;if(z<0||$<0)return null;Ir(wn(s)||wn(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,c),Ir(!r||r>0,"The aspect(%s) must be greater than zero.",r);var M=wn(s)?z:s,L=wn(c)?$:c;r&&r>0&&(M?L=M/r:L&&(M=L*r),p&&L>p&&(L=p)),Ir(M>0||L>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,M,L,s,c,d,f,r);var V=!Array.isArray(h)&&Mr(h.type).endsWith("Chart");return E.Children.map(h,function(H){return E.isValidElement(H)?S.cloneElement(H,Mi({width:M,height:L},V?{style:Mi({height:"100%",width:"100%",maxHeight:L,maxWidth:M},H.props.style)}:{})):H})},[r,h,c,p,f,d,O,s]);return E.createElement("div",{id:m?"".concat(m):void 0,className:_e("recharts-responsive-container",x),style:Mi(Mi({},j),{},{width:s,height:c,minWidth:d,minHeight:f,maxHeight:p}),ref:y},T)}),nf=function(t){return null};nf.displayName="Cell";function Do(e){"@babel/helpers - typeof";return Do=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Do(e)}function Ch(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ch(Object(r),!0).forEach(function(n){zD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ch(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zD(e,t,r){return t=BD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BD(e){var t=qD(e,"string");return Do(t)=="symbol"?t:t+""}function qD(e,t){if(Do(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Do(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wn={widthCache:{},cacheCount:0},VD=2e3,UD={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Th="recharts_measurement_span";function WD(e){var t=pu({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var bo=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||vr.isSsr)return{width:0,height:0};var n=WD(r),a=JSON.stringify({text:t,copyStyle:n});if(Wn.widthCache[a])return Wn.widthCache[a];try{var i=document.getElementById(Th);i||(i=document.createElement("span"),i.setAttribute("id",Th),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var s=pu(pu({},UD),n);Object.assign(i.style,s),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return Wn.widthCache[a]=c,++Wn.cacheCount>VD&&(Wn.cacheCount=0,Wn.widthCache={}),c}catch{return{width:0,height:0}}},GD=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Ro(e){"@babel/helpers - typeof";return Ro=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ro(e)}function hs(e,t){return YD(e)||XD(e,t)||KD(e,t)||HD()}function HD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KD(e,t){if(e){if(typeof e=="string")return $h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $h(e,t)}}function $h(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function XD(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function YD(e){if(Array.isArray(e))return e}function ZD(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kh(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,QD(n.key),n)}}function JD(e,t,r){return t&&kh(e.prototype,t),r&&kh(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function QD(e){var t=eR(e,"string");return Ro(t)=="symbol"?t:t+""}function eR(e,t){if(Ro(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ro(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mh=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Ih=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,tR=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,rR=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Sx={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},nR=Object.keys(Sx),Yn="NaN";function aR(e,t){return e*Sx[t]}var Ii=function(){function e(t,r){ZD(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!tR.test(r)&&(this.num=NaN,this.unit=""),nR.includes(r)&&(this.num=aR(t,r),this.unit="px")}return JD(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=rR.exec(r))!==null&&n!==void 0?n:[],i=hs(a,3),s=i[1],l=i[2];return new e(parseFloat(s),l??"")}}])}();function _x(e){if(e.includes(Yn))return Yn;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=Mh.exec(t))!==null&&r!==void 0?r:[],a=hs(n,4),i=a[1],s=a[2],l=a[3],c=Ii.parse(i??""),u=Ii.parse(l??""),d=s==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return Yn;t=t.replace(Mh,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,p=(f=Ih.exec(t))!==null&&f!==void 0?f:[],h=hs(p,4),g=h[1],v=h[2],m=h[3],x=Ii.parse(g??""),b=Ii.parse(m??""),N=v==="+"?x.add(b):x.subtract(b);if(N.isNaN())return Yn;t=t.replace(Ih,N.toString())}return t}var Dh=/\(([^()]*)\)/;function oR(e){for(var t=e;t.includes("(");){var r=Dh.exec(t),n=hs(r,2),a=n[1];t=t.replace(Dh,_x(a))}return t}function iR(e){var t=e.replace(/\s+/g,"");return t=oR(t),t=_x(t),t}function sR(e){try{return iR(e)}catch{return Yn}}function hc(e){var t=sR(e.slice(5,-1));return t===Yn?"":t}var lR=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],cR=["dx","dy","angle","className","breakAll"];function hu(){return hu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hu.apply(this,arguments)}function Rh(e,t){if(e==null)return{};var r=uR(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function uR(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Lh(e,t){return hR(e)||pR(e,t)||fR(e,t)||dR()}function dR(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fR(e,t){if(e){if(typeof e=="string")return Fh(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Fh(e,t)}}function Fh(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function pR(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function hR(e){if(Array.isArray(e))return e}var Px=/[ \f\n\r\t\v\u2028\u2029]+/,Ox=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];Ne(r)||(n?i=r.toString().split(""):i=r.toString().split(Px));var s=i.map(function(c){return{word:c,width:bo(c,a).width}}),l=n?0:bo(" ",a).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}},mR=function(t,r,n,a,i){var s=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=Z(s),f=l,p=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return M.reduce(function(L,V){var H=V.word,C=V.width,X=L[L.length-1];if(X&&(a==null||i||X.width+C+n<Number(a)))X.words.push(H),X.width+=C+n;else{var I={words:[H],width:C};L.push(I)}return L},[])},h=p(r),g=function(M){return M.reduce(function(L,V){return L.width>V.width?L:V})};if(!d)return h;for(var v="…",m=function(M){var L=f.slice(0,M),V=Ox({breakAll:u,style:c,children:L+v}).wordsWithComputedWidth,H=p(V),C=H.length>s||g(H).width>Number(a);return[C,H]},x=0,b=f.length-1,N=0,j;x<=b&&N<=f.length-1;){var y=Math.floor((x+b)/2),w=y-1,_=m(w),P=Lh(_,2),O=P[0],k=P[1],A=m(y),T=Lh(A,1),z=T[0];if(!O&&!z&&(x=y+1),O&&z&&(b=y-1),!O&&z){j=k;break}N++}return j||h},zh=function(t){var r=Ne(t)?[]:t.toString().split(Px);return[{words:r}]},gR=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,s=t.breakAll,l=t.maxLines;if((r||n)&&!vr.isSsr){var c,u,d=Ox({breakAll:s,children:a,style:i});if(d){var f=d.wordsWithComputedWidth,p=d.spaceWidth;c=f,u=p}else return zh(a);return mR({breakAll:s,children:a,maxLines:l,style:i},c,u,r,n)}return zh(a)},Bh="#808080",ms=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,s=t.lineHeight,l=s===void 0?"1em":s,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,p=t.textAnchor,h=p===void 0?"start":p,g=t.verticalAnchor,v=g===void 0?"end":g,m=t.fill,x=m===void 0?Bh:m,b=Rh(t,lR),N=S.useMemo(function(){return gR({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:f,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,f,b.style,b.width]),j=b.dx,y=b.dy,w=b.angle,_=b.className,P=b.breakAll,O=Rh(b,cR);if(!rt(n)||!rt(i))return null;var k=n+(Z(j)?j:0),A=i+(Z(y)?y:0),T;switch(v){case"start":T=hc("calc(".concat(u,")"));break;case"middle":T=hc("calc(".concat((N.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:T=hc("calc(".concat(N.length-1," * -").concat(l,")"));break}var z=[];if(f){var $=N[0].width,M=b.width;z.push("scale(".concat((Z(M)?M/$:1)/$,")"))}return w&&z.push("rotate(".concat(w,", ").concat(k,", ").concat(A,")")),z.length&&(O.transform=z.join(" ")),E.createElement("text",hu({},xe(O,!0),{x:k,y:A,className:_e("recharts-text",_),textAnchor:h,fill:x.includes("url")?Bh:x}),N.map(function(L,V){var H=L.words.join(P?"":" ");return E.createElement("tspan",{x:k,dy:V===0?T:l,key:"".concat(H,"-").concat(V)},H)}))};function an(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function vR(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function af(e){let t,r,n;e.length!==2?(t=an,r=(l,c)=>an(e(l),c),n=(l,c)=>e(l)-c):(t=e===an||e===vR?e:yR,r=e,n=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:s,right:i}}function yR(){return 0}function Ax(e){return e===null?NaN:+e}function*xR(e,t){if(t===void 0)for(let r of e)r!=null&&(r=+r)>=r&&(yield r);else{let r=-1;for(let n of e)(n=t(n,++r,e))!=null&&(n=+n)>=n&&(yield n)}}const bR=af(an),wR=bR.right;af(Ax).center;const ji=wR;class qh extends Map{constructor(t,r=SR){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(Vh(this,t))}has(t){return super.has(Vh(this,t))}set(t,r){return super.set(jR(this,t),r)}delete(t){return super.delete(NR(this,t))}}function Vh({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function jR({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function NR({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function SR(e){return e!==null&&typeof e=="object"?e.valueOf():e}function _R(e=an){if(e===an)return Ex;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function Ex(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const PR=Math.sqrt(50),OR=Math.sqrt(10),AR=Math.sqrt(2);function gs(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),s=i>=PR?10:i>=OR?5:i>=AR?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/s,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*s,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?gs(e,t,r*2):[l,c,u]}function mu(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,s]=n?gs(t,e,r):gs(e,t,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(n)if(s<0)for(let u=0;u<l;++u)c[u]=(i-u)/-s;else for(let u=0;u<l;++u)c[u]=(i-u)*s;else if(s<0)for(let u=0;u<l;++u)c[u]=(a+u)/-s;else for(let u=0;u<l;++u)c[u]=(a+u)*s;return c}function gu(e,t,r){return t=+t,e=+e,r=+r,gs(e,t,r)[2]}function vu(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?gu(t,e,r):gu(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function Uh(e,t){let r;if(t===void 0)for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let a of e)(a=t(a,++n,e))!=null&&(r<a||r===void 0&&a>=a)&&(r=a)}return r}function Wh(e,t){let r;if(t===void 0)for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let a of e)(a=t(a,++n,e))!=null&&(r>a||r===void 0&&a>=a)&&(r=a)}return r}function Cx(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?Ex:_R(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),p=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),h=Math.max(r,Math.floor(t-u*f/c+p)),g=Math.min(n,Math.floor(t+(c-u)*f/c+p));Cx(e,t,h,g,a)}const i=e[t];let s=r,l=n;for(oo(e,r,t),a(e[n],i)>0&&oo(e,r,n);s<l;){for(oo(e,s,l),++s,--l;a(e[s],i)<0;)++s;for(;a(e[l],i)>0;)--l}a(e[r],i)===0?oo(e,r,l):(++l,oo(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function oo(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function ER(e,t,r){if(e=Float64Array.from(xR(e,r)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return Wh(e);if(t>=1)return Uh(e);var n,a=(n-1)*t,i=Math.floor(a),s=Uh(Cx(e,i).subarray(0,i+1)),l=Wh(e.subarray(i+1));return s+(l-s)*(a-i)}}function CR(e,t,r=Ax){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),s=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return s+(l-s)*(a-i)}}function TR(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function Jt(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Hr(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const yu=Symbol("implicit");function of(){var e=new qh,t=[],r=[],n=yu;function a(i){let s=e.get(i);if(s===void 0){if(n!==yu)return n;e.set(i,s=t.push(i)-1)}return r[s%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new qh;for(const s of i)e.has(s)||e.set(s,t.push(s)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return of(t,r).unknown(n)},Jt.apply(a,arguments),a}function Lo(){var e=of().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,s,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var p=t().length,h=a<n,g=h?a:n,v=h?n:a;i=(v-g)/Math.max(1,p-c+u*2),l&&(i=Math.floor(i)),g+=(v-g-i*(p-c))*d,s=i*(1-c),l&&(g=Math.round(g),s=Math.round(s));var m=TR(p).map(function(x){return g+i*x});return r(h?m.reverse():m)}return e.domain=function(p){return arguments.length?(t(p),f()):t()},e.range=function(p){return arguments.length?([n,a]=p,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(p){return[n,a]=p,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return s},e.step=function(){return i},e.round=function(p){return arguments.length?(l=!!p,f()):l},e.padding=function(p){return arguments.length?(c=Math.min(1,u=+p),f()):c},e.paddingInner=function(p){return arguments.length?(c=Math.min(1,p),f()):c},e.paddingOuter=function(p){return arguments.length?(u=+p,f()):u},e.align=function(p){return arguments.length?(d=Math.max(0,Math.min(1,p)),f()):d},e.copy=function(){return Lo(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},Jt.apply(f(),arguments)}function Tx(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Tx(t())},e}function wo(){return Tx(Lo.apply(null,arguments).paddingInner(1))}function sf(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function $x(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Ni(){}var Fo=.7,vs=1/Fo,na="\\s*([+-]?\\d+)\\s*",zo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",yr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",$R=/^#([0-9a-f]{3,8})$/,kR=new RegExp(`^rgb\\(${na},${na},${na}\\)$`),MR=new RegExp(`^rgb\\(${yr},${yr},${yr}\\)$`),IR=new RegExp(`^rgba\\(${na},${na},${na},${zo}\\)$`),DR=new RegExp(`^rgba\\(${yr},${yr},${yr},${zo}\\)$`),RR=new RegExp(`^hsl\\(${zo},${yr},${yr}\\)$`),LR=new RegExp(`^hsla\\(${zo},${yr},${yr},${zo}\\)$`),Gh={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};sf(Ni,Bo,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Hh,formatHex:Hh,formatHex8:FR,formatHsl:zR,formatRgb:Kh,toString:Kh});function Hh(){return this.rgb().formatHex()}function FR(){return this.rgb().formatHex8()}function zR(){return kx(this).formatHsl()}function Kh(){return this.rgb().formatRgb()}function Bo(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=$R.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Xh(t):r===3?new At(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Di(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Di(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=kR.exec(e))?new At(t[1],t[2],t[3],1):(t=MR.exec(e))?new At(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=IR.exec(e))?Di(t[1],t[2],t[3],t[4]):(t=DR.exec(e))?Di(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=RR.exec(e))?Jh(t[1],t[2]/100,t[3]/100,1):(t=LR.exec(e))?Jh(t[1],t[2]/100,t[3]/100,t[4]):Gh.hasOwnProperty(e)?Xh(Gh[e]):e==="transparent"?new At(NaN,NaN,NaN,0):null}function Xh(e){return new At(e>>16&255,e>>8&255,e&255,1)}function Di(e,t,r,n){return n<=0&&(e=t=r=NaN),new At(e,t,r,n)}function BR(e){return e instanceof Ni||(e=Bo(e)),e?(e=e.rgb(),new At(e.r,e.g,e.b,e.opacity)):new At}function xu(e,t,r,n){return arguments.length===1?BR(e):new At(e,t,r,n??1)}function At(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}sf(At,xu,$x(Ni,{brighter(e){return e=e==null?vs:Math.pow(vs,e),new At(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Fo:Math.pow(Fo,e),new At(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new At(Pn(this.r),Pn(this.g),Pn(this.b),ys(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Yh,formatHex:Yh,formatHex8:qR,formatRgb:Zh,toString:Zh}));function Yh(){return`#${jn(this.r)}${jn(this.g)}${jn(this.b)}`}function qR(){return`#${jn(this.r)}${jn(this.g)}${jn(this.b)}${jn((isNaN(this.opacity)?1:this.opacity)*255)}`}function Zh(){const e=ys(this.opacity);return`${e===1?"rgb(":"rgba("}${Pn(this.r)}, ${Pn(this.g)}, ${Pn(this.b)}${e===1?")":`, ${e})`}`}function ys(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Pn(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function jn(e){return e=Pn(e),(e<16?"0":"")+e.toString(16)}function Jh(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new ar(e,t,r,n)}function kx(e){if(e instanceof ar)return new ar(e.h,e.s,e.l,e.opacity);if(e instanceof Ni||(e=Bo(e)),!e)return new ar;if(e instanceof ar)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),s=NaN,l=i-a,c=(i+a)/2;return l?(t===i?s=(r-n)/l+(r<n)*6:r===i?s=(n-t)/l+2:s=(t-r)/l+4,l/=c<.5?i+a:2-i-a,s*=60):l=c>0&&c<1?0:s,new ar(s,l,c,e.opacity)}function VR(e,t,r,n){return arguments.length===1?kx(e):new ar(e,t,r,n??1)}function ar(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}sf(ar,VR,$x(Ni,{brighter(e){return e=e==null?vs:Math.pow(vs,e),new ar(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Fo:Math.pow(Fo,e),new ar(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new At(mc(e>=240?e-240:e+120,a,n),mc(e,a,n),mc(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new ar(Qh(this.h),Ri(this.s),Ri(this.l),ys(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ys(this.opacity);return`${e===1?"hsl(":"hsla("}${Qh(this.h)}, ${Ri(this.s)*100}%, ${Ri(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Qh(e){return e=(e||0)%360,e<0?e+360:e}function Ri(e){return Math.max(0,Math.min(1,e||0))}function mc(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const lf=e=>()=>e;function UR(e,t){return function(r){return e+r*t}}function WR(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function GR(e){return(e=+e)==1?Mx:function(t,r){return r-t?WR(t,r,e):lf(isNaN(t)?r:t)}}function Mx(e,t){var r=t-e;return r?UR(e,r):lf(isNaN(e)?t:e)}const em=function e(t){var r=GR(t);function n(a,i){var s=r((a=xu(a)).r,(i=xu(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),u=Mx(a.opacity,i.opacity);return function(d){return a.r=s(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function HR(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function KR(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function XR(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),s;for(s=0;s<n;++s)a[s]=Ha(e[s],t[s]);for(;s<r;++s)i[s]=t[s];return function(l){for(s=0;s<n;++s)i[s]=a[s](l);return i}}function YR(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function xs(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function ZR(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Ha(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var bu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,gc=new RegExp(bu.source,"g");function JR(e){return function(){return e}}function QR(e){return function(t){return e(t)+""}}function e4(e,t){var r=bu.lastIndex=gc.lastIndex=0,n,a,i,s=-1,l=[],c=[];for(e=e+"",t=t+"";(n=bu.exec(e))&&(a=gc.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[s]?l[s]+=i:l[++s]=i),(n=n[0])===(a=a[0])?l[s]?l[s]+=a:l[++s]=a:(l[++s]=null,c.push({i:s,x:xs(n,a)})),r=gc.lastIndex;return r<t.length&&(i=t.slice(r),l[s]?l[s]+=i:l[++s]=i),l.length<2?c[0]?QR(c[0].x):JR(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function Ha(e,t){var r=typeof t,n;return t==null||r==="boolean"?lf(t):(r==="number"?xs:r==="string"?(n=Bo(t))?(t=n,em):e4:t instanceof Bo?em:t instanceof Date?YR:KR(t)?HR:Array.isArray(t)?XR:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?ZR:xs)(e,t)}function cf(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function t4(e,t){t===void 0&&(t=e,e=Ha);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(s){var l=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return i[l](s-l)}}function r4(e){return function(){return e}}function bs(e){return+e}var tm=[0,1];function wt(e){return e}function wu(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:r4(isNaN(t)?NaN:.5)}function n4(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function a4(e,t,r){var n=e[0],a=e[1],i=t[0],s=t[1];return a<n?(n=wu(a,n),i=r(s,i)):(n=wu(n,a),i=r(i,s)),function(l){return i(n(l))}}function o4(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)a[s]=wu(e[s],e[s+1]),i[s]=r(t[s],t[s+1]);return function(l){var c=ji(e,l,1,n)-1;return i[c](a[c](l))}}function Si(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function _l(){var e=tm,t=tm,r=Ha,n,a,i,s=wt,l,c,u;function d(){var p=Math.min(e.length,t.length);return s!==wt&&(s=n4(e[0],e[p-1])),l=p>2?o4:a4,c=u=null,f}function f(p){return p==null||isNaN(p=+p)?i:(c||(c=l(e.map(n),t,r)))(n(s(p)))}return f.invert=function(p){return s(a((u||(u=l(t,e.map(n),xs)))(p)))},f.domain=function(p){return arguments.length?(e=Array.from(p,bs),d()):e.slice()},f.range=function(p){return arguments.length?(t=Array.from(p),d()):t.slice()},f.rangeRound=function(p){return t=Array.from(p),r=cf,d()},f.clamp=function(p){return arguments.length?(s=p?!0:wt,d()):s!==wt},f.interpolate=function(p){return arguments.length?(r=p,d()):r},f.unknown=function(p){return arguments.length?(i=p,f):i},function(p,h){return n=p,a=h,d()}}function uf(){return _l()(wt,wt)}function i4(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function ws(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function ha(e){return e=ws(Math.abs(e)),e?e[1]:NaN}function s4(e,t){return function(r,n){for(var a=r.length,i=[],s=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[s=(s+1)%e.length];return i.reverse().join(t)}}function l4(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var c4=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function qo(e){if(!(t=c4.exec(e)))throw new Error("invalid format: "+e);var t;return new df({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}qo.prototype=df.prototype;function df(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}df.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function u4(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var Ix;function d4(e,t){var r=ws(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(Ix=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=n.length;return i===s?n:i>s?n+new Array(i-s+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+ws(e,Math.max(0,t+i-1))[0]}function rm(e,t){var r=ws(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const nm={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:i4,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>rm(e*100,t),r:rm,s:d4,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function am(e){return e}var om=Array.prototype.map,im=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function f4(e){var t=e.grouping===void 0||e.thousands===void 0?am:s4(om.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?am:l4(om.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=qo(f);var p=f.fill,h=f.align,g=f.sign,v=f.symbol,m=f.zero,x=f.width,b=f.comma,N=f.precision,j=f.trim,y=f.type;y==="n"?(b=!0,y="g"):nm[y]||(N===void 0&&(N=12),j=!0,y="g"),(m||p==="0"&&h==="=")&&(m=!0,p="0",h="=");var w=v==="$"?r:v==="#"&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",_=v==="$"?n:/[%p]/.test(y)?s:"",P=nm[y],O=/[defgprs%]/.test(y);N=N===void 0?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function k(A){var T=w,z=_,$,M,L;if(y==="c")z=P(A)+z,A="";else{A=+A;var V=A<0||1/A<0;if(A=isNaN(A)?c:P(Math.abs(A),N),j&&(A=u4(A)),V&&+A==0&&g!=="+"&&(V=!1),T=(V?g==="("?g:l:g==="-"||g==="("?"":g)+T,z=(y==="s"?im[8+Ix/3]:"")+z+(V&&g==="("?")":""),O){for($=-1,M=A.length;++$<M;)if(L=A.charCodeAt($),48>L||L>57){z=(L===46?a+A.slice($+1):A.slice($))+z,A=A.slice(0,$);break}}}b&&!m&&(A=t(A,1/0));var H=T.length+A.length+z.length,C=H<x?new Array(x-H+1).join(p):"";switch(b&&m&&(A=t(C+A,C.length?x-z.length:1/0),C=""),h){case"<":A=T+A+z+C;break;case"=":A=T+C+A+z;break;case"^":A=C.slice(0,H=C.length>>1)+T+A+z+C.slice(H);break;default:A=C+T+A+z;break}return i(A)}return k.toString=function(){return f+""},k}function d(f,p){var h=u((f=qo(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(ha(p)/3)))*3,v=Math.pow(10,-g),m=im[8+g/3];return function(x){return h(v*x)+m}}return{format:u,formatPrefix:d}}var Li,ff,Dx;p4({thousands:",",grouping:[3],currency:["$",""]});function p4(e){return Li=f4(e),ff=Li.format,Dx=Li.formatPrefix,Li}function h4(e){return Math.max(0,-ha(Math.abs(e)))}function m4(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ha(t)/3)))*3-ha(Math.abs(e)))}function g4(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ha(t)-ha(e))+1}function Rx(e,t,r,n){var a=vu(e,t,r),i;switch(n=qo(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=m4(a,s))&&(n.precision=i),Dx(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=g4(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=h4(a))&&(n.precision=i-(n.type==="%")*2);break}}return ff(n)}function fn(e){var t=e.domain;return e.ticks=function(r){var n=t();return mu(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return Rx(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,s=n[a],l=n[i],c,u,d=10;for(l<s&&(u=s,s=l,l=u,u=a,a=i,i=u);d-- >0;){if(u=gu(s,l,r),u===c)return n[a]=s,n[i]=l,t(n);if(u>0)s=Math.floor(s/u)*u,l=Math.ceil(l/u)*u;else if(u<0)s=Math.ceil(s*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function js(){var e=uf();return e.copy=function(){return Si(e,js())},Jt.apply(e,arguments),fn(e)}function Lx(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,bs),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return Lx(e).unknown(t)},e=arguments.length?Array.from(e,bs):[0,1],fn(r)}function Fx(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],s;return i<a&&(s=r,r=n,n=s,s=a,a=i,i=s),e[r]=t.floor(a),e[n]=t.ceil(i),e}function sm(e){return Math.log(e)}function lm(e){return Math.exp(e)}function v4(e){return-Math.log(-e)}function y4(e){return-Math.exp(-e)}function x4(e){return isFinite(e)?+("1e"+e):e<0?0:e}function b4(e){return e===10?x4:e===Math.E?Math.exp:t=>Math.pow(e,t)}function w4(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function cm(e){return(t,r)=>-e(-t,r)}function pf(e){const t=e(sm,lm),r=t.domain;let n=10,a,i;function s(){return a=w4(n),i=b4(n),r()[0]<0?(a=cm(a),i=cm(i),e(v4,y4)):e(sm,lm),t}return t.base=function(l){return arguments.length?(n=+l,s()):n},t.domain=function(l){return arguments.length?(r(l),s()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let p=a(u),h=a(d),g,v;const m=l==null?10:+l;let x=[];if(!(n%1)&&h-p<m){if(p=Math.floor(p),h=Math.ceil(h),u>0){for(;p<=h;++p)for(g=1;g<n;++g)if(v=p<0?g/i(-p):g*i(p),!(v<u)){if(v>d)break;x.push(v)}}else for(;p<=h;++p)for(g=n-1;g>=1;--g)if(v=p>0?g/i(-p):g*i(p),!(v<u)){if(v>d)break;x.push(v)}x.length*2<m&&(x=mu(u,d,m))}else x=mu(p,h,Math.min(h-p,m)).map(i);return f?x.reverse():x},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=qo(c)).precision==null&&(c.trim=!0),c=ff(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(Fx(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function zx(){const e=pf(_l()).domain([1,10]);return e.copy=()=>Si(e,zx()).base(e.base()),Jt.apply(e,arguments),e}function um(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function dm(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function hf(e){var t=1,r=e(um(t),dm(t));return r.constant=function(n){return arguments.length?e(um(t=+n),dm(t)):t},fn(r)}function Bx(){var e=hf(_l());return e.copy=function(){return Si(e,Bx()).constant(e.constant())},Jt.apply(e,arguments)}function fm(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function j4(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function N4(e){return e<0?-e*e:e*e}function mf(e){var t=e(wt,wt),r=1;function n(){return r===1?e(wt,wt):r===.5?e(j4,N4):e(fm(r),fm(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},fn(t)}function gf(){var e=mf(_l());return e.copy=function(){return Si(e,gf()).exponent(e.exponent())},Jt.apply(e,arguments),e}function S4(){return gf.apply(null,arguments).exponent(.5)}function pm(e){return Math.sign(e)*e*e}function _4(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function qx(){var e=uf(),t=[0,1],r=!1,n;function a(i){var s=_4(e(i));return isNaN(s)?n:r?Math.round(s):s}return a.invert=function(i){return e.invert(pm(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,bs)).map(pm)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return qx(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Jt.apply(a,arguments),fn(a)}function Vx(){var e=[],t=[],r=[],n;function a(){var s=0,l=Math.max(1,t.length);for(r=new Array(l-1);++s<l;)r[s-1]=CR(e,s/l);return i}function i(s){return s==null||isNaN(s=+s)?n:t[ji(r,s)]}return i.invertExtent=function(s){var l=t.indexOf(s);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let l of s)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(an),a()},i.range=function(s){return arguments.length?(t=Array.from(s),a()):t.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return Vx().domain(e).range(t).unknown(n)},Jt.apply(i,arguments)}function Ux(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function s(c){return c!=null&&c<=c?a[ji(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return s}return s.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},s.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},s.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},s.unknown=function(c){return arguments.length&&(i=c),s},s.thresholds=function(){return n.slice()},s.copy=function(){return Ux().domain([e,t]).range(a).unknown(i)},Jt.apply(fn(s),arguments)}function Wx(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[ji(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var s=t.indexOf(i);return[e[s-1],e[s]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return Wx().domain(e).range(t).unknown(r)},Jt.apply(a,arguments)}const vc=new Date,yc=new Date;function at(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const s=a(i),l=a.ceil(i);return i-s<l-i?s:l},a.offset=(i,s)=>(t(i=new Date(+i),s==null?1:Math.floor(s)),i),a.range=(i,s,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<s)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<s);return c},a.filter=i=>at(s=>{if(s>=s)for(;e(s),!i(s);)s.setTime(s-1)},(s,l)=>{if(s>=s)if(l<0)for(;++l<=0;)for(;t(s,-1),!i(s););else for(;--l>=0;)for(;t(s,1),!i(s););}),r&&(a.count=(i,s)=>(vc.setTime(+i),yc.setTime(+s),e(vc),e(yc),Math.floor(r(vc,yc))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?s=>n(s)%i===0:s=>a.count(0,s)%i===0):a)),a}const Ns=at(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Ns.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?at(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Ns);Ns.range;const Tr=1e3,Wt=Tr*60,$r=Wt*60,zr=$r*24,vf=zr*7,hm=zr*30,xc=zr*365,Nn=at(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Tr)},(e,t)=>(t-e)/Tr,e=>e.getUTCSeconds());Nn.range;const yf=at(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Tr)},(e,t)=>{e.setTime(+e+t*Wt)},(e,t)=>(t-e)/Wt,e=>e.getMinutes());yf.range;const xf=at(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Wt)},(e,t)=>(t-e)/Wt,e=>e.getUTCMinutes());xf.range;const bf=at(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Tr-e.getMinutes()*Wt)},(e,t)=>{e.setTime(+e+t*$r)},(e,t)=>(t-e)/$r,e=>e.getHours());bf.range;const wf=at(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*$r)},(e,t)=>(t-e)/$r,e=>e.getUTCHours());wf.range;const _i=at(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Wt)/zr,e=>e.getDate()-1);_i.range;const Pl=at(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/zr,e=>e.getUTCDate()-1);Pl.range;const Gx=at(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/zr,e=>Math.floor(e/zr));Gx.range;function Fn(e){return at(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Wt)/vf)}const Ol=Fn(0),Ss=Fn(1),P4=Fn(2),O4=Fn(3),ma=Fn(4),A4=Fn(5),E4=Fn(6);Ol.range;Ss.range;P4.range;O4.range;ma.range;A4.range;E4.range;function zn(e){return at(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/vf)}const Al=zn(0),_s=zn(1),C4=zn(2),T4=zn(3),ga=zn(4),$4=zn(5),k4=zn(6);Al.range;_s.range;C4.range;T4.range;ga.range;$4.range;k4.range;const jf=at(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());jf.range;const Nf=at(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Nf.range;const Br=at(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Br.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:at(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Br.range;const qr=at(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());qr.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:at(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});qr.range;function Hx(e,t,r,n,a,i){const s=[[Nn,1,Tr],[Nn,5,5*Tr],[Nn,15,15*Tr],[Nn,30,30*Tr],[i,1,Wt],[i,5,5*Wt],[i,15,15*Wt],[i,30,30*Wt],[a,1,$r],[a,3,3*$r],[a,6,6*$r],[a,12,12*$r],[n,1,zr],[n,2,2*zr],[r,1,vf],[t,1,hm],[t,3,3*hm],[e,1,xc]];function l(u,d,f){const p=d<u;p&&([u,d]=[d,u]);const h=f&&typeof f.range=="function"?f:c(u,d,f),g=h?h.range(u,+d+1):[];return p?g.reverse():g}function c(u,d,f){const p=Math.abs(d-u)/f,h=af(([,,m])=>m).right(s,p);if(h===s.length)return e.every(vu(u/xc,d/xc,f));if(h===0)return Ns.every(Math.max(vu(u,d,f),1));const[g,v]=s[p/s[h-1][2]<s[h][2]/p?h-1:h];return g.every(v)}return[l,c]}const[M4,I4]=Hx(qr,Nf,Al,Gx,wf,xf),[D4,R4]=Hx(Br,jf,Ol,_i,bf,yf);function bc(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function wc(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function io(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function L4(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,s=e.shortDays,l=e.months,c=e.shortMonths,u=so(a),d=lo(a),f=so(i),p=lo(i),h=so(s),g=lo(s),v=so(l),m=lo(l),x=so(c),b=lo(c),N={a:V,A:H,b:C,B:X,c:null,d:bm,e:bm,f:sL,g:vL,G:xL,H:aL,I:oL,j:iL,L:Kx,m:lL,M:cL,p:I,q:W,Q:Nm,s:Sm,S:uL,u:dL,U:fL,V:pL,w:hL,W:mL,x:null,X:null,y:gL,Y:yL,Z:bL,"%":jm},j={a:B,A:Q,b:ee,B:ge,c:null,d:wm,e:wm,f:SL,g:ML,G:DL,H:wL,I:jL,j:NL,L:Yx,m:_L,M:PL,p:we,q:pe,Q:Nm,s:Sm,S:OL,u:AL,U:EL,V:CL,w:TL,W:$L,x:null,X:null,y:kL,Y:IL,Z:RL,"%":jm},y={a:k,A,b:T,B:z,c:$,d:ym,e:ym,f:eL,g:vm,G:gm,H:xm,I:xm,j:Y4,L:Q4,m:X4,M:Z4,p:O,q:K4,Q:rL,s:nL,S:J4,u:V4,U:U4,V:W4,w:q4,W:G4,x:M,X:L,y:vm,Y:gm,Z:H4,"%":tL};N.x=w(r,N),N.X=w(n,N),N.c=w(t,N),j.x=w(r,j),j.X=w(n,j),j.c=w(t,j);function w(D,q){return function(G){var F=[],he=-1,le=0,be=D.length,ue,Ee,Ze;for(G instanceof Date||(G=new Date(+G));++he<be;)D.charCodeAt(he)===37&&(F.push(D.slice(le,he)),(Ee=mm[ue=D.charAt(++he)])!=null?ue=D.charAt(++he):Ee=ue==="e"?" ":"0",(Ze=q[ue])&&(ue=Ze(G,Ee)),F.push(ue),le=he+1);return F.push(D.slice(le,he)),F.join("")}}function _(D,q){return function(G){var F=io(1900,void 0,1),he=P(F,D,G+="",0),le,be;if(he!=G.length)return null;if("Q"in F)return new Date(F.Q);if("s"in F)return new Date(F.s*1e3+("L"in F?F.L:0));if(q&&!("Z"in F)&&(F.Z=0),"p"in F&&(F.H=F.H%12+F.p*12),F.m===void 0&&(F.m="q"in F?F.q:0),"V"in F){if(F.V<1||F.V>53)return null;"w"in F||(F.w=1),"Z"in F?(le=wc(io(F.y,0,1)),be=le.getUTCDay(),le=be>4||be===0?_s.ceil(le):_s(le),le=Pl.offset(le,(F.V-1)*7),F.y=le.getUTCFullYear(),F.m=le.getUTCMonth(),F.d=le.getUTCDate()+(F.w+6)%7):(le=bc(io(F.y,0,1)),be=le.getDay(),le=be>4||be===0?Ss.ceil(le):Ss(le),le=_i.offset(le,(F.V-1)*7),F.y=le.getFullYear(),F.m=le.getMonth(),F.d=le.getDate()+(F.w+6)%7)}else("W"in F||"U"in F)&&("w"in F||(F.w="u"in F?F.u%7:"W"in F?1:0),be="Z"in F?wc(io(F.y,0,1)).getUTCDay():bc(io(F.y,0,1)).getDay(),F.m=0,F.d="W"in F?(F.w+6)%7+F.W*7-(be+5)%7:F.w+F.U*7-(be+6)%7);return"Z"in F?(F.H+=F.Z/100|0,F.M+=F.Z%100,wc(F)):bc(F)}}function P(D,q,G,F){for(var he=0,le=q.length,be=G.length,ue,Ee;he<le;){if(F>=be)return-1;if(ue=q.charCodeAt(he++),ue===37){if(ue=q.charAt(he++),Ee=y[ue in mm?q.charAt(he++):ue],!Ee||(F=Ee(D,G,F))<0)return-1}else if(ue!=G.charCodeAt(F++))return-1}return F}function O(D,q,G){var F=u.exec(q.slice(G));return F?(D.p=d.get(F[0].toLowerCase()),G+F[0].length):-1}function k(D,q,G){var F=h.exec(q.slice(G));return F?(D.w=g.get(F[0].toLowerCase()),G+F[0].length):-1}function A(D,q,G){var F=f.exec(q.slice(G));return F?(D.w=p.get(F[0].toLowerCase()),G+F[0].length):-1}function T(D,q,G){var F=x.exec(q.slice(G));return F?(D.m=b.get(F[0].toLowerCase()),G+F[0].length):-1}function z(D,q,G){var F=v.exec(q.slice(G));return F?(D.m=m.get(F[0].toLowerCase()),G+F[0].length):-1}function $(D,q,G){return P(D,t,q,G)}function M(D,q,G){return P(D,r,q,G)}function L(D,q,G){return P(D,n,q,G)}function V(D){return s[D.getDay()]}function H(D){return i[D.getDay()]}function C(D){return c[D.getMonth()]}function X(D){return l[D.getMonth()]}function I(D){return a[+(D.getHours()>=12)]}function W(D){return 1+~~(D.getMonth()/3)}function B(D){return s[D.getUTCDay()]}function Q(D){return i[D.getUTCDay()]}function ee(D){return c[D.getUTCMonth()]}function ge(D){return l[D.getUTCMonth()]}function we(D){return a[+(D.getUTCHours()>=12)]}function pe(D){return 1+~~(D.getUTCMonth()/3)}return{format:function(D){var q=w(D+="",N);return q.toString=function(){return D},q},parse:function(D){var q=_(D+="",!1);return q.toString=function(){return D},q},utcFormat:function(D){var q=w(D+="",j);return q.toString=function(){return D},q},utcParse:function(D){var q=_(D+="",!0);return q.toString=function(){return D},q}}}var mm={"-":"",_:" ",0:"0"},it=/^\s*\d+/,F4=/^%/,z4=/[\\^$*+?|[\]().{}]/g;function Ae(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function B4(e){return e.replace(z4,"\\$&")}function so(e){return new RegExp("^(?:"+e.map(B4).join("|")+")","i")}function lo(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function q4(e,t,r){var n=it.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function V4(e,t,r){var n=it.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function U4(e,t,r){var n=it.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function W4(e,t,r){var n=it.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function G4(e,t,r){var n=it.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function gm(e,t,r){var n=it.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function vm(e,t,r){var n=it.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function H4(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function K4(e,t,r){var n=it.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function X4(e,t,r){var n=it.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function ym(e,t,r){var n=it.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Y4(e,t,r){var n=it.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function xm(e,t,r){var n=it.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Z4(e,t,r){var n=it.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function J4(e,t,r){var n=it.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Q4(e,t,r){var n=it.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function eL(e,t,r){var n=it.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function tL(e,t,r){var n=F4.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function rL(e,t,r){var n=it.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function nL(e,t,r){var n=it.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function bm(e,t){return Ae(e.getDate(),t,2)}function aL(e,t){return Ae(e.getHours(),t,2)}function oL(e,t){return Ae(e.getHours()%12||12,t,2)}function iL(e,t){return Ae(1+_i.count(Br(e),e),t,3)}function Kx(e,t){return Ae(e.getMilliseconds(),t,3)}function sL(e,t){return Kx(e,t)+"000"}function lL(e,t){return Ae(e.getMonth()+1,t,2)}function cL(e,t){return Ae(e.getMinutes(),t,2)}function uL(e,t){return Ae(e.getSeconds(),t,2)}function dL(e){var t=e.getDay();return t===0?7:t}function fL(e,t){return Ae(Ol.count(Br(e)-1,e),t,2)}function Xx(e){var t=e.getDay();return t>=4||t===0?ma(e):ma.ceil(e)}function pL(e,t){return e=Xx(e),Ae(ma.count(Br(e),e)+(Br(e).getDay()===4),t,2)}function hL(e){return e.getDay()}function mL(e,t){return Ae(Ss.count(Br(e)-1,e),t,2)}function gL(e,t){return Ae(e.getFullYear()%100,t,2)}function vL(e,t){return e=Xx(e),Ae(e.getFullYear()%100,t,2)}function yL(e,t){return Ae(e.getFullYear()%1e4,t,4)}function xL(e,t){var r=e.getDay();return e=r>=4||r===0?ma(e):ma.ceil(e),Ae(e.getFullYear()%1e4,t,4)}function bL(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ae(t/60|0,"0",2)+Ae(t%60,"0",2)}function wm(e,t){return Ae(e.getUTCDate(),t,2)}function wL(e,t){return Ae(e.getUTCHours(),t,2)}function jL(e,t){return Ae(e.getUTCHours()%12||12,t,2)}function NL(e,t){return Ae(1+Pl.count(qr(e),e),t,3)}function Yx(e,t){return Ae(e.getUTCMilliseconds(),t,3)}function SL(e,t){return Yx(e,t)+"000"}function _L(e,t){return Ae(e.getUTCMonth()+1,t,2)}function PL(e,t){return Ae(e.getUTCMinutes(),t,2)}function OL(e,t){return Ae(e.getUTCSeconds(),t,2)}function AL(e){var t=e.getUTCDay();return t===0?7:t}function EL(e,t){return Ae(Al.count(qr(e)-1,e),t,2)}function Zx(e){var t=e.getUTCDay();return t>=4||t===0?ga(e):ga.ceil(e)}function CL(e,t){return e=Zx(e),Ae(ga.count(qr(e),e)+(qr(e).getUTCDay()===4),t,2)}function TL(e){return e.getUTCDay()}function $L(e,t){return Ae(_s.count(qr(e)-1,e),t,2)}function kL(e,t){return Ae(e.getUTCFullYear()%100,t,2)}function ML(e,t){return e=Zx(e),Ae(e.getUTCFullYear()%100,t,2)}function IL(e,t){return Ae(e.getUTCFullYear()%1e4,t,4)}function DL(e,t){var r=e.getUTCDay();return e=r>=4||r===0?ga(e):ga.ceil(e),Ae(e.getUTCFullYear()%1e4,t,4)}function RL(){return"+0000"}function jm(){return"%"}function Nm(e){return+e}function Sm(e){return Math.floor(+e/1e3)}var Gn,Jx,Qx;LL({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function LL(e){return Gn=L4(e),Jx=Gn.format,Gn.parse,Qx=Gn.utcFormat,Gn.utcParse,Gn}function FL(e){return new Date(e)}function zL(e){return e instanceof Date?+e:+new Date(+e)}function Sf(e,t,r,n,a,i,s,l,c,u){var d=uf(),f=d.invert,p=d.domain,h=u(".%L"),g=u(":%S"),v=u("%I:%M"),m=u("%I %p"),x=u("%a %d"),b=u("%b %d"),N=u("%B"),j=u("%Y");function y(w){return(c(w)<w?h:l(w)<w?g:s(w)<w?v:i(w)<w?m:n(w)<w?a(w)<w?x:b:r(w)<w?N:j)(w)}return d.invert=function(w){return new Date(f(w))},d.domain=function(w){return arguments.length?p(Array.from(w,zL)):p().map(FL)},d.ticks=function(w){var _=p();return e(_[0],_[_.length-1],w??10)},d.tickFormat=function(w,_){return _==null?y:u(_)},d.nice=function(w){var _=p();return(!w||typeof w.range!="function")&&(w=t(_[0],_[_.length-1],w??10)),w?p(Fx(_,w)):d},d.copy=function(){return Si(d,Sf(e,t,r,n,a,i,s,l,c,u))},d}function BL(){return Jt.apply(Sf(D4,R4,Br,jf,Ol,_i,bf,yf,Nn,Jx).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function qL(){return Jt.apply(Sf(M4,I4,qr,Nf,Al,Pl,wf,xf,Nn,Qx).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function El(){var e=0,t=1,r,n,a,i,s=wt,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:s(a===0?.5:(f=(i(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(s=f,u):s};function d(f){return function(p){var h,g;return arguments.length?([h,g]=p,s=f(h,g),u):[s(0),s(1)]}}return u.range=d(Ha),u.rangeRound=d(cf),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function pn(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function eb(){var e=fn(El()(wt));return e.copy=function(){return pn(e,eb())},Hr.apply(e,arguments)}function tb(){var e=pf(El()).domain([1,10]);return e.copy=function(){return pn(e,tb()).base(e.base())},Hr.apply(e,arguments)}function rb(){var e=hf(El());return e.copy=function(){return pn(e,rb()).constant(e.constant())},Hr.apply(e,arguments)}function _f(){var e=mf(El());return e.copy=function(){return pn(e,_f()).exponent(e.exponent())},Hr.apply(e,arguments)}function VL(){return _f.apply(null,arguments).exponent(.5)}function nb(){var e=[],t=wt;function r(n){if(n!=null&&!isNaN(n=+n))return t((ji(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(an),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>ER(e,i/n))},r.copy=function(){return nb(t).domain(e)},Hr.apply(r,arguments)}function Cl(){var e=0,t=.5,r=1,n=1,a,i,s,l,c,u=wt,d,f=!1,p;function h(v){return isNaN(v=+v)?p:(v=.5+((v=+d(v))-i)*(n*v<n*i?l:c),u(f?Math.max(0,Math.min(1,v)):v))}h.domain=function(v){return arguments.length?([e,t,r]=v,a=d(e=+e),i=d(t=+t),s=d(r=+r),l=a===i?0:.5/(i-a),c=i===s?0:.5/(s-i),n=i<a?-1:1,h):[e,t,r]},h.clamp=function(v){return arguments.length?(f=!!v,h):f},h.interpolator=function(v){return arguments.length?(u=v,h):u};function g(v){return function(m){var x,b,N;return arguments.length?([x,b,N]=m,u=t4(v,[x,b,N]),h):[u(0),u(.5),u(1)]}}return h.range=g(Ha),h.rangeRound=g(cf),h.unknown=function(v){return arguments.length?(p=v,h):p},function(v){return d=v,a=v(e),i=v(t),s=v(r),l=a===i?0:.5/(i-a),c=i===s?0:.5/(s-i),n=i<a?-1:1,h}}function ab(){var e=fn(Cl()(wt));return e.copy=function(){return pn(e,ab())},Hr.apply(e,arguments)}function ob(){var e=pf(Cl()).domain([.1,1,10]);return e.copy=function(){return pn(e,ob()).base(e.base())},Hr.apply(e,arguments)}function ib(){var e=hf(Cl());return e.copy=function(){return pn(e,ib()).constant(e.constant())},Hr.apply(e,arguments)}function Pf(){var e=mf(Cl());return e.copy=function(){return pn(e,Pf()).exponent(e.exponent())},Hr.apply(e,arguments)}function UL(){return Pf.apply(null,arguments).exponent(.5)}const _m=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Lo,scaleDiverging:ab,scaleDivergingLog:ob,scaleDivergingPow:Pf,scaleDivergingSqrt:UL,scaleDivergingSymlog:ib,scaleIdentity:Lx,scaleImplicit:yu,scaleLinear:js,scaleLog:zx,scaleOrdinal:of,scalePoint:wo,scalePow:gf,scaleQuantile:Vx,scaleQuantize:Ux,scaleRadial:qx,scaleSequential:eb,scaleSequentialLog:tb,scaleSequentialPow:_f,scaleSequentialQuantile:nb,scaleSequentialSqrt:VL,scaleSequentialSymlog:rb,scaleSqrt:S4,scaleSymlog:Bx,scaleThreshold:Wx,scaleTime:BL,scaleUtc:qL,tickFormat:Rx},Symbol.toStringTag,{value:"Module"}));var WL=Da;function GL(e,t,r){for(var n=-1,a=e.length;++n<a;){var i=e[n],s=t(i);if(s!=null&&(l===void 0?s===s&&!WL(s):r(s,l)))var l=s,c=i}return c}var sb=GL;function HL(e,t){return e>t}var KL=HL,XL=sb,YL=KL,ZL=Wa;function JL(e){return e&&e.length?XL(e,ZL,YL):void 0}var QL=JL;const rn=Fe(QL);function e5(e,t){return e<t}var t5=e5,r5=sb,n5=t5,a5=Wa;function o5(e){return e&&e.length?r5(e,a5,n5):void 0}var i5=o5;const Tl=Fe(i5);var s5=Ld,l5=dn,c5=gx,u5=It;function d5(e,t){var r=u5(e)?s5:c5;return r(e,l5(t))}var f5=d5,p5=hx,h5=f5;function m5(e,t){return p5(h5(e,t),1)}var g5=m5;const v5=Fe(g5);var y5=Qd;function x5(e,t){return y5(e,t)}var b5=x5;const va=Fe(b5);var Ka=1e9,w5={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Af,Ge=!0,Xt="[DecimalError] ",On=Xt+"Invalid argument: ",Of=Xt+"Exponent out of range: ",Xa=Math.floor,yn=Math.pow,j5=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,zt,ot=1e7,Ue=7,lb=9007199254740991,Ps=Xa(lb/Ue),oe={};oe.absoluteValue=oe.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};oe.comparedTo=oe.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};oe.decimalPlaces=oe.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Ue;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};oe.dividedBy=oe.div=function(e){return Dr(this,new this.constructor(e))};oe.dividedToIntegerBy=oe.idiv=function(e){var t=this,r=t.constructor;return Ie(Dr(t,new r(e),0,1),r.precision)};oe.equals=oe.eq=function(e){return!this.cmp(e)};oe.exponent=function(){return Qe(this)};oe.greaterThan=oe.gt=function(e){return this.cmp(e)>0};oe.greaterThanOrEqualTo=oe.gte=function(e){return this.cmp(e)>=0};oe.isInteger=oe.isint=function(){return this.e>this.d.length-2};oe.isNegative=oe.isneg=function(){return this.s<0};oe.isPositive=oe.ispos=function(){return this.s>0};oe.isZero=function(){return this.s===0};oe.lessThan=oe.lt=function(e){return this.cmp(e)<0};oe.lessThanOrEqualTo=oe.lte=function(e){return this.cmp(e)<1};oe.logarithm=oe.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(zt))throw Error(Xt+"NaN");if(r.s<1)throw Error(Xt+(r.s?"NaN":"-Infinity"));return r.eq(zt)?new n(0):(Ge=!1,t=Dr(Vo(r,i),Vo(e,i),i),Ge=!0,Ie(t,a))};oe.minus=oe.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?db(t,e):cb(t,(e.s=-e.s,e))};oe.modulo=oe.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Xt+"NaN");return r.s?(Ge=!1,t=Dr(r,e,0,1).times(e),Ge=!0,r.minus(t)):Ie(new n(r),a)};oe.naturalExponential=oe.exp=function(){return ub(this)};oe.naturalLogarithm=oe.ln=function(){return Vo(this)};oe.negated=oe.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};oe.plus=oe.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?cb(t,e):db(t,(e.s=-e.s,e))};oe.precision=oe.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(On+e);if(t=Qe(a)+1,n=a.d.length-1,r=n*Ue+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};oe.squareRoot=oe.sqrt=function(){var e,t,r,n,a,i,s,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Xt+"NaN")}for(e=Qe(l),Ge=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=hr(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Xa((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=s=r+3;;)if(i=n,n=i.plus(Dr(l,i,s+2)).times(.5),hr(i.d).slice(0,s)===(t=hr(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),a==s&&t=="4999"){if(Ie(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;s+=4}return Ge=!0,Ie(n,r)};oe.times=oe.mul=function(e){var t,r,n,a,i,s,l,c,u,d=this,f=d.constructor,p=d.d,h=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=p.length,u=h.length,c<u&&(i=p,p=h,h=i,s=c,c=u,u=s),i=[],s=c+u,n=s;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=i[a]+h[n]*p[a-n-1]+t,i[a--]=l%ot|0,t=l/ot|0;i[a]=(i[a]+t)%ot|0}for(;!i[--s];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Ge?Ie(e,f.precision):e};oe.toDecimalPlaces=oe.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(jr(e,0,Ka),t===void 0?t=n.rounding:jr(t,0,8),Ie(r,e+Qe(r)+1,t))};oe.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=$n(n,!0):(jr(e,0,Ka),t===void 0?t=a.rounding:jr(t,0,8),n=Ie(new a(n),e+1,t),r=$n(n,!0,e+1)),r};oe.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?$n(a):(jr(e,0,Ka),t===void 0?t=i.rounding:jr(t,0,8),n=Ie(new i(a),e+Qe(a)+1,t),r=$n(n.abs(),!1,e+Qe(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};oe.toInteger=oe.toint=function(){var e=this,t=e.constructor;return Ie(new t(e),Qe(e)+1,t.rounding)};oe.toNumber=function(){return+this};oe.toPower=oe.pow=function(e){var t,r,n,a,i,s,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(zt);if(l=new c(l),!l.s){if(e.s<1)throw Error(Xt+"Infinity");return l}if(l.eq(zt))return l;if(n=c.precision,e.eq(zt))return Ie(l,n);if(t=e.e,r=e.d.length-1,s=t>=r,i=l.s,s){if((r=d<0?-d:d)<=lb){for(a=new c(zt),t=Math.ceil(n/Ue+4),Ge=!1;r%2&&(a=a.times(l),Om(a.d,t)),r=Xa(r/2),r!==0;)l=l.times(l),Om(l.d,t);return Ge=!0,e.s<0?new c(zt).div(a):Ie(a,n)}}else if(i<0)throw Error(Xt+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Ge=!1,a=e.times(Vo(l,n+u)),Ge=!0,a=ub(a),a.s=i,a};oe.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=Qe(a),n=$n(a,r<=i.toExpNeg||r>=i.toExpPos)):(jr(e,1,Ka),t===void 0?t=i.rounding:jr(t,0,8),a=Ie(new i(a),e,t),r=Qe(a),n=$n(a,e<=r||r<=i.toExpNeg,e)),n};oe.toSignificantDigits=oe.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(jr(e,1,Ka),t===void 0?t=n.rounding:jr(t,0,8)),Ie(new n(r),e,t)};oe.toString=oe.valueOf=oe.val=oe.toJSON=oe[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Qe(e),r=e.constructor;return $n(e,t<=r.toExpNeg||t>=r.toExpPos)};function cb(e,t){var r,n,a,i,s,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Ge?Ie(t,f):t;if(c=e.d,u=t.d,s=e.e,a=t.e,c=c.slice(),i=s-a,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,a=s,l=c.length),s=Math.ceil(f/Ue),l=s>l?s+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/ot|0,c[i]%=ot;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,Ge?Ie(t,f):t}function jr(e,t,r){if(e!==~~e||e<t||e>r)throw Error(On+e)}function hr(e){var t,r,n,a=e.length-1,i="",s=e[0];if(a>0){for(i+=s,t=1;t<a;t++)n=e[t]+"",r=Ue-n.length,r&&(i+=Qr(r)),i+=n;s=e[t],n=s+"",r=Ue-n.length,r&&(i+=Qr(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return i+s}var Dr=function(){function e(n,a){var i,s=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+s,n[l]=i%ot|0,s=i/ot|0;return s&&n.unshift(s),n}function t(n,a,i,s){var l,c;if(i!=s)c=i>s?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,i){for(var s=0;i--;)n[i]-=s,s=n[i]<a[i]?1:0,n[i]=s*ot+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,s){var l,c,u,d,f,p,h,g,v,m,x,b,N,j,y,w,_,P,O=n.constructor,k=n.s==a.s?1:-1,A=n.d,T=a.d;if(!n.s)return new O(n);if(!a.s)throw Error(Xt+"Division by zero");for(c=n.e-a.e,_=T.length,y=A.length,h=new O(k),g=h.d=[],u=0;T[u]==(A[u]||0);)++u;if(T[u]>(A[u]||0)&&--c,i==null?b=i=O.precision:s?b=i+(Qe(n)-Qe(a))+1:b=i,b<0)return new O(0);if(b=b/Ue+2|0,u=0,_==1)for(d=0,T=T[0],b++;(u<y||d)&&b--;u++)N=d*ot+(A[u]||0),g[u]=N/T|0,d=N%T|0;else{for(d=ot/(T[0]+1)|0,d>1&&(T=e(T,d),A=e(A,d),_=T.length,y=A.length),j=_,v=A.slice(0,_),m=v.length;m<_;)v[m++]=0;P=T.slice(),P.unshift(0),w=T[0],T[1]>=ot/2&&++w;do d=0,l=t(T,v,_,m),l<0?(x=v[0],_!=m&&(x=x*ot+(v[1]||0)),d=x/w|0,d>1?(d>=ot&&(d=ot-1),f=e(T,d),p=f.length,m=v.length,l=t(f,v,p,m),l==1&&(d--,r(f,_<p?P:T,p))):(d==0&&(l=d=1),f=T.slice()),p=f.length,p<m&&f.unshift(0),r(v,f,m),l==-1&&(m=v.length,l=t(T,v,_,m),l<1&&(d++,r(v,_<m?P:T,m))),m=v.length):l===0&&(d++,v=[0]),g[u++]=d,l&&v[0]?v[m++]=A[j]||0:(v=[A[j]],m=1);while((j++<y||v[0]!==void 0)&&b--)}return g[0]||g.shift(),h.e=c,Ie(h,s?i+Qe(h)+1:i)}}();function ub(e,t){var r,n,a,i,s,l,c=0,u=0,d=e.constructor,f=d.precision;if(Qe(e)>16)throw Error(Of+Qe(e));if(!e.s)return new d(zt);for(t==null?(Ge=!1,l=f):l=t,s=new d(.03125);e.abs().gte(.1);)e=e.times(s),u+=5;for(n=Math.log(yn(2,u))/Math.LN10*2+5|0,l+=n,r=a=i=new d(zt),d.precision=l;;){if(a=Ie(a.times(e),l),r=r.times(++c),s=i.plus(Dr(a,r,l)),hr(s.d).slice(0,l)===hr(i.d).slice(0,l)){for(;u--;)i=Ie(i.times(i),l);return d.precision=f,t==null?(Ge=!0,Ie(i,f)):i}i=s}}function Qe(e){for(var t=e.e*Ue,r=e.d[0];r>=10;r/=10)t++;return t}function jc(e,t,r){if(t>e.LN10.sd())throw Ge=!0,r&&(e.precision=r),Error(Xt+"LN10 precision limit exceeded");return Ie(new e(e.LN10),t)}function Qr(e){for(var t="";e--;)t+="0";return t}function Vo(e,t){var r,n,a,i,s,l,c,u,d,f=1,p=10,h=e,g=h.d,v=h.constructor,m=v.precision;if(h.s<1)throw Error(Xt+(h.s?"NaN":"-Infinity"));if(h.eq(zt))return new v(0);if(t==null?(Ge=!1,u=m):u=t,h.eq(10))return t==null&&(Ge=!0),jc(v,u);if(u+=p,v.precision=u,r=hr(g),n=r.charAt(0),i=Qe(h),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)h=h.times(e),r=hr(h.d),n=r.charAt(0),f++;i=Qe(h),n>1?(h=new v("0."+r),i++):h=new v(n+"."+r.slice(1))}else return c=jc(v,u+2,m).times(i+""),h=Vo(new v(n+"."+r.slice(1)),u-p).plus(c),v.precision=m,t==null?(Ge=!0,Ie(h,m)):h;for(l=s=h=Dr(h.minus(zt),h.plus(zt),u),d=Ie(h.times(h),u),a=3;;){if(s=Ie(s.times(d),u),c=l.plus(Dr(s,new v(a),u)),hr(c.d).slice(0,u)===hr(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(jc(v,u+2,m).times(i+""))),l=Dr(l,new v(f),u),v.precision=m,t==null?(Ge=!0,Ie(l,m)):l;l=c,a+=2}}function Pm(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Xa(r/Ue),e.d=[],n=(r+1)%Ue,r<0&&(n+=Ue),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Ue;n<a;)e.d.push(+t.slice(n,n+=Ue));t=t.slice(n),n=Ue-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Ge&&(e.e>Ps||e.e<-Ps))throw Error(Of+r)}else e.s=0,e.e=0,e.d=[0];return e}function Ie(e,t,r){var n,a,i,s,l,c,u,d,f=e.d;for(s=1,i=f[0];i>=10;i/=10)s++;if(n=t-s,n<0)n+=Ue,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Ue),i=f.length,d>=i)return e;for(u=i=f[d],s=1;i>=10;i/=10)s++;n%=Ue,a=n-Ue+s}if(r!==void 0&&(i=yn(10,s-a-1),l=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/yn(10,s-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=Qe(e),f.length=1,t=t-i-1,f[0]=yn(10,(Ue-t%Ue)%Ue),e.e=Xa(-t/Ue)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=yn(10,Ue-n),f[d]=a>0?(u/yn(10,s-a)%yn(10,a)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==ot&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=ot)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(Ge&&(e.e>Ps||e.e<-Ps))throw Error(Of+Qe(e));return e}function db(e,t){var r,n,a,i,s,l,c,u,d,f,p=e.constructor,h=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),Ge?Ie(t,h):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),s=u-n,s){for(d=s<0,d?(r=c,s=-s,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(h/Ue),l)+2,s>a&&(s=a,r.length=1),r.reverse(),a=s;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}s=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>s;){if(c[--a]<f[a]){for(i=a;i&&c[--i]===0;)c[i]=ot-1;--c[i],c[a]+=ot}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Ge?Ie(t,h):t):new p(0)}function $n(e,t,r){var n,a=Qe(e),i=hr(e.d),s=i.length;return t?(r&&(n=r-s)>0?i=i.charAt(0)+"."+i.slice(1)+Qr(n):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Qr(-a-1)+i,r&&(n=r-s)>0&&(i+=Qr(n))):a>=s?(i+=Qr(a+1-s),r&&(n=r-a-1)>0&&(i=i+"."+Qr(n))):((n=a+1)<s&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-s)>0&&(a+1===s&&(i+="."),i+=Qr(n))),e.s<0?"-"+i:i}function Om(e,t){if(e.length>t)return e.length=t,!0}function fb(e){var t,r,n;function a(i){var s=this;if(!(s instanceof a))return new a(i);if(s.constructor=a,i instanceof a){s.s=i.s,s.e=i.e,s.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(On+i);if(i>0)s.s=1;else if(i<0)i=-i,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(i===~~i&&i<1e7){s.e=0,s.d=[i];return}return Pm(s,i.toString())}else if(typeof i!="string")throw Error(On+i);if(i.charCodeAt(0)===45?(i=i.slice(1),s.s=-1):s.s=1,j5.test(i))Pm(s,i);else throw Error(On+i)}if(a.prototype=oe,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=fb,a.config=a.set=N5,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function N5(e){if(!e||typeof e!="object")throw Error(Xt+"Object expected");var t,r,n,a=["precision",1,Ka,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Xa(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(On+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(On+r+": "+n);return this}var Af=fb(w5);zt=new Af(1);const ke=Af;function S5(e){return A5(e)||O5(e)||P5(e)||_5()}function _5(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P5(e,t){if(e){if(typeof e=="string")return ju(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ju(e,t)}}function O5(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function A5(e){if(Array.isArray(e))return ju(e)}function ju(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var E5=function(t){return t},pb={"@@functional/placeholder":!0},hb=function(t){return t===pb},Am=function(t){return function r(){return arguments.length===0||arguments.length===1&&hb(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},C5=function e(t,r){return t===1?r:Am(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var s=a.filter(function(l){return l!==pb}).length;return s>=t?r.apply(void 0,a):e(t-s,Am(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(f){return hb(f)?c.shift():f});return r.apply(void 0,S5(d).concat(c))}))})},$l=function(t){return C5(t.length,t)},Nu=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},T5=$l(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),$5=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return E5;var a=r.reverse(),i=a[0],s=a.slice(1);return function(){return s.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},Su=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},mb=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=t.apply(void 0,i)),n}};function k5(e){var t;return e===0?t=1:t=Math.floor(new ke(e).abs().log(10).toNumber())+1,t}function M5(e,t,r){for(var n=new ke(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var I5=$l(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),D5=$l(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),R5=$l(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const kl={rangeStep:M5,getDigitCount:k5,interpolateNumber:I5,uninterpolateNumber:D5,uninterpolateTruncation:R5};function _u(e){return z5(e)||F5(e)||gb(e)||L5()}function L5(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F5(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function z5(e){if(Array.isArray(e))return Pu(e)}function Uo(e,t){return V5(e)||q5(e,t)||gb(e,t)||B5()}function B5(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gb(e,t){if(e){if(typeof e=="string")return Pu(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Pu(e,t)}}function Pu(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function q5(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var s=e[Symbol.iterator](),l;!(n=(l=s.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,i=c}finally{try{!n&&s.return!=null&&s.return()}finally{if(a)throw i}}return r}}function V5(e){if(Array.isArray(e))return e}function vb(e){var t=Uo(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function yb(e,t,r){if(e.lte(0))return new ke(0);var n=kl.getDigitCount(e.toNumber()),a=new ke(10).pow(n),i=e.div(a),s=n!==1?.05:.1,l=new ke(Math.ceil(i.div(s).toNumber())).add(r).mul(s),c=l.mul(a);return t?c:new ke(Math.ceil(c))}function U5(e,t,r){var n=1,a=new ke(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new ke(10).pow(kl.getDigitCount(e)-1),a=new ke(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new ke(Math.floor(e)))}else e===0?a=new ke(Math.floor((t-1)/2)):r||(a=new ke(Math.floor(e)));var s=Math.floor((t-1)/2),l=$5(T5(function(c){return a.add(new ke(c-s).mul(n)).toNumber()}),Nu);return l(0,t)}function xb(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new ke(0),tickMin:new ke(0),tickMax:new ke(0)};var i=yb(new ke(t).sub(e).div(r-1),n,a),s;e<=0&&t>=0?s=new ke(0):(s=new ke(e).add(t).div(2),s=s.sub(new ke(s).mod(i)));var l=Math.ceil(s.sub(e).div(i).toNumber()),c=Math.ceil(new ke(t).sub(s).div(i).toNumber()),u=l+c+1;return u>r?xb(e,t,r,n,a+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:i,tickMin:s.sub(new ke(l).mul(i)),tickMax:s.add(new ke(c).mul(i))})}function W5(e){var t=Uo(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(a,2),l=vb([r,n]),c=Uo(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(_u(Nu(0,a-1).map(function(){return 1/0}))):[].concat(_u(Nu(0,a-1).map(function(){return-1/0})),[d]);return r>n?Su(f):f}if(u===d)return U5(u,a,i);var p=xb(u,d,s,i),h=p.step,g=p.tickMin,v=p.tickMax,m=kl.rangeStep(g,v.add(new ke(.1).mul(h)),h);return r>n?Su(m):m}function G5(e,t){var r=Uo(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=vb([n,a]),l=Uo(s,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(t,2),f=yb(new ke(u).sub(c).div(d-1),i,0),p=[].concat(_u(kl.rangeStep(new ke(c),new ke(u).sub(new ke(.99).mul(f)),f)),[u]);return n>a?Su(p):p}var H5=mb(W5),K5=mb(G5),X5=!0,Nc="Invariant failed";function kn(e,t){if(!e){if(X5)throw new Error(Nc);var r=typeof t=="function"?t():t,n=r?"".concat(Nc,": ").concat(r):Nc;throw new Error(n)}}var Y5=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function ya(e){"@babel/helpers - typeof";return ya=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ya(e)}function Os(){return Os=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Os.apply(this,arguments)}function Z5(e,t){return tF(e)||eF(e,t)||Q5(e,t)||J5()}function J5(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q5(e,t){if(e){if(typeof e=="string")return Em(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Em(e,t)}}function Em(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function eF(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function tF(e){if(Array.isArray(e))return e}function rF(e,t){if(e==null)return{};var r=nF(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function nF(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function aF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cm(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jb(n.key),n)}}function oF(e,t,r){return t&&Cm(e.prototype,t),r&&Cm(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function iF(e,t,r){return t=As(t),sF(e,bb()?Reflect.construct(t,r||[],As(e).constructor):t.apply(e,r))}function sF(e,t){if(t&&(ya(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lF(e)}function lF(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bb(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bb=function(){return!!e})()}function As(e){return As=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},As(e)}function cF(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ou(e,t)}function Ou(e,t){return Ou=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ou(e,t)}function wb(e,t,r){return t=jb(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jb(e){var t=uF(e,"string");return ya(t)=="symbol"?t:t+""}function uF(e,t){if(ya(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ya(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pi=function(e){function t(){return aF(this,t),iF(this,t,arguments)}return cF(t,e),oF(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,s=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,p=rF(n,Y5),h=xe(p,!1);this.props.direction==="x"&&d.type!=="number"&&kn(!1);var g=c.map(function(v){var m=u(v,l),x=m.x,b=m.y,N=m.value,j=m.errorVal;if(!j)return null;var y=[],w,_;if(Array.isArray(j)){var P=Z5(j,2);w=P[0],_=P[1]}else w=_=j;if(i==="vertical"){var O=d.scale,k=b+a,A=k+s,T=k-s,z=O(N-w),$=O(N+_);y.push({x1:$,y1:A,x2:$,y2:T}),y.push({x1:z,y1:k,x2:$,y2:k}),y.push({x1:z,y1:A,x2:z,y2:T})}else if(i==="horizontal"){var M=f.scale,L=x+a,V=L-s,H=L+s,C=M(N-w),X=M(N+_);y.push({x1:V,y1:X,x2:H,y2:X}),y.push({x1:L,y1:C,x2:L,y2:X}),y.push({x1:V,y1:C,x2:H,y2:C})}return E.createElement(Re,Os({className:"recharts-errorBar",key:"bar-".concat(y.map(function(I){return"".concat(I.x1,"-").concat(I.x2,"-").concat(I.y1,"-").concat(I.y2)}))},h),y.map(function(I){return E.createElement("line",Os({},I,{key:"line-".concat(I.x1,"-").concat(I.x2,"-").concat(I.y1,"-").concat(I.y2)}))}))});return E.createElement(Re,{className:"recharts-errorBars"},g)}}])}(E.Component);wb(Pi,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});wb(Pi,"displayName","ErrorBar");function Wo(e){"@babel/helpers - typeof";return Wo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wo(e)}function Tm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tm(Object(r),!0).forEach(function(n){dF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dF(e,t,r){return t=fF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fF(e){var t=pF(e,"string");return Wo(t)=="symbol"?t:t+""}function pF(e,t){if(Wo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Wo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Nb=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,s=Ft(r,gr);if(!s)return null;var l=gr.defaultProps,c=l!==void 0?mn(mn({},l),s.props):{},u;return s.props&&s.props.payload?u=s.props&&s.props.payload:i==="children"?u=(n||[]).reduce(function(d,f){var p=f.item,h=f.props,g=h.sectors||h.data||[];return d.concat(g.map(function(v){return{type:s.props.iconType||p.props.legendType,value:v.name,color:v.fill,payload:v}}))},[]):u=(n||[]).map(function(d){var f=d.item,p=f.type.defaultProps,h=p!==void 0?mn(mn({},p),f.props):{},g=h.dataKey,v=h.name,m=h.legendType,x=h.hide;return{inactive:x,dataKey:g,type:c.iconType||m||"square",color:Ef(f),value:v||g,payload:h}}),mn(mn(mn({},c),gr.getWithHeight(s,a)),{},{payload:u,item:s})};function Go(e){"@babel/helpers - typeof";return Go=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Go(e)}function $m(e){return vF(e)||gF(e)||mF(e)||hF()}function hF(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mF(e,t){if(e){if(typeof e=="string")return Au(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Au(e,t)}}function gF(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function vF(e){if(Array.isArray(e))return Au(e)}function Au(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function km(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ke(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?km(Object(r),!0).forEach(function(n){aa(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):km(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aa(e,t,r){return t=yF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yF(e){var t=xF(e,"string");return Go(t)=="symbol"?t:t+""}function xF(e,t){if(Go(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Go(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function St(e,t,r){return Ne(e)||Ne(t)?r:rt(t)?Ht(e,t,r):ye(t)?t(e):r}function jo(e,t,r,n){var a=v5(e,function(l){return St(l,t)});if(r==="number"){var i=a.filter(function(l){return Z(l)||parseFloat(l)});return i.length?[Tl(i),rn(i)]:[1/0,-1/0]}var s=n?a.filter(function(l){return!Ne(l)}):a;return s.map(function(l){return rt(l)||l instanceof Date?l:""})}var bF=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,f=a[u].coordinate,p=u>=l-1?a[0].coordinate:a[u+1].coordinate,h=void 0;if(or(f-d)!==or(p-f)){var g=[];if(or(p-f)===or(c[1]-c[0])){h=p;var v=f+c[1]-c[0];g[0]=Math.min(v,(v+d)/2),g[1]=Math.max(v,(v+d)/2)}else{h=d;var m=p+c[1]-c[0];g[0]=Math.min(f,(m+f)/2),g[1]=Math.max(f,(m+f)/2)}var x=[Math.min(f,(h+f)/2),Math.max(f,(h+f)/2)];if(t>x[0]&&t<=x[1]||t>=g[0]&&t<=g[1]){s=a[u].index;break}}else{var b=Math.min(d,p),N=Math.max(d,p);if(t>(b+f)/2&&t<=(N+f)/2){s=a[u].index;break}}}else for(var j=0;j<l;j++)if(j===0&&t<=(n[j].coordinate+n[j+1].coordinate)/2||j>0&&j<l-1&&t>(n[j].coordinate+n[j-1].coordinate)/2&&t<=(n[j].coordinate+n[j+1].coordinate)/2||j===l-1&&t>(n[j].coordinate+n[j-1].coordinate)/2){s=n[j].index;break}return s},Ef=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Ke(Ke({},t.type.defaultProps),t.props):t.props,s=i.stroke,l=i.fill,c;switch(a){case"Line":c=s;break;case"Area":case"Radar":c=s&&s!=="none"?s:l;break;default:c=l;break}return c},wF=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var s={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var d=i[l[c]].stackGroups,f=Object.keys(d),p=0,h=f.length;p<h;p++){var g=d[f[p]],v=g.items,m=g.cateAxisId,x=v.filter(function(_){return Mr(_.type).indexOf("Bar")>=0});if(x&&x.length){var b=x[0].type.defaultProps,N=b!==void 0?Ke(Ke({},b),x[0].props):x[0].props,j=N.barSize,y=N[m];s[y]||(s[y]=[]);var w=Ne(j)?r:j;s[y].push({item:x[0],stackList:x.slice(1),barSize:Ne(w)?void 0:Tn(w,n,0)})}}return s},jF=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,s=i===void 0?[]:i,l=t.maxBarSize,c=s.length;if(c<1)return null;var u=Tn(r,a,0,!0),d,f=[];if(s[0].barSize===+s[0].barSize){var p=!1,h=a/c,g=s.reduce(function(j,y){return j+y.barSize||0},0);g+=(c-1)*u,g>=a&&(g-=(c-1)*u,u=0),g>=a&&h>0&&(p=!0,h*=.9,g=c*h);var v=(a-g)/2>>0,m={offset:v-u,size:0};d=s.reduce(function(j,y){var w={item:y.item,position:{offset:m.offset+m.size+u,size:p?h:y.barSize}},_=[].concat($m(j),[w]);return m=_[_.length-1].position,y.stackList&&y.stackList.length&&y.stackList.forEach(function(P){_.push({item:P,position:m})}),_},f)}else{var x=Tn(n,a,0,!0);a-2*x-(c-1)*u<=0&&(u=0);var b=(a-2*x-(c-1)*u)/c;b>1&&(b>>=0);var N=l===+l?Math.min(b,l):b;d=s.reduce(function(j,y,w){var _=[].concat($m(j),[{item:y.item,position:{offset:x+(b+u)*w+(b-N)/2,size:N}}]);return y.stackList&&y.stackList.length&&y.stackList.forEach(function(P){_.push({item:P,position:_[_.length-1].position})}),_},f)}return d},NF=function(t,r,n,a){var i=n.children,s=n.width,l=n.margin,c=s-(l.left||0)-(l.right||0),u=Nb({children:i,legendWidth:c});if(u){var d=a||{},f=d.width,p=d.height,h=u.align,g=u.verticalAlign,v=u.layout;if((v==="vertical"||v==="horizontal"&&g==="middle")&&h!=="center"&&Z(t[h]))return Ke(Ke({},t),{},aa({},h,t[h]+(f||0)));if((v==="horizontal"||v==="vertical"&&h==="center")&&g!=="middle"&&Z(t[g]))return Ke(Ke({},t),{},aa({},g,t[g]+(p||0)))}return t},SF=function(t,r,n){return Ne(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},Sb=function(t,r,n,a,i){var s=r.props.children,l=Kt(s,Pi).filter(function(u){return SF(a,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=St(d,n);if(Ne(f))return u;var p=Array.isArray(f)?[Tl(f),rn(f)]:[f,f],h=c.reduce(function(g,v){var m=St(d,v,0),x=p[0]-Math.abs(Array.isArray(m)?m[0]:m),b=p[1]+Math.abs(Array.isArray(m)?m[1]:m);return[Math.min(x,g[0]),Math.max(b,g[1])]},[1/0,-1/0]);return[Math.min(h[0],u[0]),Math.max(h[1],u[1])]},[1/0,-1/0])}return null},_F=function(t,r,n,a,i){var s=r.map(function(l){return Sb(t,l,n,i,a)}).filter(function(l){return!Ne(l)});return s&&s.length?s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},_b=function(t,r,n,a,i){var s=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&Sb(t,c,u,a)||jo(t,u,n,i)});if(n==="number")return s.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return s.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},Pb=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},Ob=function(t,r,n,a){if(a)return t.map(function(c){return c.coordinate});var i,s,l=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(s=!0),c.coordinate});return i||l.push(r),s||l.push(n),l},kr=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,s=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&s==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?or(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var p=i?i.indexOf(f):f;return{coordinate:a(p)+u,value:f,offset:u}});return d.filter(function(f){return!Ba(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,p){return{coordinate:a(f)+u,value:f,index:p,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,p){return{coordinate:a(f)+u,value:i?i[f]:f,index:p,offset:u}})},Sc=new WeakMap,Fi=function(t,r){if(typeof r!="function")return t;Sc.has(t)||Sc.set(t,new WeakMap);var n=Sc.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},PF=function(t,r,n){var a=t.scale,i=t.type,s=t.layout,l=t.axisType;if(a==="auto")return s==="radial"&&l==="radiusAxis"?{scale:Lo(),realScaleType:"band"}:s==="radial"&&l==="angleAxis"?{scale:js(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:wo(),realScaleType:"point"}:i==="category"?{scale:Lo(),realScaleType:"band"}:{scale:js(),realScaleType:"linear"};if(Cn(a)){var c="scale".concat(yl(a));return{scale:(_m[c]||wo)(),realScaleType:_m[c]?c:"point"}}return ye(a)?{scale:a}:{scale:wo(),realScaleType:"point"}},Mm=1e-4,OF=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-Mm,s=Math.max(a[0],a[1])+Mm,l=t(r[0]),c=t(r[n-1]);(l<i||l>s||c<i||c>s)&&t.domain([r[0],r[n-1]])}},AF=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},EF=function(t,r){if(!r||r.length!==2||!Z(r[0])||!Z(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!Z(t[0])||t[0]<n)&&(i[0]=n),(!Z(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},CF=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,s=0,l=0;l<r;++l){var c=Ba(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1]):(t[l][n][0]=s,t[l][n][1]=s+c,s=t[l][n][1])}},TF=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,s=0;s<r;++s){var l=Ba(t[s][n][1])?t[s][n][0]:t[s][n][1];l>=0?(t[s][n][0]=i,t[s][n][1]=i+l,i=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},$F={sign:CF,expand:YA,none:ca,silhouette:ZA,wiggle:JA,positive:TF},kF=function(t,r,n){var a=r.map(function(l){return l.props.dataKey}),i=$F[n],s=XA().keys(a).value(function(l,c){return+St(l,c,0)}).order(Qc).offset(i);return s(t)},MF=function(t,r,n,a,i,s){if(!t)return null;var l=s?r.reverse():r,c={},u=l.reduce(function(f,p){var h,g=(h=p.type)!==null&&h!==void 0&&h.defaultProps?Ke(Ke({},p.type.defaultProps),p.props):p.props,v=g.stackId,m=g.hide;if(m)return f;var x=g[n],b=f[x]||{hasStack:!1,stackGroups:{}};if(rt(v)){var N=b.stackGroups[v]||{numericAxisId:n,cateAxisId:a,items:[]};N.items.push(p),b.hasStack=!0,b.stackGroups[v]=N}else b.stackGroups[qa("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[p]};return Ke(Ke({},f),{},aa({},x,b))},c),d={};return Object.keys(u).reduce(function(f,p){var h=u[p];if(h.hasStack){var g={};h.stackGroups=Object.keys(h.stackGroups).reduce(function(v,m){var x=h.stackGroups[m];return Ke(Ke({},v),{},aa({},m,{numericAxisId:n,cateAxisId:a,items:x.items,stackedData:kF(t,x.items,i)}))},g)}return Ke(Ke({},f),{},aa({},p,h))},d)},IF=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,s=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=H5(u,i,l);return t.domain([Tl(d),rn(d)]),{niceTicks:d}}if(i&&a==="number"){var f=t.domain(),p=K5(f,i,l);return{niceTicks:p}}return null};function Es(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,i=e.index,s=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Ne(a[t.dataKey])){var l=Qi(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=St(a,Ne(s)?t.dataKey:s);return Ne(c)?null:t.scale(c)}var Im=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,s=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=St(s,r.dataKey,r.domain[l]);return Ne(c)?null:r.scale(c)-i/2+a},DF=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},RF=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Ke(Ke({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(rt(i)){var s=r[i];if(s){var l=s.items.indexOf(t);return l>=0?s.stackedData[l]:null}}return null},LF=function(t){return t.reduce(function(r,n){return[Tl(n.concat([r[0]]).filter(Z)),rn(n.concat([r[1]]).filter(Z))]},[1/0,-1/0])},Ab=function(t,r,n){return Object.keys(t).reduce(function(a,i){var s=t[i],l=s.stackedData,c=l.reduce(function(u,d){var f=LF(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},Dm=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Rm=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Eu=function(t,r,n){if(ye(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(Z(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(Dm.test(t[0])){var i=+Dm.exec(t[0])[1];a[0]=r[0]-i}else ye(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(Z(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(Rm.test(t[1])){var s=+Rm.exec(t[1])[1];a[1]=r[1]+s}else ye(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},Cs=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=tf(r,function(f){return f.coordinate}),s=1/0,l=1,c=i.length;l<c;l++){var u=i[l],d=i[l-1];s=Math.min((u.coordinate||0)-(d.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},Lm=function(t,r,n){return!t||!t.length||va(t,Ht(n,"type.defaultProps.domain"))?r:t},Eb=function(t,r){var n=t.type.defaultProps?Ke(Ke({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,s=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return Ke(Ke({},xe(t,!1)),{},{dataKey:a,unit:s,formatter:l,name:i||a,color:Ef(t),value:St(r,a),type:c,payload:r,chartType:u,hide:d})};function Ho(e){"@babel/helpers - typeof";return Ho=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ho(e)}function Fm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fm(Object(r),!0).forEach(function(n){FF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FF(e,t,r){return t=zF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zF(e){var t=BF(e,"string");return Ho(t)=="symbol"?t:t+""}function BF(e,t){if(Ho(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ho(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ts=Math.PI/180,qF=function(t){return t*180/Math.PI},ut=function(t,r,n,a){return{x:t+Math.cos(-Ts*a)*n,y:r+Math.sin(-Ts*a)*n}},VF=function(t,r){var n=t.x,a=t.y,i=r.x,s=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-s,2))},UF=function(t,r){var n=t.x,a=t.y,i=r.cx,s=r.cy,l=VF({x:n,y:a},{x:i,y:s});if(l<=0)return{radius:l};var c=(n-i)/l,u=Math.acos(c);return a>s&&(u=2*Math.PI-u),{radius:l,angle:qF(u),angleInRadian:u}},WF=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),s=Math.min(a,i);return{startAngle:r-s*360,endAngle:n-s*360}},GF=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),s=Math.floor(a/360),l=Math.min(i,s);return t+l*360},Bm=function(t,r){var n=t.x,a=t.y,i=UF({x:n,y:a},r),s=i.radius,l=i.angle,c=r.innerRadius,u=r.outerRadius;if(s<c||s>u)return!1;if(s===0)return!0;var d=WF(r),f=d.startAngle,p=d.endAngle,h=l,g;if(f<=p){for(;h>p;)h-=360;for(;h<f;)h+=360;g=h>=f&&h<=p}else{for(;h>f;)h-=360;for(;h<p;)h+=360;g=h>=p&&h<=f}return g?zm(zm({},r),{},{radius:s,angle:GF(h,r)}):null};function Ko(e){"@babel/helpers - typeof";return Ko=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ko(e)}var HF=["offset"];function KF(e){return JF(e)||ZF(e)||YF(e)||XF()}function XF(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YF(e,t){if(e){if(typeof e=="string")return Cu(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Cu(e,t)}}function ZF(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function JF(e){if(Array.isArray(e))return Cu(e)}function Cu(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function QF(e,t){if(e==null)return{};var r=ez(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ez(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function qm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qm(Object(r),!0).forEach(function(n){tz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tz(e,t,r){return t=rz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rz(e){var t=nz(e,"string");return Ko(t)=="symbol"?t:t+""}function nz(e,t){if(Ko(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ko(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xo(){return Xo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xo.apply(this,arguments)}var az=function(t){var r=t.value,n=t.formatter,a=Ne(t.children)?r:t.children;return ye(n)?n(a):a},oz=function(t,r){var n=or(r-t),a=Math.min(Math.abs(r-t),360);return n*a},iz=function(t,r,n){var a=t.position,i=t.viewBox,s=t.offset,l=t.className,c=i,u=c.cx,d=c.cy,f=c.innerRadius,p=c.outerRadius,h=c.startAngle,g=c.endAngle,v=c.clockWise,m=(f+p)/2,x=oz(h,g),b=x>=0?1:-1,N,j;a==="insideStart"?(N=h+b*s,j=v):a==="insideEnd"?(N=g-b*s,j=!v):a==="end"&&(N=g+b*s,j=v),j=x<=0?j:!j;var y=ut(u,d,m,N),w=ut(u,d,m,N+(j?1:-1)*359),_="M".concat(y.x,",").concat(y.y,`
    A`).concat(m,",").concat(m,",0,1,").concat(j?0:1,`,
    `).concat(w.x,",").concat(w.y),P=Ne(t.id)?qa("recharts-radial-line-"):t.id;return E.createElement("text",Xo({},n,{dominantBaseline:"central",className:_e("recharts-radial-bar-label",l)}),E.createElement("defs",null,E.createElement("path",{id:P,d:_})),E.createElement("textPath",{xlinkHref:"#".concat(P)},r))},sz=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,s=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,p=(d+f)/2;if(a==="outside"){var h=ut(s,l,u+n,p),g=h.x,v=h.y;return{x:g,y:v,textAnchor:g>=s?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"end"};var m=(c+u)/2,x=ut(s,l,m,p),b=x.x,N=x.y;return{x:b,y:N,textAnchor:"middle",verticalAnchor:"middle"}},lz=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,s=r,l=s.x,c=s.y,u=s.width,d=s.height,f=d>=0?1:-1,p=f*a,h=f>0?"end":"start",g=f>0?"start":"end",v=u>=0?1:-1,m=v*a,x=v>0?"end":"start",b=v>0?"start":"end";if(i==="top"){var N={x:l+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:h};return tt(tt({},N),n?{height:Math.max(c-n.y,0),width:u}:{})}if(i==="bottom"){var j={x:l+u/2,y:c+d+p,textAnchor:"middle",verticalAnchor:g};return tt(tt({},j),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(i==="left"){var y={x:l-m,y:c+d/2,textAnchor:x,verticalAnchor:"middle"};return tt(tt({},y),n?{width:Math.max(y.x-n.x,0),height:d}:{})}if(i==="right"){var w={x:l+u+m,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return tt(tt({},w),n?{width:Math.max(n.x+n.width-w.x,0),height:d}:{})}var _=n?{width:u,height:d}:{};return i==="insideLeft"?tt({x:l+m,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},_):i==="insideRight"?tt({x:l+u-m,y:c+d/2,textAnchor:x,verticalAnchor:"middle"},_):i==="insideTop"?tt({x:l+u/2,y:c+p,textAnchor:"middle",verticalAnchor:g},_):i==="insideBottom"?tt({x:l+u/2,y:c+d-p,textAnchor:"middle",verticalAnchor:h},_):i==="insideTopLeft"?tt({x:l+m,y:c+p,textAnchor:b,verticalAnchor:g},_):i==="insideTopRight"?tt({x:l+u-m,y:c+p,textAnchor:x,verticalAnchor:g},_):i==="insideBottomLeft"?tt({x:l+m,y:c+d-p,textAnchor:b,verticalAnchor:h},_):i==="insideBottomRight"?tt({x:l+u-m,y:c+d-p,textAnchor:x,verticalAnchor:h},_):Ra(i)&&(Z(i.x)||wn(i.x))&&(Z(i.y)||wn(i.y))?tt({x:l+Tn(i.x,u),y:c+Tn(i.y,d),textAnchor:"end",verticalAnchor:"end"},_):tt({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},_)},cz=function(t){return"cx"in t&&Z(t.cx)};function ht(e){var t=e.offset,r=t===void 0?5:t,n=QF(e,HF),a=tt({offset:r},n),i=a.viewBox,s=a.position,l=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,p=a.textBreakAll;if(!i||Ne(l)&&Ne(c)&&!S.isValidElement(u)&&!ye(u))return null;if(S.isValidElement(u))return S.cloneElement(u,a);var h;if(ye(u)){if(h=S.createElement(u,a),S.isValidElement(h))return h}else h=az(a);var g=cz(i),v=xe(a,!0);if(g&&(s==="insideStart"||s==="insideEnd"||s==="end"))return iz(a,h,v);var m=g?sz(a):lz(a);return E.createElement(ms,Xo({className:_e("recharts-label",f)},v,m,{breakAll:p}),h)}ht.displayName="Label";var Cb=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,s=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,p=t.y,h=t.top,g=t.left,v=t.width,m=t.height,x=t.clockWise,b=t.labelViewBox;if(b)return b;if(Z(v)&&Z(m)){if(Z(f)&&Z(p))return{x:f,y:p,width:v,height:m};if(Z(h)&&Z(g))return{x:h,y:g,width:v,height:m}}return Z(f)&&Z(p)?{x:f,y:p,width:0,height:0}:Z(r)&&Z(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:s||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:x}:t.viewBox?t.viewBox:{}},uz=function(t,r){return t?t===!0?E.createElement(ht,{key:"label-implicit",viewBox:r}):rt(t)?E.createElement(ht,{key:"label-implicit",viewBox:r,value:t}):S.isValidElement(t)?t.type===ht?S.cloneElement(t,{key:"label-implicit",viewBox:r}):E.createElement(ht,{key:"label-implicit",content:t,viewBox:r}):ye(t)?E.createElement(ht,{key:"label-implicit",content:t,viewBox:r}):Ra(t)?E.createElement(ht,Xo({viewBox:r},t,{key:"label-implicit"})):null:null},dz=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=Cb(t),s=Kt(a,ht).map(function(c,u){return S.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return s;var l=uz(t.label,r||i);return[l].concat(KF(s))};ht.parseViewBox=Cb;ht.renderCallByParent=dz;function fz(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var pz=fz;const hz=Fe(pz);function Yo(e){"@babel/helpers - typeof";return Yo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yo(e)}var mz=["valueAccessor"],gz=["data","dataKey","clockWise","id","textBreakAll"];function vz(e){return wz(e)||bz(e)||xz(e)||yz()}function yz(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xz(e,t){if(e){if(typeof e=="string")return Tu(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Tu(e,t)}}function bz(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function wz(e){if(Array.isArray(e))return Tu(e)}function Tu(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $s(){return $s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$s.apply(this,arguments)}function Vm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Um(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vm(Object(r),!0).forEach(function(n){jz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jz(e,t,r){return t=Nz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nz(e){var t=Sz(e,"string");return Yo(t)=="symbol"?t:t+""}function Sz(e,t){if(Yo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Yo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wm(e,t){if(e==null)return{};var r=_z(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _z(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Pz=function(t){return Array.isArray(t.value)?hz(t.value):t.value};function Rr(e){var t=e.valueAccessor,r=t===void 0?Pz:t,n=Wm(e,mz),a=n.data,i=n.dataKey,s=n.clockWise,l=n.id,c=n.textBreakAll,u=Wm(n,gz);return!a||!a.length?null:E.createElement(Re,{className:"recharts-label-list"},a.map(function(d,f){var p=Ne(i)?r(d,f):St(d&&d.payload,i),h=Ne(l)?{}:{id:"".concat(l,"-").concat(f)};return E.createElement(ht,$s({},xe(d,!0),u,h,{parentViewBox:d.parentViewBox,value:p,textBreakAll:c,viewBox:ht.parseViewBox(Ne(s)?d:Um(Um({},d),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}Rr.displayName="LabelList";function Oz(e,t){return e?e===!0?E.createElement(Rr,{key:"labelList-implicit",data:t}):E.isValidElement(e)||ye(e)?E.createElement(Rr,{key:"labelList-implicit",data:t,content:e}):Ra(e)?E.createElement(Rr,$s({data:t},e,{key:"labelList-implicit"})):null:null}function Az(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=Kt(n,Rr).map(function(s,l){return S.cloneElement(s,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var i=Oz(e.label,t);return[i].concat(vz(a))}Rr.renderCallByParent=Az;function Zo(e){"@babel/helpers - typeof";return Zo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zo(e)}function $u(){return $u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$u.apply(this,arguments)}function Gm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Hm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gm(Object(r),!0).forEach(function(n){Ez(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ez(e,t,r){return t=Cz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cz(e){var t=Tz(e,"string");return Zo(t)=="symbol"?t:t+""}function Tz(e,t){if(Zo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Zo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $z=function(t,r){var n=or(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},zi=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,s=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+a,f=Math.asin(c/d)/Ts,p=u?i:i+s*f,h=ut(r,n,d,p),g=ut(r,n,a,p),v=u?i-s*f:i,m=ut(r,n,d*Math.cos(f*Ts),v);return{center:h,circleTangency:g,lineTangency:m,theta:f}},Tb=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,s=t.startAngle,l=t.endAngle,c=$z(s,l),u=s+c,d=ut(r,n,i,s),f=ut(r,n,i,u),p="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(s>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var h=ut(r,n,a,s),g=ut(r,n,a,u);p+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(s<=u),`,
            `).concat(h.x,",").concat(h.y," Z")}else p+="L ".concat(r,",").concat(n," Z");return p},kz=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,s=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=or(d-u),p=zi({cx:r,cy:n,radius:i,angle:u,sign:f,cornerRadius:s,cornerIsExternal:c}),h=p.circleTangency,g=p.lineTangency,v=p.theta,m=zi({cx:r,cy:n,radius:i,angle:d,sign:-f,cornerRadius:s,cornerIsExternal:c}),x=m.circleTangency,b=m.lineTangency,N=m.theta,j=c?Math.abs(u-d):Math.abs(u-d)-v-N;if(j<0)return l?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):Tb({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d});var y="M ".concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(j>180),",").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
  `);if(a>0){var w=zi({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),_=w.circleTangency,P=w.lineTangency,O=w.theta,k=zi({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),A=k.circleTangency,T=k.lineTangency,z=k.theta,$=c?Math.abs(u-d):Math.abs(u-d)-O-z;if($<0&&s===0)return"".concat(y,"L").concat(r,",").concat(n,"Z");y+="L".concat(T.x,",").concat(T.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(A.x,",").concat(A.y,`
      A`).concat(a,",").concat(a,",0,").concat(+($>180),",").concat(+(f>0),",").concat(_.x,",").concat(_.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(P.x,",").concat(P.y,"Z")}else y+="L".concat(r,",").concat(n,"Z");return y},Mz={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},$b=function(t){var r=Hm(Hm({},Mz),t),n=r.cx,a=r.cy,i=r.innerRadius,s=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,p=r.className;if(s<i||d===f)return null;var h=_e("recharts-sector",p),g=s-i,v=Tn(l,g,0,!0),m;return v>0&&Math.abs(d-f)<360?m=kz({cx:n,cy:a,innerRadius:i,outerRadius:s,cornerRadius:Math.min(v,g/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):m=Tb({cx:n,cy:a,innerRadius:i,outerRadius:s,startAngle:d,endAngle:f}),E.createElement("path",$u({},xe(r,!0),{className:h,d:m,role:"img"}))};function Jo(e){"@babel/helpers - typeof";return Jo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jo(e)}function ku(){return ku=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ku.apply(this,arguments)}function Km(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Km(Object(r),!0).forEach(function(n){Iz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Km(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Iz(e,t,r){return t=Dz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dz(e){var t=Rz(e,"string");return Jo(t)=="symbol"?t:t+""}function Rz(e,t){if(Jo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Jo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ym={curveBasisClosed:LA,curveBasisOpen:FA,curveBasis:RA,curveBumpX:NA,curveBumpY:SA,curveLinearClosed:zA,curveLinear:bl,curveMonotoneX:BA,curveMonotoneY:qA,curveNatural:VA,curveStep:UA,curveStepAfter:GA,curveStepBefore:WA},Bi=function(t){return t.x===+t.x&&t.y===+t.y},co=function(t){return t.x},uo=function(t){return t.y},Lz=function(t,r){if(ye(t))return t;var n="curve".concat(yl(t));return(n==="curveMonotone"||n==="curveBump")&&r?Ym["".concat(n).concat(r==="vertical"?"Y":"X")]:Ym[n]||bl},Fz=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,s=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=Lz(n,l),f=u?i.filter(function(v){return Bi(v)}):i,p;if(Array.isArray(s)){var h=u?s.filter(function(v){return Bi(v)}):s,g=f.map(function(v,m){return Xm(Xm({},v),{},{base:h[m]})});return l==="vertical"?p=Ti().y(uo).x1(co).x0(function(v){return v.base.x}):p=Ti().x(co).y1(uo).y0(function(v){return v.base.y}),p.defined(Bi).curve(d),p(g)}return l==="vertical"&&Z(s)?p=Ti().y(uo).x1(co).x0(s):Z(s)?p=Ti().x(co).y1(uo).y0(s):p=ky().x(co).y(uo),p.defined(Bi).curve(d),p(f)},oa=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var s=n&&n.length?Fz(t):a;return E.createElement("path",ku({},xe(t,!1),es(t),{className:_e("recharts-curve",r),d:s,ref:i}))},kb={exports:{}},zz="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Bz=zz,qz=Bz;function Mb(){}function Ib(){}Ib.resetWarningCache=Mb;var Vz=function(){function e(n,a,i,s,l,c){if(c!==qz){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Ib,resetWarningCache:Mb};return r.PropTypes=r,r};kb.exports=Vz();var Uz=kb.exports;const Te=Fe(Uz);var Wz=Object.getOwnPropertyNames,Gz=Object.getOwnPropertySymbols,Hz=Object.prototype.hasOwnProperty;function Zm(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function qi(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var i=a.cache,s=i.get(r),l=i.get(n);if(s&&l)return s===n&&l===r;i.set(r,n),i.set(n,r);var c=e(r,n,a);return i.delete(r),i.delete(n),c}}function Jm(e){return Wz(e).concat(Gz(e))}var Kz=Object.hasOwn||function(e,t){return Hz.call(e,t)};function Bn(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var Xz="__v",Yz="__o",Zz="_owner",Qm=Object.getOwnPropertyDescriptor,eg=Object.keys;function Jz(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function Qz(e,t){return Bn(e.getTime(),t.getTime())}function e3(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function t3(e,t){return e===t}function tg(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.entries(),s,l,c=0;(s=i.next())&&!s.done;){for(var u=t.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(a[f]){f++;continue}var p=s.value,h=l.value;if(r.equals(p[0],h[0],c,f,e,t,r)&&r.equals(p[1],h[1],p[0],h[0],e,t,r)){d=a[f]=!0;break}f++}if(!d)return!1;c++}return!0}var r3=Bn;function n3(e,t,r){var n=eg(e),a=n.length;if(eg(t).length!==a)return!1;for(;a-- >0;)if(!Db(e,t,r,n[a]))return!1;return!0}function fo(e,t,r){var n=Jm(e),a=n.length;if(Jm(t).length!==a)return!1;for(var i,s,l;a-- >0;)if(i=n[a],!Db(e,t,r,i)||(s=Qm(e,i),l=Qm(t,i),(s||l)&&(!s||!l||s.configurable!==l.configurable||s.enumerable!==l.enumerable||s.writable!==l.writable)))return!1;return!0}function a3(e,t){return Bn(e.valueOf(),t.valueOf())}function o3(e,t){return e.source===t.source&&e.flags===t.flags}function rg(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.values(),s,l;(s=i.next())&&!s.done;){for(var c=t.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!a[d]&&r.equals(s.value,l.value,s.value,l.value,e,t,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function i3(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function s3(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function Db(e,t,r,n){return(n===Zz||n===Yz||n===Xz)&&(e.$$typeof||t.$$typeof)?!0:Kz(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var l3="[object Arguments]",c3="[object Boolean]",u3="[object Date]",d3="[object Error]",f3="[object Map]",p3="[object Number]",h3="[object Object]",m3="[object RegExp]",g3="[object Set]",v3="[object String]",y3="[object URL]",x3=Array.isArray,ng=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,ag=Object.assign,b3=Object.prototype.toString.call.bind(Object.prototype.toString);function w3(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,s=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,p=e.areUrlsEqual;return function(g,v,m){if(g===v)return!0;if(g==null||v==null)return!1;var x=typeof g;if(x!==typeof v)return!1;if(x!=="object")return x==="number"?s(g,v,m):x==="function"?a(g,v,m):!1;var b=g.constructor;if(b!==v.constructor)return!1;if(b===Object)return l(g,v,m);if(x3(g))return t(g,v,m);if(ng!=null&&ng(g))return f(g,v,m);if(b===Date)return r(g,v,m);if(b===RegExp)return u(g,v,m);if(b===Map)return i(g,v,m);if(b===Set)return d(g,v,m);var N=b3(g);return N===u3?r(g,v,m):N===m3?u(g,v,m):N===f3?i(g,v,m):N===g3?d(g,v,m):N===h3?typeof g.then!="function"&&typeof v.then!="function"&&l(g,v,m):N===y3?p(g,v,m):N===d3?n(g,v,m):N===l3?l(g,v,m):N===c3||N===p3||N===v3?c(g,v,m):!1}}function j3(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?fo:Jz,areDatesEqual:Qz,areErrorsEqual:e3,areFunctionsEqual:t3,areMapsEqual:n?Zm(tg,fo):tg,areNumbersEqual:r3,areObjectsEqual:n?fo:n3,arePrimitiveWrappersEqual:a3,areRegExpsEqual:o3,areSetsEqual:n?Zm(rg,fo):rg,areTypedArraysEqual:n?fo:i3,areUrlsEqual:s3};if(r&&(a=ag({},a,r(a))),t){var i=qi(a.areArraysEqual),s=qi(a.areMapsEqual),l=qi(a.areObjectsEqual),c=qi(a.areSetsEqual);a=ag({},a,{areArraysEqual:i,areMapsEqual:s,areObjectsEqual:l,areSetsEqual:c})}return a}function N3(e){return function(t,r,n,a,i,s,l){return e(t,r,l)}}function S3(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,i=e.strict;if(n)return function(c,u){var d=n(),f=d.cache,p=f===void 0?t?new WeakMap:void 0:f,h=d.meta;return r(c,u,{cache:p,equals:a,meta:h,strict:i})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var s={cache:void 0,equals:a,meta:void 0,strict:i};return function(c,u){return r(c,u,s)}}var _3=hn();hn({strict:!0});hn({circular:!0});hn({circular:!0,strict:!0});hn({createInternalComparator:function(){return Bn}});hn({strict:!0,createInternalComparator:function(){return Bn}});hn({circular:!0,createInternalComparator:function(){return Bn}});hn({circular:!0,createInternalComparator:function(){return Bn},strict:!0});function hn(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,i=e.strict,s=i===void 0?!1:i,l=j3(e),c=w3(l),u=n?n(c):N3(c);return S3({circular:r,comparator:c,createState:a,equals:u,strict:s})}function P3(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function og(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):P3(a)};requestAnimationFrame(n)}function Mu(e){"@babel/helpers - typeof";return Mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mu(e)}function O3(e){return T3(e)||C3(e)||E3(e)||A3()}function A3(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E3(e,t){if(e){if(typeof e=="string")return ig(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ig(e,t)}}function ig(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function C3(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function T3(e){if(Array.isArray(e))return e}function $3(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var s=i,l=O3(s),c=l[0],u=l.slice(1);if(typeof c=="number"){og(a.bind(null,u),c);return}a(c),og(a.bind(null,u));return}Mu(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function Qo(e){"@babel/helpers - typeof";return Qo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qo(e)}function sg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sg(Object(r),!0).forEach(function(n){Rb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rb(e,t,r){return t=k3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k3(e){var t=M3(e,"string");return Qo(t)==="symbol"?t:String(t)}function M3(e,t){if(Qo(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Qo(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var I3=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},D3=function(t){return t},R3=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},No=function(t,r){return Object.keys(r).reduce(function(n,a){return lg(lg({},n),{},Rb({},a,t(a,r[a])))},{})},cg=function(t,r,n){return t.map(function(a){return"".concat(R3(a)," ").concat(r,"ms ").concat(n)}).join(",")};function L3(e,t){return B3(e)||z3(e,t)||Lb(e,t)||F3()}function F3(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z3(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function B3(e){if(Array.isArray(e))return e}function q3(e){return W3(e)||U3(e)||Lb(e)||V3()}function V3(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lb(e,t){if(e){if(typeof e=="string")return Iu(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Iu(e,t)}}function U3(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function W3(e){if(Array.isArray(e))return Iu(e)}function Iu(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ks=1e-4,Fb=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},zb=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},ug=function(t,r){return function(n){var a=Fb(t,r);return zb(a,n)}},G3=function(t,r){return function(n){var a=Fb(t,r),i=[].concat(q3(a.map(function(s,l){return s*l}).slice(1)),[0]);return zb(i,n)}},dg=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],s=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,s=1,l=1;break;case"ease":a=.25,i=.1,s=.25,l=1;break;case"ease-in":a=.42,i=0,s=1,l=1;break;case"ease-out":a=.42,i=0,s=.58,l=1;break;case"ease-in-out":a=0,i=0,s=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(m){return parseFloat(m)}),d=L3(u,4);a=d[0],i=d[1],s=d[2],l=d[3]}}}var f=ug(a,s),p=ug(i,l),h=G3(a,s),g=function(x){return x>1?1:x<0?0:x},v=function(x){for(var b=x>1?1:x,N=b,j=0;j<8;++j){var y=f(N)-b,w=h(N);if(Math.abs(y-b)<ks||w<ks)return p(N);N=g(N-y/w)}return p(N)};return v.isStepper=!1,v},H3=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,s=t.dt,l=s===void 0?17:s,c=function(d,f,p){var h=-(d-f)*n,g=p*i,v=p+(h-g)*l/1e3,m=p*l/1e3+d;return Math.abs(m-f)<ks&&Math.abs(v)<ks?[f,0]:[m,v]};return c.isStepper=!0,c.dt=l,c},K3=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return dg(a);case"spring":return H3();default:if(a.split("(")[0]==="cubic-bezier")return dg(a)}return typeof a=="function"?a:null};function ei(e){"@babel/helpers - typeof";return ei=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ei(e)}function fg(e){return Z3(e)||Y3(e)||Bb(e)||X3()}function X3(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y3(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Z3(e){if(Array.isArray(e))return Ru(e)}function pg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pg(Object(r),!0).forEach(function(n){Du(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Du(e,t,r){return t=J3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J3(e){var t=Q3(e,"string");return ei(t)==="symbol"?t:String(t)}function Q3(e,t){if(ei(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ei(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function e6(e,t){return n6(e)||r6(e,t)||Bb(e,t)||t6()}function t6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bb(e,t){if(e){if(typeof e=="string")return Ru(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ru(e,t)}}function Ru(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function r6(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function n6(e){if(Array.isArray(e))return e}var Ms=function(t,r,n){return t+(r-t)*n},Lu=function(t){var r=t.from,n=t.to;return r!==n},a6=function e(t,r,n){var a=No(function(i,s){if(Lu(s)){var l=t(s.from,s.to,s.velocity),c=e6(l,2),u=c[0],d=c[1];return lt(lt({},s),{},{from:u,velocity:d})}return s},r);return n<1?No(function(i,s){return Lu(s)?lt(lt({},s),{},{velocity:Ms(s.velocity,a[i].velocity,n),from:Ms(s.from,a[i].from,n)}):s},r):e(t,a,n-1)};const o6=function(e,t,r,n,a){var i=I3(e,t),s=i.reduce(function(m,x){return lt(lt({},m),{},Du({},x,[e[x],t[x]]))},{}),l=i.reduce(function(m,x){return lt(lt({},m),{},Du({},x,{from:e[x],velocity:0,to:t[x]}))},{}),c=-1,u,d,f=function(){return null},p=function(){return No(function(x,b){return b.from},l)},h=function(){return!Object.values(l).filter(Lu).length},g=function(x){u||(u=x);var b=x-u,N=b/r.dt;l=a6(r,l,N),a(lt(lt(lt({},e),t),p())),u=x,h()||(c=requestAnimationFrame(f))},v=function(x){d||(d=x);var b=(x-d)/n,N=No(function(y,w){return Ms.apply(void 0,fg(w).concat([r(b)]))},s);if(a(lt(lt(lt({},e),t),N)),b<1)c=requestAnimationFrame(f);else{var j=No(function(y,w){return Ms.apply(void 0,fg(w).concat([r(1)]))},s);a(lt(lt(lt({},e),t),j))}};return f=r.isStepper?g:v,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function xa(e){"@babel/helpers - typeof";return xa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xa(e)}var i6=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function s6(e,t){if(e==null)return{};var r=l6(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function l6(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function _c(e){return f6(e)||d6(e)||u6(e)||c6()}function c6(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u6(e,t){if(e){if(typeof e=="string")return Fu(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Fu(e,t)}}function d6(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function f6(e){if(Array.isArray(e))return Fu(e)}function Fu(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function hg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hg(Object(r),!0).forEach(function(n){ho(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ho(e,t,r){return t=qb(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p6(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mg(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qb(n.key),n)}}function h6(e,t,r){return t&&mg(e.prototype,t),r&&mg(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function qb(e){var t=m6(e,"string");return xa(t)==="symbol"?t:String(t)}function m6(e,t){if(xa(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(xa(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function g6(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zu(e,t)}function zu(e,t){return zu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},zu(e,t)}function v6(e){var t=y6();return function(){var n=Is(e),a;if(t){var i=Is(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Bu(this,a)}}function Bu(e,t){if(t&&(xa(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qu(e)}function qu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y6(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Is(e){return Is=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Is(e)}var Ml=function(e){g6(r,e);var t=v6(r);function r(n,a){var i;p6(this,r),i=t.call(this,n,a);var s=i.props,l=s.isActive,c=s.attributeName,u=s.from,d=s.to,f=s.steps,p=s.children,h=s.duration;if(i.handleStyleChange=i.handleStyleChange.bind(qu(i)),i.changeStyle=i.changeStyle.bind(qu(i)),!l||h<=0)return i.state={style:{}},typeof p=="function"&&(i.state={style:d}),Bu(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof p=="function")return i.state={style:u},Bu(i);i.state={style:c?ho({},c,u):u}}else i.state={style:{}};return i}return h6(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,s=a.canBegin;this.mounted=!0,!(!i||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,s=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,p=this.state.style;if(l){if(!s){var h={style:c?ho({},c,d):d};this.state&&p&&(c&&p[c]!==d||!c&&p!==d)&&this.setState(h);return}if(!(_3(a.to,d)&&a.canBegin&&a.isActive)){var g=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var v=g||u?f:a.to;if(this.state&&p){var m={style:c?ho({},c,v):v};(c&&p[c]!==v||!c&&p!==v)&&this.setState(m)}this.runAnimation(tr(tr({},this.props),{},{from:v,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,s=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,p=a.onAnimationStart,h=o6(s,l,K3(u),c,this.changeStyle),g=function(){i.stopJSAnimation=h()};this.manager.start([p,d,g,c,f])}},{key:"runStepAnimation",value:function(a){var i=this,s=a.steps,l=a.begin,c=a.onAnimationStart,u=s[0],d=u.style,f=u.duration,p=f===void 0?0:f,h=function(v,m,x){if(x===0)return v;var b=m.duration,N=m.easing,j=N===void 0?"ease":N,y=m.style,w=m.properties,_=m.onAnimationEnd,P=x>0?s[x-1]:m,O=w||Object.keys(y);if(typeof j=="function"||j==="spring")return[].concat(_c(v),[i.runJSAnimation.bind(i,{from:P.style,to:y,duration:b,easing:j}),b]);var k=cg(O,b,j),A=tr(tr(tr({},P.style),y),{},{transition:k});return[].concat(_c(v),[A,b,_]).filter(D3)};return this.manager.start([c].concat(_c(s.reduce(h,[d,Math.max(p,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=$3());var i=a.begin,s=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,p=a.steps,h=a.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof h=="function"||u==="spring"){this.runJSAnimation(a);return}if(p.length>1){this.runStepAnimation(a);return}var v=l?ho({},l,c):c,m=cg(Object.keys(v),s,u);g.start([d,i,tr(tr({},v),{},{transition:m}),s,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var s=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=s6(a,i6),u=S.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!l||u===0||s<=0)return i;var f=function(h){var g=h.props,v=g.style,m=v===void 0?{}:v,x=g.className,b=S.cloneElement(h,tr(tr({},c),{},{style:tr(tr({},m),d),className:x}));return b};return u===1?f(S.Children.only(i)):E.createElement("div",null,S.Children.map(i,function(p){return f(p)}))}}]),r}(S.PureComponent);Ml.displayName="Animate";Ml.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Ml.propTypes={from:Te.oneOfType([Te.object,Te.string]),to:Te.oneOfType([Te.object,Te.string]),attributeName:Te.string,duration:Te.number,begin:Te.number,easing:Te.oneOfType([Te.string,Te.func]),steps:Te.arrayOf(Te.shape({duration:Te.number.isRequired,style:Te.object.isRequired,easing:Te.oneOfType([Te.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Te.func]),properties:Te.arrayOf("string"),onAnimationEnd:Te.func})),children:Te.oneOfType([Te.node,Te.func]),isActive:Te.bool,canBegin:Te.bool,onAnimationEnd:Te.func,shouldReAnimate:Te.bool,onAnimationStart:Te.func,onAnimationReStart:Te.func};const Mn=Ml;function ti(e){"@babel/helpers - typeof";return ti=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ti(e)}function Ds(){return Ds=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ds.apply(this,arguments)}function x6(e,t){return N6(e)||j6(e,t)||w6(e,t)||b6()}function b6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w6(e,t){if(e){if(typeof e=="string")return gg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gg(e,t)}}function gg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function j6(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function N6(e){if(Array.isArray(e))return e}function vg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vg(Object(r),!0).forEach(function(n){S6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function S6(e,t,r){return t=_6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _6(e){var t=P6(e,"string");return ti(t)=="symbol"?t:t+""}function P6(e,t){if(ti(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ti(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xg=function(t,r,n,a,i){var s=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(s>0&&i instanceof Array){for(var f=[0,0,0,0],p=0,h=4;p<h;p++)f[p]=i[p]>s?s:i[p];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+a-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+a)),d+="L ".concat(t+c*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-l*f[3])),d+="Z"}else if(s>0&&i===+i&&i>0){var g=Math.min(s,i);d="M ".concat(t,",").concat(r+l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+c*g,",").concat(r,`
            L `).concat(t+n-c*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*g,`
            L `).concat(t+n,",").concat(r+a-l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n-c*g,",").concat(r+a,`
            L `).concat(t+c*g,",").concat(r+a,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t,",").concat(r+a-l*g," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},O6=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,s=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),d=Math.max(i,i+l),f=Math.min(s,s+c),p=Math.max(s,s+c);return n>=u&&n<=d&&a>=f&&a<=p}return!1},A6={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Cf=function(t){var r=yg(yg({},A6),t),n=S.useRef(),a=S.useState(-1),i=x6(a,2),s=i[0],l=i[1];S.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var j=n.current.getTotalLength();j&&l(j)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,p=r.radius,h=r.className,g=r.animationEasing,v=r.animationDuration,m=r.animationBegin,x=r.isAnimationActive,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var N=_e("recharts-rectangle",h);return b?E.createElement(Mn,{canBegin:s>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:v,animationEasing:g,isActive:b},function(j){var y=j.width,w=j.height,_=j.x,P=j.y;return E.createElement(Mn,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:v,isActive:x,easing:g},E.createElement("path",Ds({},xe(r,!0),{className:N,d:xg(_,P,y,w,p),ref:n})))}):E.createElement("path",Ds({},xe(r,!0),{className:N,d:xg(c,u,d,f,p)}))};function Vu(){return Vu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vu.apply(this,arguments)}var Il=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,s=_e("recharts-dot",i);return r===+r&&n===+n&&a===+a?E.createElement("circle",Vu({},xe(t,!1),es(t),{className:s,cx:r,cy:n,r:a})):null};function ri(e){"@babel/helpers - typeof";return ri=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ri(e)}var E6=["x","y","top","left","width","height","className"];function Uu(){return Uu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uu.apply(this,arguments)}function bg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function C6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bg(Object(r),!0).forEach(function(n){T6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function T6(e,t,r){return t=$6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $6(e){var t=k6(e,"string");return ri(t)=="symbol"?t:t+""}function k6(e,t){if(ri(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ri(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function M6(e,t){if(e==null)return{};var r=I6(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function I6(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var D6=function(t,r,n,a,i,s){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(s,",").concat(r,"h").concat(n)},R6=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,s=t.top,l=s===void 0?0:s,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,p=t.height,h=p===void 0?0:p,g=t.className,v=M6(t,E6),m=C6({x:n,y:i,top:l,left:u,width:f,height:h},v);return!Z(n)||!Z(i)||!Z(f)||!Z(h)||!Z(l)||!Z(u)?null:E.createElement("path",Uu({},xe(m,!0),{className:_e("recharts-cross",g),d:D6(n,i,f,h,l,u)}))},L6=nx,F6=L6(Object.getPrototypeOf,Object),z6=F6,B6=Wr,q6=z6,V6=Gr,U6="[object Object]",W6=Function.prototype,G6=Object.prototype,Vb=W6.toString,H6=G6.hasOwnProperty,K6=Vb.call(Object);function X6(e){if(!V6(e)||B6(e)!=U6)return!1;var t=q6(e);if(t===null)return!0;var r=H6.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&Vb.call(r)==K6}var Y6=X6;const Z6=Fe(Y6);var J6=Wr,Q6=Gr,eB="[object Boolean]";function tB(e){return e===!0||e===!1||Q6(e)&&J6(e)==eB}var rB=tB;const nB=Fe(rB);function ni(e){"@babel/helpers - typeof";return ni=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ni(e)}function Rs(){return Rs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rs.apply(this,arguments)}function aB(e,t){return lB(e)||sB(e,t)||iB(e,t)||oB()}function oB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iB(e,t){if(e){if(typeof e=="string")return wg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wg(e,t)}}function wg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sB(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function lB(e){if(Array.isArray(e))return e}function jg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ng(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jg(Object(r),!0).forEach(function(n){cB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cB(e,t,r){return t=uB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uB(e){var t=dB(e,"string");return ni(t)=="symbol"?t:t+""}function dB(e,t){if(ni(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ni(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Sg=function(t,r,n,a,i){var s=n-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-s/2,",").concat(r+i),l+="L ".concat(t+n-s/2-a,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},fB={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},pB=function(t){var r=Ng(Ng({},fB),t),n=S.useRef(),a=S.useState(-1),i=aB(a,2),s=i[0],l=i[1];S.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var N=n.current.getTotalLength();N&&l(N)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,p=r.height,h=r.className,g=r.animationEasing,v=r.animationDuration,m=r.animationBegin,x=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||p!==+p||d===0&&f===0||p===0)return null;var b=_e("recharts-trapezoid",h);return x?E.createElement(Mn,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:p,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:p,x:c,y:u},duration:v,animationEasing:g,isActive:x},function(N){var j=N.upperWidth,y=N.lowerWidth,w=N.height,_=N.x,P=N.y;return E.createElement(Mn,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:v,easing:g},E.createElement("path",Rs({},xe(r,!0),{className:b,d:Sg(_,P,j,y,w),ref:n})))}):E.createElement("g",null,E.createElement("path",Rs({},xe(r,!0),{className:b,d:Sg(c,u,d,f,p)})))},hB=["option","shapeType","propTransformer","activeClassName","isActive"];function ai(e){"@babel/helpers - typeof";return ai=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ai(e)}function mB(e,t){if(e==null)return{};var r=gB(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gB(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function _g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ls(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_g(Object(r),!0).forEach(function(n){vB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_g(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vB(e,t,r){return t=yB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yB(e){var t=xB(e,"string");return ai(t)=="symbol"?t:t+""}function xB(e,t){if(ai(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ai(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bB(e,t){return Ls(Ls({},t),e)}function wB(e,t){return e==="symbols"}function Pg(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return E.createElement(Cf,r);case"trapezoid":return E.createElement(pB,r);case"sector":return E.createElement($b,r);case"symbols":if(wB(t))return E.createElement(Hd,r);break;default:return null}}function jB(e){return S.isValidElement(e)?e.props:e}function NB(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?bB:n,i=e.activeClassName,s=i===void 0?"recharts-active-shape":i,l=e.isActive,c=mB(e,hB),u;if(S.isValidElement(t))u=S.cloneElement(t,Ls(Ls({},c),jB(t)));else if(ye(t))u=t(c);else if(Z6(t)&&!nB(t)){var d=a(t,c);u=E.createElement(Pg,{shapeType:r,elementProps:d})}else{var f=c;u=E.createElement(Pg,{shapeType:r,elementProps:f})}return l?E.createElement(Re,{className:s},u):u}function Dl(e,t){return t!=null&&"trapezoids"in e.props}function Rl(e,t){return t!=null&&"sectors"in e.props}function oi(e,t){return t!=null&&"points"in e.props}function SB(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function _B(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function PB(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function OB(e,t){var r;return Dl(e,t)?r=SB:Rl(e,t)?r=_B:oi(e,t)&&(r=PB),r}function AB(e,t){var r;return Dl(e,t)?r="trapezoids":Rl(e,t)?r="sectors":oi(e,t)&&(r="points"),r}function EB(e,t){if(Dl(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Rl(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return oi(e,t)?t.payload:{}}function CB(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=AB(r,t),i=EB(r,t),s=n.filter(function(c,u){var d=va(i,c),f=r.props[a].filter(function(g){var v=OB(r,t);return v(g,t)}),p=r.props[a].indexOf(f[f.length-1]),h=u===p;return d&&h}),l=n.indexOf(s[s.length-1]);return l}var TB=Math.ceil,$B=Math.max;function kB(e,t,r,n){for(var a=-1,i=$B(TB((t-e)/(r||1)),0),s=Array(i);i--;)s[n?i:++a]=e,e+=r;return s}var MB=kB,IB=jx,Og=1/0,DB=17976931348623157e292;function RB(e){if(!e)return e===0?e:0;if(e=IB(e),e===Og||e===-Og){var t=e<0?-1:1;return t*DB}return e===e?e:0}var Ub=RB,LB=MB,FB=Sl,Pc=Ub;function zB(e){return function(t,r,n){return n&&typeof n!="number"&&FB(t,r,n)&&(r=n=void 0),t=Pc(t),r===void 0?(r=t,t=0):r=Pc(r),n=n===void 0?t<r?1:-1:Pc(n),LB(t,r,n,e)}}var BB=zB,qB=BB,VB=qB(),UB=VB;const Fs=Fe(UB);function ii(e){"@babel/helpers - typeof";return ii=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ii(e)}function Ag(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Eg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ag(Object(r),!0).forEach(function(n){Wb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ag(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wb(e,t,r){return t=WB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WB(e){var t=GB(e,"string");return ii(t)=="symbol"?t:t+""}function GB(e,t){if(ii(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ii(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var HB=["Webkit","Moz","O","ms"],KB=function(t,r){if(!t)return null;var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=HB.reduce(function(i,s){return Eg(Eg({},i),{},Wb({},s+n,r))},{});return a[t]=r,a};function ba(e){"@babel/helpers - typeof";return ba=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ba(e)}function zs(){return zs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zs.apply(this,arguments)}function Cg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Oc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Cg(Object(r),!0).forEach(function(n){Lt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tg(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Hb(n.key),n)}}function YB(e,t,r){return t&&Tg(e.prototype,t),r&&Tg(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZB(e,t,r){return t=Bs(t),JB(e,Gb()?Reflect.construct(t,r||[],Bs(e).constructor):t.apply(e,r))}function JB(e,t){if(t&&(ba(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QB(e)}function QB(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gb(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Gb=function(){return!!e})()}function Bs(e){return Bs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bs(e)}function e8(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wu(e,t)}function Wu(e,t){return Wu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Wu(e,t)}function Lt(e,t,r){return t=Hb(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hb(e){var t=t8(e,"string");return ba(t)=="symbol"?t:t+""}function t8(e,t){if(ba(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ba(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var r8=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,s=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=wo().domain(Fs(0,c)).range([i,i+s-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},$g=function(t){return t.changedTouches&&!!t.changedTouches.length},wa=function(e){function t(r){var n;return XB(this,t),n=ZB(this,t,[r]),Lt(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Lt(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Lt(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,s=a.onDragEnd,l=a.startIndex;s==null||s({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),Lt(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Lt(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Lt(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Lt(n,"handleSlideDragStart",function(a){var i=$g(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return e8(t,e),YB(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,s=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(a,i),p=Math.max(a,i),h=t.getIndexInRange(s,f),g=t.getIndexInRange(s,p);return{startIndex:h-h%c,endIndex:g===d?d:g-g%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,s=a.tickFormatter,l=a.dataKey,c=St(i[n],l,n);return ye(s)?s(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,s=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,p=c.startIndex,h=c.endIndex,g=c.onChange,v=n.pageX-i;v>0?v=Math.min(v,u+d-f-l,u+d-f-s):v<0&&(v=Math.max(v,u-s,u-l));var m=this.getIndex({startX:s+v,endX:l+v});(m.startIndex!==p||m.endIndex!==h)&&g&&g(m),this.setState({startX:s+v,endX:l+v,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=$g(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,s=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[s],d=this.props,f=d.x,p=d.width,h=d.travellerWidth,g=d.onChange,v=d.gap,m=d.data,x={startX:this.state.startX,endX:this.state.endX},b=n.pageX-i;b>0?b=Math.min(b,f+p-h-u):b<0&&(b=Math.max(b,f-u)),x[s]=u+b;var N=this.getIndex(x),j=N.startIndex,y=N.endIndex,w=function(){var P=m.length-1;return s==="startX"&&(l>c?j%v===0:y%v===0)||l<c&&y===P||s==="endX"&&(l>c?y%v===0:j%v===0)||l>c&&y===P};this.setState(Lt(Lt({},s,u+b),"brushMoveStartX",n.pageX),function(){g&&w()&&g(N)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,s=this.state,l=s.scaleValues,c=s.startX,u=s.endX,d=this.state[a],f=l.indexOf(d);if(f!==-1){var p=f+n;if(!(p===-1||p>=l.length)){var h=l[p];a==="startX"&&h>=u||a==="endX"&&h<=c||this.setState(Lt({},a,h),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,l=n.height,c=n.fill,u=n.stroke;return E.createElement("rect",{stroke:u,fill:c,x:a,y:i,width:s,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=S.Children.only(u);return f?E.cloneElement(f,{x:a,y:i,width:s,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,s,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,p=c.traveller,h=c.ariaLabel,g=c.data,v=c.startIndex,m=c.endIndex,x=Math.max(n,this.props.x),b=Oc(Oc({},xe(this.props,!1)),{},{x,y:u,width:d,height:f}),N=h||"Min value: ".concat((i=g[v])===null||i===void 0?void 0:i.name,", Max value: ").concat((s=g[m])===null||s===void 0?void 0:s.name);return E.createElement(Re,{tabIndex:0,role:"slider","aria-label":N,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(y){["ArrowLeft","ArrowRight"].includes(y.key)&&(y.preventDefault(),y.stopPropagation(),l.handleTravellerMoveKeyboard(y.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(p,b))}},{key:"renderSlide",value:function(n,a){var i=this.props,s=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return E.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:s,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,s=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,p=d.endX,h=5,g={pointerEvents:"none",fill:u};return E.createElement(Re,{className:"recharts-brush-texts"},E.createElement(ms,zs({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,p)-h,y:s+l/2},g),this.getTextOfTick(a)),E.createElement(ms,zs({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,p)+c+h,y:s+l/2},g),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,s=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,p=this.state,h=p.startX,g=p.endX,v=p.isTextActive,m=p.isSlideMoving,x=p.isTravellerMoving,b=p.isTravellerFocused;if(!a||!a.length||!Z(l)||!Z(c)||!Z(u)||!Z(d)||u<=0||d<=0)return null;var N=_e("recharts-brush",i),j=E.Children.count(s)===1,y=KB("userSelect","none");return E.createElement(Re,{className:N,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:y},this.renderBackground(),j&&this.renderPanorama(),this.renderSlide(h,g),this.renderTravellerLayer(h,"startX"),this.renderTravellerLayer(g,"endX"),(v||m||x||b||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,s=n.width,l=n.height,c=n.stroke,u=Math.floor(i+l/2)-1;return E.createElement(E.Fragment,null,E.createElement("rect",{x:a,y:i,width:s,height:l,fill:c,stroke:"none"}),E.createElement("line",{x1:a+1,y1:u,x2:a+s-1,y2:u,fill:"none",stroke:"#fff"}),E.createElement("line",{x1:a+1,y1:u+2,x2:a+s-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return E.isValidElement(n)?i=E.cloneElement(n,a):ye(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,s=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return Oc({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:s},i&&i.length?r8({data:i,width:s,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(s!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+s-c]);var p=a.scale.domain().map(function(h){return a.scale(h)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:s,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,s=0,l=i-1;l-s>1;){var c=Math.floor((s+l)/2);n[c]>a?l=c:s=c}return a>=n[l]?l:s}}])}(S.PureComponent);Lt(wa,"displayName","Brush");Lt(wa,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var n8=ef;function a8(e,t){var r;return n8(e,function(n,a,i){return r=t(n,a,i),!r}),!!r}var o8=a8,i8=Xy,s8=dn,l8=o8,c8=It,u8=Sl;function d8(e,t,r){var n=c8(e)?i8:l8;return r&&u8(e,t,r)&&(t=void 0),n(e,s8(t))}var f8=d8;const p8=Fe(f8);var xr=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},kg=vx;function h8(e,t,r){t=="__proto__"&&kg?kg(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var m8=h8,g8=m8,v8=mx,y8=dn;function x8(e,t){var r={};return t=y8(t),v8(e,function(n,a,i){g8(r,a,t(n,a,i))}),r}var b8=x8;const w8=Fe(b8);function j8(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var N8=j8,S8=ef;function _8(e,t){var r=!0;return S8(e,function(n,a,i){return r=!!t(n,a,i),r}),r}var P8=_8,O8=N8,A8=P8,E8=dn,C8=It,T8=Sl;function $8(e,t,r){var n=C8(e)?O8:A8;return r&&T8(e,t,r)&&(t=void 0),n(e,E8(t))}var k8=$8;const Kb=Fe(k8);var M8=["x","y"];function si(e){"@babel/helpers - typeof";return si=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},si(e)}function Gu(){return Gu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gu.apply(this,arguments)}function Mg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function po(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mg(Object(r),!0).forEach(function(n){I8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function I8(e,t,r){return t=D8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D8(e){var t=R8(e,"string");return si(t)=="symbol"?t:t+""}function R8(e,t){if(si(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(si(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function L8(e,t){if(e==null)return{};var r=F8(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function F8(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function z8(e,t){var r=e.x,n=e.y,a=L8(e,M8),i="".concat(r),s=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),p=parseInt(f,10);return po(po(po(po(po({},t),a),s?{x:s}:{}),c?{y:c}:{}),{},{height:d,width:p,name:t.name,radius:t.radius})}function Ig(e){return E.createElement(NB,Gu({shapeType:"rectangle",propTransformer:z8,activeClassName:"recharts-active-bar"},e))}var B8=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=typeof n=="number";return i?t(n,a):(i||kn(!1),r)}},q8=["value","background"],Xb;function ja(e){"@babel/helpers - typeof";return ja=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ja(e)}function V8(e,t){if(e==null)return{};var r=U8(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function U8(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function qs(){return qs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qs.apply(this,arguments)}function Dg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Je(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Dg(Object(r),!0).forEach(function(n){nn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function W8(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rg(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Zb(n.key),n)}}function G8(e,t,r){return t&&Rg(e.prototype,t),r&&Rg(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function H8(e,t,r){return t=Vs(t),K8(e,Yb()?Reflect.construct(t,r||[],Vs(e).constructor):t.apply(e,r))}function K8(e,t){if(t&&(ja(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return X8(e)}function X8(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yb(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Yb=function(){return!!e})()}function Vs(e){return Vs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vs(e)}function Y8(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hu(e,t)}function Hu(e,t){return Hu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Hu(e,t)}function nn(e,t,r){return t=Zb(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zb(e){var t=Z8(e,"string");return ja(t)=="symbol"?t:t+""}function Z8(e,t){if(ja(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ja(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ir=function(e){function t(){var r;W8(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=H8(this,t,[].concat(a)),nn(r,"state",{isAnimationFinished:!1}),nn(r,"id",qa("recharts-bar-")),nn(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),nn(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return Y8(t,e),G8(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,s=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,d=xe(this.props,!1);return n&&n.map(function(f,p){var h=p===c,g=h?u:s,v=Je(Je(Je({},d),f),{},{isActive:h,option:g,index:p,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return E.createElement(Re,qs({className:"recharts-bar-rectangle"},ts(a.props,f,p),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(p)}),E.createElement(Ig,v))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,s=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,p=this.state.prevData;return E.createElement(Mn,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var g=h.t,v=i.map(function(m,x){var b=p&&p[x];if(b){var N=ct(b.x,m.x),j=ct(b.y,m.y),y=ct(b.width,m.width),w=ct(b.height,m.height);return Je(Je({},m),{},{x:N(g),y:j(g),width:y(g),height:w(g)})}if(s==="horizontal"){var _=ct(0,m.height),P=_(g);return Je(Je({},m),{},{y:m.y+m.height-P,height:P})}var O=ct(0,m.width),k=O(g);return Je(Je({},m),{},{width:k})});return E.createElement(Re,null,n.renderRectanglesStatically(v))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,s=this.state.prevData;return i&&a&&a.length&&(!s||!va(s,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,s=a.dataKey,l=a.activeIndex,c=xe(this.props.background,!1);return i.map(function(u,d){u.value;var f=u.background,p=V8(u,q8);if(!f)return null;var h=Je(Je(Je(Je(Je({},p),{},{fill:"#eee"},f),c),ts(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:d,className:"recharts-bar-background-rectangle"});return E.createElement(Ig,qs({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},h))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=Kt(d,Pi);if(!f)return null;var p=u==="vertical"?s[0].height/2:s[0].width/2,h=function(m,x){var b=Array.isArray(m.value)?m.value[1]:m.value;return{x:m.x,y:m.y,value:b,errorVal:St(m,x)}},g={clipPath:n?"url(#clipPath-".concat(a,")"):null};return E.createElement(Re,g,f.map(function(v){return E.cloneElement(v,{key:"error-bar-".concat(a,"-").concat(v.props.dataKey),data:s,xAxis:l,yAxis:c,layout:u,offset:p,dataPointFormatter:h})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,s=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,p=n.height,h=n.isAnimationActive,g=n.background,v=n.id;if(a||!i||!i.length)return null;var m=this.state.isAnimationFinished,x=_e("recharts-bar",s),b=l&&l.allowDataOverflow,N=c&&c.allowDataOverflow,j=b||N,y=Ne(v)?this.id:v;return E.createElement(Re,{className:x},b||N?E.createElement("defs",null,E.createElement("clipPath",{id:"clipPath-".concat(y)},E.createElement("rect",{x:b?u:u-f/2,y:N?d:d-p/2,width:b?f:f*2,height:N?p:p*2}))):null,E.createElement(Re,{className:"recharts-bar-rectangles",clipPath:j?"url(#clipPath-".concat(y,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(j,y),(!h||m)&&Rr.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(S.PureComponent);Xb=ir;nn(ir,"displayName","Bar");nn(ir,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!vr.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});nn(ir,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,s=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,p=e.offset,h=AF(n,r);if(!h)return null;var g=t.layout,v=r.type.defaultProps,m=v!==void 0?Je(Je({},v),r.props):r.props,x=m.dataKey,b=m.children,N=m.minPointSize,j=g==="horizontal"?s:i,y=u?j.scale.domain():null,w=DF({numericAxis:j}),_=Kt(b,nf),P=f.map(function(O,k){var A,T,z,$,M,L;u?A=EF(u[d+k],y):(A=St(O,x),Array.isArray(A)||(A=[w,A]));var V=B8(N,Xb.defaultProps.minPointSize)(A[1],k);if(g==="horizontal"){var H,C=[s.scale(A[0]),s.scale(A[1])],X=C[0],I=C[1];T=Im({axis:i,ticks:l,bandSize:a,offset:h.offset,entry:O,index:k}),z=(H=I??X)!==null&&H!==void 0?H:void 0,$=h.size;var W=X-I;if(M=Number.isNaN(W)?0:W,L={x:T,y:s.y,width:$,height:s.height},Math.abs(V)>0&&Math.abs(M)<Math.abs(V)){var B=or(M||V)*(Math.abs(V)-Math.abs(M));z-=B,M+=B}}else{var Q=[i.scale(A[0]),i.scale(A[1])],ee=Q[0],ge=Q[1];if(T=ee,z=Im({axis:s,ticks:c,bandSize:a,offset:h.offset,entry:O,index:k}),$=ge-ee,M=h.size,L={x:i.x,y:z,width:i.width,height:M},Math.abs(V)>0&&Math.abs($)<Math.abs(V)){var we=or($||V)*(Math.abs(V)-Math.abs($));$+=we}}return Je(Je(Je({},O),{},{x:T,y:z,width:$,height:M,value:u?A:A[1],payload:O,background:L},_&&_[k]&&_[k].props),{},{tooltipPayload:[Eb(r,O)],tooltipPosition:{x:T+$/2,y:z+M/2}})});return Je({data:P,layout:g},p)});function li(e){"@babel/helpers - typeof";return li=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},li(e)}function J8(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lg(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Jb(n.key),n)}}function Q8(e,t,r){return t&&Lg(e.prototype,t),r&&Lg(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Fg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fg(Object(r),!0).forEach(function(n){Ll(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ll(e,t,r){return t=Jb(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jb(e){var t=e7(e,"string");return li(t)=="symbol"?t:t+""}function e7(e,t){if(li(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(li(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tf=function(t,r,n,a,i){var s=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},p=!!Ft(u,ir);return d.reduce(function(h,g){var v=r[g],m=v.orientation,x=v.domain,b=v.padding,N=b===void 0?{}:b,j=v.mirror,y=v.reversed,w="".concat(m).concat(j?"Mirror":""),_,P,O,k,A;if(v.type==="number"&&(v.padding==="gap"||v.padding==="no-gap")){var T=x[1]-x[0],z=1/0,$=v.categoricalDomain.sort(fO);if($.forEach(function(Q,ee){ee>0&&(z=Math.min((Q||0)-($[ee-1]||0),z))}),Number.isFinite(z)){var M=z/T,L=v.layout==="vertical"?n.height:n.width;if(v.padding==="gap"&&(_=M*L/2),v.padding==="no-gap"){var V=Tn(t.barCategoryGap,M*L),H=M*L/2;_=H-V-(H-V)/L*V}}}a==="xAxis"?P=[n.left+(N.left||0)+(_||0),n.left+n.width-(N.right||0)-(_||0)]:a==="yAxis"?P=c==="horizontal"?[n.top+n.height-(N.bottom||0),n.top+(N.top||0)]:[n.top+(N.top||0)+(_||0),n.top+n.height-(N.bottom||0)-(_||0)]:P=v.range,y&&(P=[P[1],P[0]]);var C=PF(v,i,p),X=C.scale,I=C.realScaleType;X.domain(x).range(P),OF(X);var W=IF(X,rr(rr({},v),{},{realScaleType:I}));a==="xAxis"?(A=m==="top"&&!j||m==="bottom"&&j,O=n.left,k=f[w]-A*v.height):a==="yAxis"&&(A=m==="left"&&!j||m==="right"&&j,O=f[w]-A*v.width,k=n.top);var B=rr(rr(rr({},v),W),{},{realScaleType:I,x:O,y:k,scale:X,width:a==="xAxis"?n.width:v.width,height:a==="yAxis"?n.height:v.height});return B.bandSize=Cs(B,W),!v.hide&&a==="xAxis"?f[w]+=(A?-1:1)*B.height:v.hide||(f[w]+=(A?-1:1)*B.width),rr(rr({},h),{},Ll({},g,B))},{})},Qb=function(t,r){var n=t.x,a=t.y,i=r.x,s=r.y;return{x:Math.min(n,i),y:Math.min(a,s),width:Math.abs(i-n),height:Math.abs(s-a)}},t7=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return Qb({x:r,y:n},{x:a,y:i})},e0=function(){function e(t){J8(this,e),this.scale=t}return Q8(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();Ll(e0,"EPS",1e-4);var $f=function(t){var r=Object.keys(t).reduce(function(n,a){return rr(rr({},n),{},Ll({},a,e0.create(t[a])))},{});return rr(rr({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.bandAware,l=i.position;return w8(a,function(c,u){return r[u].apply(c,{bandAware:s,position:l})})},isInRange:function(a){return Kb(a,function(i,s){return r[s].isInRange(i)})}})};function r7(e){return(e%180+180)%180}var n7=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=r7(a),s=i*Math.PI/180,l=Math.atan(n/r),c=s>l&&s<Math.PI-l?n/Math.sin(s):r/Math.cos(s);return Math.abs(c)},a7=dn,o7=wi,i7=jl;function s7(e){return function(t,r,n){var a=Object(t);if(!o7(t)){var i=a7(r);t=i7(t),r=function(l){return i(a[l],l,a)}}var s=e(t,r,n);return s>-1?a[i?t[s]:s]:void 0}}var l7=s7,c7=Ub;function u7(e){var t=c7(e),r=t%1;return t===t?r?t-r:t:0}var d7=u7,f7=cx,p7=dn,h7=d7,m7=Math.max;function g7(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:h7(r);return a<0&&(a=m7(n+a,0)),f7(e,p7(t),a)}var v7=g7,y7=l7,x7=v7,b7=y7(x7),w7=b7;const j7=Fe(w7);var N7=hP(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),kf=S.createContext(void 0),Mf=S.createContext(void 0),t0=S.createContext(void 0),r0=S.createContext({}),n0=S.createContext(void 0),a0=S.createContext(0),o0=S.createContext(0),zg=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,s=t.clipPathId,l=t.children,c=t.width,u=t.height,d=N7(i);return E.createElement(kf.Provider,{value:n},E.createElement(Mf.Provider,{value:a},E.createElement(r0.Provider,{value:i},E.createElement(t0.Provider,{value:d},E.createElement(n0.Provider,{value:s},E.createElement(a0.Provider,{value:u},E.createElement(o0.Provider,{value:c},l)))))))},S7=function(){return S.useContext(n0)},i0=function(t){var r=S.useContext(kf);r==null&&kn(!1);var n=r[t];return n==null&&kn(!1),n},_7=function(){var t=S.useContext(kf);return en(t)},P7=function(){var t=S.useContext(Mf),r=j7(t,function(n){return Kb(n.domain,Number.isFinite)});return r||en(t)},s0=function(t){var r=S.useContext(Mf);r==null&&kn(!1);var n=r[t];return n==null&&kn(!1),n},O7=function(){var t=S.useContext(t0);return t},A7=function(){return S.useContext(r0)},If=function(){return S.useContext(o0)},Df=function(){return S.useContext(a0)};function Na(e){"@babel/helpers - typeof";return Na=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Na(e)}function E7(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bg(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,c0(n.key),n)}}function C7(e,t,r){return t&&Bg(e.prototype,t),r&&Bg(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function T7(e,t,r){return t=Us(t),$7(e,l0()?Reflect.construct(t,r||[],Us(e).constructor):t.apply(e,r))}function $7(e,t){if(t&&(Na(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k7(e)}function k7(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l0(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l0=function(){return!!e})()}function Us(e){return Us=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Us(e)}function M7(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ku(e,t)}function Ku(e,t){return Ku=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ku(e,t)}function qg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qg(Object(r),!0).forEach(function(n){Rf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rf(e,t,r){return t=c0(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c0(e){var t=I7(e,"string");return Na(t)=="symbol"?t:t+""}function I7(e,t){if(Na(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Na(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function D7(e,t){return z7(e)||F7(e,t)||L7(e,t)||R7()}function R7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L7(e,t){if(e){if(typeof e=="string")return Ug(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ug(e,t)}}function Ug(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function F7(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function z7(e){if(Array.isArray(e))return e}function Xu(){return Xu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xu.apply(this,arguments)}var B7=function(t,r){var n;return E.isValidElement(t)?n=E.cloneElement(t,r):ye(t)?n=t(r):n=E.createElement("line",Xu({},r,{className:"recharts-reference-line-line"})),n},q7=function(t,r,n,a,i,s,l,c,u){var d=i.x,f=i.y,p=i.width,h=i.height;if(n){var g=u.y,v=t.y.apply(g,{position:s});if(xr(u,"discard")&&!t.y.isInRange(v))return null;var m=[{x:d+p,y:v},{x:d,y:v}];return c==="left"?m.reverse():m}if(r){var x=u.x,b=t.x.apply(x,{position:s});if(xr(u,"discard")&&!t.x.isInRange(b))return null;var N=[{x:b,y:f+h},{x:b,y:f}];return l==="top"?N.reverse():N}if(a){var j=u.segment,y=j.map(function(w){return t.apply(w,{position:s})});return xr(u,"discard")&&p8(y,function(w){return!t.isInRange(w)})?null:y}return null};function V7(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,s=e.shape,l=e.className,c=e.alwaysShow,u=S7(),d=i0(a),f=s0(i),p=O7();if(!u||!p)return null;Ir(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=$f({x:d.scale,y:f.scale}),g=rt(t),v=rt(r),m=n&&n.length===2,x=q7(h,g,v,m,p,e.position,d.orientation,f.orientation,e);if(!x)return null;var b=D7(x,2),N=b[0],j=N.x,y=N.y,w=b[1],_=w.x,P=w.y,O=xr(e,"hidden")?"url(#".concat(u,")"):void 0,k=Vg(Vg({clipPath:O},xe(e,!0)),{},{x1:j,y1:y,x2:_,y2:P});return E.createElement(Re,{className:_e("recharts-reference-line",l)},B7(s,k),ht.renderCallByParent(e,t7({x1:j,y1:y,x2:_,y2:P})))}var Lf=function(e){function t(){return E7(this,t),T7(this,t,arguments)}return M7(t,e),C7(t,[{key:"render",value:function(){return E.createElement(V7,this.props)}}])}(E.Component);Rf(Lf,"displayName","ReferenceLine");Rf(Lf,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Yu(){return Yu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yu.apply(this,arguments)}function Sa(e){"@babel/helpers - typeof";return Sa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sa(e)}function Wg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Wg(Object(r),!0).forEach(function(n){Fl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function U7(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hg(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d0(n.key),n)}}function W7(e,t,r){return t&&Hg(e.prototype,t),r&&Hg(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function G7(e,t,r){return t=Ws(t),H7(e,u0()?Reflect.construct(t,r||[],Ws(e).constructor):t.apply(e,r))}function H7(e,t){if(t&&(Sa(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return K7(e)}function K7(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u0(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u0=function(){return!!e})()}function Ws(e){return Ws=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ws(e)}function X7(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zu(e,t)}function Zu(e,t){return Zu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Zu(e,t)}function Fl(e,t,r){return t=d0(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d0(e){var t=Y7(e,"string");return Sa(t)=="symbol"?t:t+""}function Y7(e,t){if(Sa(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Sa(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Z7=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,s=$f({x:a.scale,y:i.scale}),l=s.apply({x:r,y:n},{bandAware:!0});return xr(t,"discard")&&!s.isInRange(l)?null:l},zl=function(e){function t(){return U7(this,t),G7(this,t,arguments)}return X7(t,e),W7(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,s=n.r,l=n.alwaysShow,c=n.clipPathId,u=rt(a),d=rt(i);if(Ir(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=Z7(this.props);if(!f)return null;var p=f.x,h=f.y,g=this.props,v=g.shape,m=g.className,x=xr(this.props,"hidden")?"url(#".concat(c,")"):void 0,b=Gg(Gg({clipPath:x},xe(this.props,!0)),{},{cx:p,cy:h});return E.createElement(Re,{className:_e("recharts-reference-dot",m)},t.renderDot(v,b),ht.renderCallByParent(this.props,{x:p-s,y:h-s,width:2*s,height:2*s}))}}])}(E.Component);Fl(zl,"displayName","ReferenceDot");Fl(zl,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Fl(zl,"renderDot",function(e,t){var r;return E.isValidElement(e)?r=E.cloneElement(e,t):ye(e)?r=e(t):r=E.createElement(Il,Yu({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function Ju(){return Ju=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ju.apply(this,arguments)}function _a(e){"@babel/helpers - typeof";return _a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_a(e)}function Kg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kg(Object(r),!0).forEach(function(n){Bl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function J7(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yg(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,p0(n.key),n)}}function Q7(e,t,r){return t&&Yg(e.prototype,t),r&&Yg(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function eq(e,t,r){return t=Gs(t),tq(e,f0()?Reflect.construct(t,r||[],Gs(e).constructor):t.apply(e,r))}function tq(e,t){if(t&&(_a(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rq(e)}function rq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f0(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(f0=function(){return!!e})()}function Gs(e){return Gs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gs(e)}function nq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qu(e,t)}function Qu(e,t){return Qu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Qu(e,t)}function Bl(e,t,r){return t=p0(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p0(e){var t=aq(e,"string");return _a(t)=="symbol"?t:t+""}function aq(e,t){if(_a(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(_a(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oq=function(t,r,n,a,i){var s=i.x1,l=i.x2,c=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var p=$f({x:d.scale,y:f.scale}),h={x:t?p.x.apply(s,{position:"start"}):p.x.rangeMin,y:n?p.y.apply(c,{position:"start"}):p.y.rangeMin},g={x:r?p.x.apply(l,{position:"end"}):p.x.rangeMax,y:a?p.y.apply(u,{position:"end"}):p.y.rangeMax};return xr(i,"discard")&&(!p.isInRange(h)||!p.isInRange(g))?null:Qb(h,g)},ql=function(e){function t(){return J7(this,t),eq(this,t,arguments)}return nq(t,e),Q7(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,s=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;Ir(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=rt(a),p=rt(i),h=rt(s),g=rt(l),v=this.props.shape;if(!f&&!p&&!h&&!g&&!v)return null;var m=oq(f,p,h,g,this.props);if(!m&&!v)return null;var x=xr(this.props,"hidden")?"url(#".concat(d,")"):void 0;return E.createElement(Re,{className:_e("recharts-reference-area",c)},t.renderRect(v,Xg(Xg({clipPath:x},xe(this.props,!0)),m)),ht.renderCallByParent(this.props,m))}}])}(E.Component);Bl(ql,"displayName","ReferenceArea");Bl(ql,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Bl(ql,"renderRect",function(e,t){var r;return E.isValidElement(e)?r=E.cloneElement(e,t):ye(e)?r=e(t):r=E.createElement(Cf,Ju({},t,{className:"recharts-reference-area-rect"})),r});function h0(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)if(r===void 0||r(e[a])===!0)n.push(e[a]);else return;return n}function iq(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return n7(n,r)}function sq(e,t,r){var n=r==="width",a=e.x,i=e.y,s=e.width,l=e.height;return t===1?{start:n?a:i,end:n?a+s:i+l}:{start:n?a+s:i+l,end:n?a:i}}function Hs(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function lq(e,t){return h0(e,t+1)}function cq(e,t,r,n,a){for(var i=(n||[]).slice(),s=t.start,l=t.end,c=0,u=1,d=s,f=function(){var g=n==null?void 0:n[c];if(g===void 0)return{v:h0(n,u)};var v=c,m,x=function(){return m===void 0&&(m=r(g,v)),m},b=g.coordinate,N=c===0||Hs(e,b,x,d,l);N||(c=0,d=s,u+=1),N&&(d=b+e*(x()/2+a),c+=u)},p;u<=i.length;)if(p=f(),p)return p.v;return[]}function ci(e){"@babel/helpers - typeof";return ci=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ci(e)}function Zg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ft(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zg(Object(r),!0).forEach(function(n){uq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uq(e,t,r){return t=dq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dq(e){var t=fq(e,"string");return ci(t)=="symbol"?t:t+""}function fq(e,t){if(ci(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ci(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pq(e,t,r,n,a){for(var i=(n||[]).slice(),s=i.length,l=t.start,c=t.end,u=function(p){var h=i[p],g,v=function(){return g===void 0&&(g=r(h,p)),g};if(p===s-1){var m=e*(h.coordinate+e*v()/2-c);i[p]=h=ft(ft({},h),{},{tickCoord:m>0?h.coordinate-m*e:h.coordinate})}else i[p]=h=ft(ft({},h),{},{tickCoord:h.coordinate});var x=Hs(e,h.tickCoord,v,l,c);x&&(c=h.tickCoord-e*(v()/2+a),i[p]=ft(ft({},h),{},{isShow:!0}))},d=s-1;d>=0;d--)u(d);return i}function hq(e,t,r,n,a,i){var s=(n||[]).slice(),l=s.length,c=t.start,u=t.end;if(i){var d=n[l-1],f=r(d,l-1),p=e*(d.coordinate+e*f/2-u);s[l-1]=d=ft(ft({},d),{},{tickCoord:p>0?d.coordinate-p*e:d.coordinate});var h=Hs(e,d.tickCoord,function(){return f},c,u);h&&(u=d.tickCoord-e*(f/2+a),s[l-1]=ft(ft({},d),{},{isShow:!0}))}for(var g=i?l-1:l,v=function(b){var N=s[b],j,y=function(){return j===void 0&&(j=r(N,b)),j};if(b===0){var w=e*(N.coordinate-e*y()/2-c);s[b]=N=ft(ft({},N),{},{tickCoord:w<0?N.coordinate-w*e:N.coordinate})}else s[b]=N=ft(ft({},N),{},{tickCoord:N.coordinate});var _=Hs(e,N.tickCoord,y,c,u);_&&(c=N.tickCoord+e*(y()/2+a),s[b]=ft(ft({},N),{},{isShow:!0}))},m=0;m<g;m++)v(m);return s}function Ff(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,s=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(Z(c)||vr.isSsr)return lq(a,typeof c=="number"&&Z(c)?c:0);var p=[],h=l==="top"||l==="bottom"?"width":"height",g=d&&h==="width"?bo(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},v=function(N,j){var y=ye(u)?u(N.value,j):N.value;return h==="width"?iq(bo(y,{fontSize:t,letterSpacing:r}),g,f):bo(y,{fontSize:t,letterSpacing:r})[h]},m=a.length>=2?or(a[1].coordinate-a[0].coordinate):1,x=sq(i,m,h);return c==="equidistantPreserveStart"?cq(m,x,v,a,s):(c==="preserveStart"||c==="preserveStartEnd"?p=hq(m,x,v,a,s,c==="preserveStartEnd"):p=pq(m,x,v,a,s),p.filter(function(b){return b.isShow}))}var mq=["viewBox"],gq=["viewBox"],vq=["ticks"];function Pa(e){"@babel/helpers - typeof";return Pa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pa(e)}function Zn(){return Zn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zn.apply(this,arguments)}function Jg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Jg(Object(r),!0).forEach(function(n){zf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ac(e,t){if(e==null)return{};var r=yq(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function yq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function xq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qg(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,g0(n.key),n)}}function bq(e,t,r){return t&&Qg(e.prototype,t),r&&Qg(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function wq(e,t,r){return t=Ks(t),jq(e,m0()?Reflect.construct(t,r||[],Ks(e).constructor):t.apply(e,r))}function jq(e,t){if(t&&(Pa(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nq(e)}function Nq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m0(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(m0=function(){return!!e})()}function Ks(e){return Ks=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ks(e)}function Sq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ed(e,t)}function ed(e,t){return ed=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ed(e,t)}function zf(e,t,r){return t=g0(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g0(e){var t=_q(e,"string");return Pa(t)=="symbol"?t:t+""}function _q(e,t){if(Pa(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Pa(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ya=function(e){function t(r){var n;return xq(this,t),n=wq(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return Sq(t,e),bq(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,s=Ac(n,mq),l=this.props,c=l.viewBox,u=Ac(l,gq);return!ra(i,c)||!ra(s,u)||!ra(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,s=a.y,l=a.width,c=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,p=a.tickMargin,h,g,v,m,x,b,N=f?-1:1,j=n.tickSize||d,y=Z(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":h=g=n.coordinate,m=s+ +!f*c,v=m-N*j,b=v-N*p,x=y;break;case"left":v=m=n.coordinate,g=i+ +!f*l,h=g-N*j,x=h-N*p,b=y;break;case"right":v=m=n.coordinate,g=i+ +f*l,h=g+N*j,x=h+N*p,b=y;break;default:h=g=n.coordinate,m=s+ +f*c,v=m+N*j,b=v+N*p,x=y;break}return{line:{x1:h,y1:v,x2:g,y2:m},tick:{x,y:b}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s;switch(a){case"left":s=i?"start":"end";break;case"right":s=i?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s="end";switch(a){case"left":case"right":s="middle";break;case"top":s=i?"start":"end";break;default:s=i?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=yt(yt(yt({},xe(this.props,!1)),xe(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var p=+(c==="top"&&!u||c==="bottom"&&u);f=yt(yt({},f),{},{x1:a,y1:i+p*l,x2:a+s,y2:i+p*l})}else{var h=+(c==="left"&&!u||c==="right"&&u);f=yt(yt({},f),{},{x1:a+h*s,y1:i,x2:a+h*s,y2:i+l})}return E.createElement("line",Zn({},f,{className:_e("recharts-cartesian-axis-line",Ht(d,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var s=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,p=l.unit,h=Ff(yt(yt({},this.props),{},{ticks:n}),a,i),g=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),m=xe(this.props,!1),x=xe(d,!1),b=yt(yt({},m),{},{fill:"none"},xe(c,!1)),N=h.map(function(j,y){var w=s.getTickLineCoord(j),_=w.line,P=w.tick,O=yt(yt(yt(yt({textAnchor:g,verticalAnchor:v},m),{},{stroke:"none",fill:u},x),P),{},{index:y,payload:j,visibleTicksCount:h.length,tickFormatter:f});return E.createElement(Re,Zn({className:"recharts-cartesian-axis-tick",key:"tick-".concat(j.value,"-").concat(j.coordinate,"-").concat(j.tickCoord)},ts(s.props,j,y)),c&&E.createElement("line",Zn({},b,_,{className:_e("recharts-cartesian-axis-tick-line",Ht(c,"className"))})),d&&t.renderTickItem(d,O,"".concat(ye(f)?f(j.value,y):j.value).concat(p||"")))});return E.createElement("g",{className:"recharts-cartesian-axis-ticks"},N)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,s=a.width,l=a.height,c=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,p=f.ticks,h=Ac(f,vq),g=p;return ye(c)&&(g=p&&p.length>0?c(this.props):c(h)),s<=0||l<=0||!g||!g.length?null:E.createElement(Re,{className:_e("recharts-cartesian-axis",u),ref:function(m){n.layerReference=m}},i&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),ht.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var s;return E.isValidElement(n)?s=E.cloneElement(n,a):ye(n)?s=n(a):s=E.createElement(ms,Zn({},a,{className:"recharts-cartesian-axis-tick-value"}),i),s}}])}(S.Component);zf(Ya,"displayName","CartesianAxis");zf(Ya,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Pq=["x1","y1","x2","y2","key"],Oq=["offset"];function In(e){"@babel/helpers - typeof";return In=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},In(e)}function ev(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ev(Object(r),!0).forEach(function(n){Aq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ev(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Aq(e,t,r){return t=Eq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Eq(e){var t=Cq(e,"string");return In(t)=="symbol"?t:t+""}function Cq(e,t){if(In(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(In(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sn(){return Sn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sn.apply(this,arguments)}function tv(e,t){if(e==null)return{};var r=Tq(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Tq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var $q=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,s=t.width,l=t.height,c=t.ry;return E.createElement("rect",{x:a,y:i,ry:c,width:s,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function v0(e,t){var r;if(E.isValidElement(e))r=E.cloneElement(e,t);else if(ye(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,s=t.y2,l=t.key,c=tv(t,Pq),u=xe(c,!1);u.offset;var d=tv(u,Oq);r=E.createElement("line",Sn({},d,{x1:n,y1:a,x2:i,y2:s,fill:"none",key:l}))}return r}function kq(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(l,c){var u=mt(mt({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return v0(a,u)});return E.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function Mq(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(l,c){var u=mt(mt({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return v0(a,u)});return E.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function Iq(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,s=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(p){return Math.round(p+a-a)}).sort(function(p,h){return p-h});a!==d[0]&&d.unshift(0);var f=d.map(function(p,h){var g=!d[h+1],v=g?a+s-p:d[h+1]-p;if(v<=0)return null;var m=h%t.length;return E.createElement("rect",{key:"react-".concat(h),y:p,x:n,height:v,width:i,stroke:"none",fill:t[m],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return E.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Dq(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,s=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(p){return Math.round(p+i-i)}).sort(function(p,h){return p-h});i!==d[0]&&d.unshift(0);var f=d.map(function(p,h){var g=!d[h+1],v=g?i+l-p:d[h+1]-p;if(v<=0)return null;var m=h%n.length;return E.createElement("rect",{key:"react-".concat(h),x:p,y:s,width:v,height:c,stroke:"none",fill:n[m],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return E.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Rq=function(t,r){var n=t.xAxis,a=t.width,i=t.height,s=t.offset;return Ob(Ff(mt(mt(mt({},Ya.defaultProps),n),{},{ticks:kr(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.left,s.left+s.width,r)},Lq=function(t,r){var n=t.yAxis,a=t.width,i=t.height,s=t.offset;return Ob(Ff(mt(mt(mt({},Ya.defaultProps),n),{},{ticks:kr(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.top,s.top+s.height,r)},Hn={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function qn(e){var t,r,n,a,i,s,l=If(),c=Df(),u=A7(),d=mt(mt({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Hn.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Hn.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Hn.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Hn.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Hn.vertical,verticalFill:(s=e.verticalFill)!==null&&s!==void 0?s:Hn.verticalFill,x:Z(e.x)?e.x:u.left,y:Z(e.y)?e.y:u.top,width:Z(e.width)?e.width:u.width,height:Z(e.height)?e.height:u.height}),f=d.x,p=d.y,h=d.width,g=d.height,v=d.syncWithTicks,m=d.horizontalValues,x=d.verticalValues,b=_7(),N=P7();if(!Z(h)||h<=0||!Z(g)||g<=0||!Z(f)||f!==+f||!Z(p)||p!==+p)return null;var j=d.verticalCoordinatesGenerator||Rq,y=d.horizontalCoordinatesGenerator||Lq,w=d.horizontalPoints,_=d.verticalPoints;if((!w||!w.length)&&ye(y)){var P=m&&m.length,O=y({yAxis:N?mt(mt({},N),{},{ticks:P?m:N.ticks}):void 0,width:l,height:c,offset:u},P?!0:v);Ir(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(In(O),"]")),Array.isArray(O)&&(w=O)}if((!_||!_.length)&&ye(j)){var k=x&&x.length,A=j({xAxis:b?mt(mt({},b),{},{ticks:k?x:b.ticks}):void 0,width:l,height:c,offset:u},k?!0:v);Ir(Array.isArray(A),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(In(A),"]")),Array.isArray(A)&&(_=A)}return E.createElement("g",{className:"recharts-cartesian-grid"},E.createElement($q,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),E.createElement(kq,Sn({},d,{offset:u,horizontalPoints:w,xAxis:b,yAxis:N})),E.createElement(Mq,Sn({},d,{offset:u,verticalPoints:_,xAxis:b,yAxis:N})),E.createElement(Iq,Sn({},d,{horizontalPoints:w})),E.createElement(Dq,Sn({},d,{verticalPoints:_})))}qn.displayName="CartesianGrid";var Fq=["type","layout","connectNulls","ref"],zq=["key"];function Oa(e){"@babel/helpers - typeof";return Oa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oa(e)}function rv(e,t){if(e==null)return{};var r=Bq(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Bq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function So(){return So=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},So.apply(this,arguments)}function nv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nv(Object(r),!0).forEach(function(n){nr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kn(e){return Wq(e)||Uq(e)||Vq(e)||qq()}function qq(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vq(e,t){if(e){if(typeof e=="string")return td(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return td(e,t)}}function Uq(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Wq(e){if(Array.isArray(e))return td(e)}function td(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Gq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function av(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,x0(n.key),n)}}function Hq(e,t,r){return t&&av(e.prototype,t),r&&av(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Kq(e,t,r){return t=Xs(t),Xq(e,y0()?Reflect.construct(t,r||[],Xs(e).constructor):t.apply(e,r))}function Xq(e,t){if(t&&(Oa(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yq(e)}function Yq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y0(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(y0=function(){return!!e})()}function Xs(e){return Xs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xs(e)}function Zq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rd(e,t)}function rd(e,t){return rd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},rd(e,t)}function nr(e,t,r){return t=x0(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x0(e){var t=Jq(e,"string");return Oa(t)=="symbol"?t:t+""}function Jq(e,t){if(Oa(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Oa(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var on=function(e){function t(){var r;Gq(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Kq(this,t,[].concat(a)),nr(r,"state",{isAnimationFinished:!0,totalLength:0}),nr(r,"generateSimpleStrokeDasharray",function(s,l){return"".concat(l,"px ").concat(s-l,"px")}),nr(r,"getStrokeDasharray",function(s,l,c){var u=c.reduce(function(x,b){return x+b});if(!u)return r.generateSimpleStrokeDasharray(l,s);for(var d=Math.floor(s/u),f=s%u,p=l-s,h=[],g=0,v=0;g<c.length;v+=c[g],++g)if(v+c[g]>f){h=[].concat(Kn(c.slice(0,g)),[f-v]);break}var m=h.length%2===0?[0,p]:[p];return[].concat(Kn(t.repeat(c,d)),Kn(h),m).map(function(x){return"".concat(x,"px")}).join(", ")}),nr(r,"id",qa("recharts-line-")),nr(r,"pathRef",function(s){r.mainCurve=s}),nr(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),nr(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return Zq(t,e),Hq(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.points,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=Kt(d,Pi);if(!f)return null;var p=function(v,m){return{x:v.x,y:v.y,value:v.value,errorVal:St(v.payload,m)}},h={clipPath:n?"url(#clipPath-".concat(a,")"):null};return E.createElement(Re,h,f.map(function(g){return E.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:s,xAxis:l,yAxis:c,layout:u,dataPointFormatter:p})}))}},{key:"renderDots",value:function(n,a,i){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=xe(this.props,!1),p=xe(c,!0),h=u.map(function(v,m){var x=Rt(Rt(Rt({key:"dot-".concat(m),r:3},f),p),{},{index:m,cx:v.x,cy:v.y,value:v.value,dataKey:d,payload:v.payload,points:u});return t.renderDotItem(c,x)}),g={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return E.createElement(Re,So({className:"recharts-line-dots",key:"dots"},g),h)}},{key:"renderCurveStatically",value:function(n,a,i,s){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=rv(l,Fq),p=Rt(Rt(Rt({},xe(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:n},s),{},{type:c,layout:u,connectNulls:d});return E.createElement(oa,So({},p,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var i=this,s=this.props,l=s.points,c=s.strokeDasharray,u=s.isAnimationActive,d=s.animationBegin,f=s.animationDuration,p=s.animationEasing,h=s.animationId,g=s.animateNewValues,v=s.width,m=s.height,x=this.state,b=x.prevPoints,N=x.totalLength;return E.createElement(Mn,{begin:d,duration:f,isActive:u,easing:p,from:{t:0},to:{t:1},key:"line-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(j){var y=j.t;if(b){var w=b.length/l.length,_=l.map(function(T,z){var $=Math.floor(z*w);if(b[$]){var M=b[$],L=ct(M.x,T.x),V=ct(M.y,T.y);return Rt(Rt({},T),{},{x:L(y),y:V(y)})}if(g){var H=ct(v*2,T.x),C=ct(m/2,T.y);return Rt(Rt({},T),{},{x:H(y),y:C(y)})}return Rt(Rt({},T),{},{x:T.x,y:T.y})});return i.renderCurveStatically(_,n,a)}var P=ct(0,N),O=P(y),k;if(c){var A="".concat(c).split(/[,\s]+/gim).map(function(T){return parseFloat(T)});k=i.getStrokeDasharray(O,N,A)}else k=i.generateSimpleStrokeDasharray(N,O);return i.renderCurveStatically(l,n,a,{strokeDasharray:k})})}},{key:"renderCurve",value:function(n,a){var i=this.props,s=i.points,l=i.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&s&&s.length&&(!u&&d>0||!va(u,s))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(s,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,s=a.dot,l=a.points,c=a.className,u=a.xAxis,d=a.yAxis,f=a.top,p=a.left,h=a.width,g=a.height,v=a.isAnimationActive,m=a.id;if(i||!l||!l.length)return null;var x=this.state.isAnimationFinished,b=l.length===1,N=_e("recharts-line",c),j=u&&u.allowDataOverflow,y=d&&d.allowDataOverflow,w=j||y,_=Ne(m)?this.id:m,P=(n=xe(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},O=P.r,k=O===void 0?3:O,A=P.strokeWidth,T=A===void 0?2:A,z=by(s)?s:{},$=z.clipDot,M=$===void 0?!0:$,L=k*2+T;return E.createElement(Re,{className:N},j||y?E.createElement("defs",null,E.createElement("clipPath",{id:"clipPath-".concat(_)},E.createElement("rect",{x:j?p:p-h/2,y:y?f:f-g/2,width:j?h:h*2,height:y?g:g*2})),!M&&E.createElement("clipPath",{id:"clipPath-dots-".concat(_)},E.createElement("rect",{x:p-L/2,y:f-L/2,width:h+L,height:g+L}))):null,!b&&this.renderCurve(w,_),this.renderErrorBar(w,_),(b||s)&&this.renderDots(w,M,_),(!v||x)&&Rr.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var i=n.length%2!==0?[].concat(Kn(n),[0]):n,s=[],l=0;l<a;++l)s=[].concat(Kn(s),Kn(i));return s}},{key:"renderDotItem",value:function(n,a){var i;if(E.isValidElement(n))i=E.cloneElement(n,a);else if(ye(n))i=n(a);else{var s=a.key,l=rv(a,zq),c=_e("recharts-line-dot",typeof n!="boolean"?n.className:"");i=E.createElement(Il,So({key:s},l,{className:c}))}return i}}])}(S.PureComponent);nr(on,"displayName","Line");nr(on,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!vr.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});nr(on,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,s=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,f=c.map(function(p,h){var g=St(p,s);return d==="horizontal"?{x:Es({axis:r,ticks:a,bandSize:l,entry:p,index:h}),y:Ne(g)?null:n.scale(g),value:g,payload:p}:{x:Ne(g)?null:r.scale(g),y:Es({axis:n,ticks:i,bandSize:l,entry:p,index:h}),value:g,payload:p}});return Rt({points:f,layout:d},u)});var Qq=["layout","type","stroke","connectNulls","isRange","ref"],eV=["key"],b0;function Aa(e){"@babel/helpers - typeof";return Aa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Aa(e)}function w0(e,t){if(e==null)return{};var r=tV(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function tV(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function _n(){return _n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_n.apply(this,arguments)}function ov(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ov(Object(r),!0).forEach(function(n){mr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ov(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iv(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,N0(n.key),n)}}function nV(e,t,r){return t&&iv(e.prototype,t),r&&iv(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function aV(e,t,r){return t=Ys(t),oV(e,j0()?Reflect.construct(t,r||[],Ys(e).constructor):t.apply(e,r))}function oV(e,t){if(t&&(Aa(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iV(e)}function iV(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j0(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(j0=function(){return!!e})()}function Ys(e){return Ys=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ys(e)}function sV(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nd(e,t)}function nd(e,t){return nd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},nd(e,t)}function mr(e,t,r){return t=N0(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N0(e){var t=lV(e,"string");return Aa(t)=="symbol"?t:t+""}function lV(e,t){if(Aa(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Aa(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var br=function(e){function t(){var r;rV(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=aV(this,t,[].concat(a)),mr(r,"state",{isAnimationFinished:!0}),mr(r,"id",qa("recharts-area-")),mr(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),ye(s)&&s()}),mr(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),ye(s)&&s()}),r}return sV(t,e),nV(t,[{key:"renderDots",value:function(n,a,i){var s=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(s&&!l)return null;var c=this.props,u=c.dot,d=c.points,f=c.dataKey,p=xe(this.props,!1),h=xe(u,!0),g=d.map(function(m,x){var b=Jr(Jr(Jr({key:"dot-".concat(x),r:3},p),h),{},{index:x,cx:m.x,cy:m.y,dataKey:f,value:m.value,payload:m.payload,points:d});return t.renderDotItem(u,b)}),v={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return E.createElement(Re,_n({className:"recharts-area-dots"},v),g)}},{key:"renderHorizontalRect",value:function(n){var a=this.props,i=a.baseLine,s=a.points,l=a.strokeWidth,c=s[0].x,u=s[s.length-1].x,d=n*Math.abs(c-u),f=rn(s.map(function(p){return p.y||0}));return Z(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(rn(i.map(function(p){return p.y||0})),f)),Z(f)?E.createElement("rect",{x:c<u?c:c-d,y:0,width:d,height:Math.floor(f+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var a=this.props,i=a.baseLine,s=a.points,l=a.strokeWidth,c=s[0].y,u=s[s.length-1].y,d=n*Math.abs(c-u),f=rn(s.map(function(p){return p.x||0}));return Z(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(rn(i.map(function(p){return p.x||0})),f)),Z(f)?E.createElement("rect",{x:0,y:c<u?c:c-d,width:f+(l?parseInt("".concat(l),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(n){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,a,i,s){var l=this.props,c=l.layout,u=l.type,d=l.stroke,f=l.connectNulls,p=l.isRange;l.ref;var h=w0(l,Qq);return E.createElement(Re,{clipPath:i?"url(#clipPath-".concat(s,")"):null},E.createElement(oa,_n({},xe(h,!0),{points:n,connectNulls:f,type:u,baseLine:a,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&E.createElement(oa,_n({},xe(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:n})),d!=="none"&&p&&E.createElement(oa,_n({},xe(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(n,a){var i=this,s=this.props,l=s.points,c=s.baseLine,u=s.isAnimationActive,d=s.animationBegin,f=s.animationDuration,p=s.animationEasing,h=s.animationId,g=this.state,v=g.prevPoints,m=g.prevBaseLine;return E.createElement(Mn,{begin:d,duration:f,isActive:u,easing:p,from:{t:0},to:{t:1},key:"area-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(x){var b=x.t;if(v){var N=v.length/l.length,j=l.map(function(P,O){var k=Math.floor(O*N);if(v[k]){var A=v[k],T=ct(A.x,P.x),z=ct(A.y,P.y);return Jr(Jr({},P),{},{x:T(b),y:z(b)})}return P}),y;if(Z(c)&&typeof c=="number"){var w=ct(m,c);y=w(b)}else if(Ne(c)||Ba(c)){var _=ct(m,0);y=_(b)}else y=c.map(function(P,O){var k=Math.floor(O*N);if(m[k]){var A=m[k],T=ct(A.x,P.x),z=ct(A.y,P.y);return Jr(Jr({},P),{},{x:T(b),y:z(b)})}return P});return i.renderAreaStatically(j,y,n,a)}return E.createElement(Re,null,E.createElement("defs",null,E.createElement("clipPath",{id:"animationClipPath-".concat(a)},i.renderClipRect(b))),E.createElement(Re,{clipPath:"url(#animationClipPath-".concat(a,")")},i.renderAreaStatically(l,c,n,a)))})}},{key:"renderArea",value:function(n,a){var i=this.props,s=i.points,l=i.baseLine,c=i.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,p=u.totalLength;return c&&s&&s.length&&(!d&&p>0||!va(d,s)||!va(f,l))?this.renderAreaWithAnimation(n,a):this.renderAreaStatically(s,l,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,s=a.dot,l=a.points,c=a.className,u=a.top,d=a.left,f=a.xAxis,p=a.yAxis,h=a.width,g=a.height,v=a.isAnimationActive,m=a.id;if(i||!l||!l.length)return null;var x=this.state.isAnimationFinished,b=l.length===1,N=_e("recharts-area",c),j=f&&f.allowDataOverflow,y=p&&p.allowDataOverflow,w=j||y,_=Ne(m)?this.id:m,P=(n=xe(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},O=P.r,k=O===void 0?3:O,A=P.strokeWidth,T=A===void 0?2:A,z=by(s)?s:{},$=z.clipDot,M=$===void 0?!0:$,L=k*2+T;return E.createElement(Re,{className:N},j||y?E.createElement("defs",null,E.createElement("clipPath",{id:"clipPath-".concat(_)},E.createElement("rect",{x:j?d:d-h/2,y:y?u:u-g/2,width:j?h:h*2,height:y?g:g*2})),!M&&E.createElement("clipPath",{id:"clipPath-dots-".concat(_)},E.createElement("rect",{x:d-L/2,y:u-L/2,width:h+L,height:g+L}))):null,b?null:this.renderArea(w,_),(s||b)&&this.renderDots(w,M,_),(!v||x)&&Rr.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:n.points!==a.curPoints||n.baseLine!==a.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(S.PureComponent);b0=br;mr(br,"displayName","Area");mr(br,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!vr.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});mr(br,"getBaseValue",function(e,t,r,n){var a=e.layout,i=e.baseValue,s=t.props.baseValue,l=s??i;if(Z(l)&&typeof l=="number")return l;var c=a==="horizontal"?n:r,u=c.scale.domain();if(c.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return l==="dataMin"?f:l==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});mr(br,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,a=e.yAxis,i=e.xAxisTicks,s=e.yAxisTicks,l=e.bandSize,c=e.dataKey,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,p=e.offset,h=t.layout,g=u&&u.length,v=b0.getBaseValue(t,r,n,a),m=h==="horizontal",x=!1,b=f.map(function(j,y){var w;g?w=u[d+y]:(w=St(j,c),Array.isArray(w)?x=!0:w=[v,w]);var _=w[1]==null||g&&St(j,c)==null;return m?{x:Es({axis:n,ticks:i,bandSize:l,entry:j,index:y}),y:_?null:a.scale(w[1]),value:w,payload:j}:{x:_?null:n.scale(w[1]),y:Es({axis:a,ticks:s,bandSize:l,entry:j,index:y}),value:w,payload:j}}),N;return g||x?N=b.map(function(j){var y=Array.isArray(j.value)?j.value[0]:null;return m?{x:j.x,y:y!=null&&j.y!=null?a.scale(y):null}:{x:y!=null?n.scale(y):null,y:j.y}}):N=m?a.scale(v):n.scale(v),Jr({points:b,baseLine:N,layout:h,isRange:x},p)});mr(br,"renderDotItem",function(e,t){var r;if(E.isValidElement(e))r=E.cloneElement(e,t);else if(ye(e))r=e(t);else{var n=_e("recharts-area-dot",typeof e!="boolean"?e.className:""),a=t.key,i=w0(t,eV);r=E.createElement(Il,_n({},i,{key:a,className:n}))}return r});function Ea(e){"@babel/helpers - typeof";return Ea=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ea(e)}function cV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sv(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,P0(n.key),n)}}function uV(e,t,r){return t&&sv(e.prototype,t),r&&sv(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function dV(e,t,r){return t=Zs(t),fV(e,S0()?Reflect.construct(t,r||[],Zs(e).constructor):t.apply(e,r))}function fV(e,t){if(t&&(Ea(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pV(e)}function pV(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S0(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S0=function(){return!!e})()}function Zs(e){return Zs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zs(e)}function hV(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ad(e,t)}function ad(e,t){return ad=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ad(e,t)}function _0(e,t,r){return t=P0(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P0(e){var t=mV(e,"string");return Ea(t)=="symbol"?t:t+""}function mV(e,t){if(Ea(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ea(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function od(){return od=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},od.apply(this,arguments)}function gV(e){var t=e.xAxisId,r=If(),n=Df(),a=i0(t);return a==null?null:E.createElement(Ya,od({},a,{className:_e("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return kr(s,!0)}}))}var pr=function(e){function t(){return cV(this,t),dV(this,t,arguments)}return hV(t,e),uV(t,[{key:"render",value:function(){return E.createElement(gV,this.props)}}])}(E.Component);_0(pr,"displayName","XAxis");_0(pr,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Ca(e){"@babel/helpers - typeof";return Ca=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ca(e)}function vV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lv(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,E0(n.key),n)}}function yV(e,t,r){return t&&lv(e.prototype,t),r&&lv(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function xV(e,t,r){return t=Js(t),bV(e,O0()?Reflect.construct(t,r||[],Js(e).constructor):t.apply(e,r))}function bV(e,t){if(t&&(Ca(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wV(e)}function wV(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O0(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(O0=function(){return!!e})()}function Js(e){return Js=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Js(e)}function jV(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&id(e,t)}function id(e,t){return id=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},id(e,t)}function A0(e,t,r){return t=E0(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E0(e){var t=NV(e,"string");return Ca(t)=="symbol"?t:t+""}function NV(e,t){if(Ca(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ca(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sd(){return sd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sd.apply(this,arguments)}var SV=function(t){var r=t.yAxisId,n=If(),a=Df(),i=s0(r);return i==null?null:E.createElement(Ya,sd({},i,{className:_e("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return kr(l,!0)}}))},Yt=function(e){function t(){return vV(this,t),xV(this,t,arguments)}return jV(t,e),yV(t,[{key:"render",value:function(){return E.createElement(SV,this.props)}}])}(E.Component);A0(Yt,"displayName","YAxis");A0(Yt,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function cv(e){return AV(e)||OV(e)||PV(e)||_V()}function _V(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PV(e,t){if(e){if(typeof e=="string")return ld(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ld(e,t)}}function OV(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function AV(e){if(Array.isArray(e))return ld(e)}function ld(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var cd=function(t,r,n,a,i){var s=Kt(t,Lf),l=Kt(t,zl),c=[].concat(cv(s),cv(l)),u=Kt(t,ql),d="".concat(a,"Id"),f=a[0],p=r;if(c.length&&(p=c.reduce(function(v,m){if(m.props[d]===n&&xr(m.props,"extendDomain")&&Z(m.props[f])){var x=m.props[f];return[Math.min(v[0],x),Math.max(v[1],x)]}return v},p)),u.length){var h="".concat(f,"1"),g="".concat(f,"2");p=u.reduce(function(v,m){if(m.props[d]===n&&xr(m.props,"extendDomain")&&Z(m.props[h])&&Z(m.props[g])){var x=m.props[h],b=m.props[g];return[Math.min(v[0],x,b),Math.max(v[1],x,b)]}return v},p)}return i&&i.length&&(p=i.reduce(function(v,m){return Z(m)?[Math.min(v[0],m),Math.max(v[1],m)]:v},p)),p},C0={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,p){if(typeof d!="function")throw new TypeError("The listener must be a function");var h=new a(d,f||c,p),g=r?r+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],h]:c._events[g].push(h):(c._events[g]=h,c._eventsCount++),c}function s(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,h=f.length,g=new Array(h);p<h;p++)g[p]=f[p].fn;return g},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,p,h,g){var v=r?r+u:u;if(!this._events[v])return!1;var m=this._events[v],x=arguments.length,b,N;if(m.fn){switch(m.once&&this.removeListener(u,m.fn,void 0,!0),x){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,d),!0;case 3:return m.fn.call(m.context,d,f),!0;case 4:return m.fn.call(m.context,d,f,p),!0;case 5:return m.fn.call(m.context,d,f,p,h),!0;case 6:return m.fn.call(m.context,d,f,p,h,g),!0}for(N=1,b=new Array(x-1);N<x;N++)b[N-1]=arguments[N];m.fn.apply(m.context,b)}else{var j=m.length,y;for(N=0;N<j;N++)switch(m[N].once&&this.removeListener(u,m[N].fn,void 0,!0),x){case 1:m[N].fn.call(m[N].context);break;case 2:m[N].fn.call(m[N].context,d);break;case 3:m[N].fn.call(m[N].context,d,f);break;case 4:m[N].fn.call(m[N].context,d,f,p);break;default:if(!b)for(y=1,b=new Array(x-1);y<x;y++)b[y-1]=arguments[y];m[N].fn.apply(m[N].context,b)}}return!0},l.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,p){var h=r?r+u:u;if(!this._events[h])return this;if(!d)return s(this,h),this;var g=this._events[h];if(g.fn)g.fn===d&&(!p||g.once)&&(!f||g.context===f)&&s(this,h);else{for(var v=0,m=[],x=g.length;v<x;v++)(g[v].fn!==d||p&&!g[v].once||f&&g[v].context!==f)&&m.push(g[v]);m.length?this._events[h]=m.length===1?m[0]:m:s(this,h)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&s(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(C0);var EV=C0.exports;const CV=Fe(EV);var Ec=new CV,Cc="recharts.syncMouseEvents";function ui(e){"@babel/helpers - typeof";return ui=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ui(e)}function TV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uv(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,T0(n.key),n)}}function $V(e,t,r){return t&&uv(e.prototype,t),r&&uv(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Tc(e,t,r){return t=T0(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T0(e){var t=kV(e,"string");return ui(t)=="symbol"?t:t+""}function kV(e,t){if(ui(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ui(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MV=function(){function e(){TV(this,e),Tc(this,"activeIndex",0),Tc(this,"coordinateList",[]),Tc(this,"layout","horizontal")}return $V(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,s=r.container,l=s===void 0?null:s,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,p=r.mouseHandlerCallback,h=p===void 0?null:p;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=h??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,s=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+c+u,p=s+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:p})}}}])}();function IV(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&Z(n)&&Z(a))return!0}return!1}function DV(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function $0(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,s=ut(t,r,n,a),l=ut(t,r,n,i);return{points:[s,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function RV(e,t,r){var n,a,i,s;if(e==="horizontal")n=t.x,i=n,a=r.top,s=r.top+r.height;else if(e==="vertical")a=t.y,s=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,p=ut(l,c,u,f),h=ut(l,c,d,f);n=p.x,a=p.y,i=h.x,s=h.y}else return $0(t);return[{x:n,y:a},{x:i,y:s}]}function di(e){"@babel/helpers - typeof";return di=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},di(e)}function dv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dv(Object(r),!0).forEach(function(n){LV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LV(e,t,r){return t=FV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FV(e){var t=zV(e,"string");return di(t)=="symbol"?t:t+""}function zV(e,t){if(di(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(di(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BV(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,s=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,p=e.chartName,h=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!h||!i||!s||p!=="ScatterChart"&&a!=="axis")return null;var g,v=oa;if(p==="ScatterChart")g=s,v=R6;else if(p==="BarChart")g=DV(f,s,c,d),v=Cf;else if(f==="radial"){var m=$0(s),x=m.cx,b=m.cy,N=m.radius,j=m.startAngle,y=m.endAngle;g={cx:x,cy:b,startAngle:j,endAngle:y,innerRadius:N,outerRadius:N},v=$b}else g={points:RV(f,s,c)},v=oa;var w=Vi(Vi(Vi(Vi({stroke:"#ccc",pointerEvents:"none"},c),g),xe(h,!1)),{},{payload:l,payloadIndex:u,className:_e("recharts-tooltip-cursor",h.className)});return S.isValidElement(h)?S.cloneElement(h,w):S.createElement(v,w)}var qV=["item"],VV=["children","className","width","height","style","compact","title","desc"];function Ta(e){"@babel/helpers - typeof";return Ta=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ta(e)}function Jn(){return Jn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jn.apply(this,arguments)}function fv(e,t){return GV(e)||WV(e,t)||M0(e,t)||UV()}function UV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WV(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function GV(e){if(Array.isArray(e))return e}function pv(e,t){if(e==null)return{};var r=HV(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function HV(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function KV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hv(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,I0(n.key),n)}}function XV(e,t,r){return t&&hv(e.prototype,t),r&&hv(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function YV(e,t,r){return t=Qs(t),ZV(e,k0()?Reflect.construct(t,r||[],Qs(e).constructor):t.apply(e,r))}function ZV(e,t){if(t&&(Ta(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JV(e)}function JV(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k0(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(k0=function(){return!!e})()}function Qs(e){return Qs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qs(e)}function QV(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ud(e,t)}function ud(e,t){return ud=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ud(e,t)}function $a(e){return r9(e)||t9(e)||M0(e)||e9()}function e9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M0(e,t){if(e){if(typeof e=="string")return dd(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dd(e,t)}}function t9(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function r9(e){if(Array.isArray(e))return dd(e)}function dd(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function mv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function U(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mv(Object(r),!0).forEach(function(n){de(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function de(e,t,r){return t=I0(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I0(e){var t=n9(e,"string");return Ta(t)=="symbol"?t:t+""}function n9(e,t){if(Ta(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ta(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var a9={xAxis:["bottom","top"],yAxis:["left","right"]},o9={width:"100%",height:"100%"},D0={x:0,y:0};function Ui(e){return e}var i9=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},s9=function(t,r,n,a){var i=r.find(function(d){return d&&d.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var s=i.coordinate,l=a.radius;return U(U(U({},a),ut(a.cx,a.cy,l,s)),{},{angle:s,radius:l})}var c=i.coordinate,u=a.angle;return U(U(U({},a),ut(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return D0},Vl=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,s=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat($a(l),$a(u)):l},[]);return s.length>0?s:t&&t.length&&Z(a)&&Z(i)?t.slice(a,i+1):[]};function R0(e){return e==="number"?[0,"auto"]:void 0}var fd=function(t,r,n,a){var i=t.graphicalItems,s=t.tooltipAxis,l=Vl(r,t);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var p;if(s.dataKey&&!s.allowDuplicatedCategory){var h=f===void 0?l:f;p=Qi(h,s.dataKey,a)}else p=f&&f[n]||l[n];return p?[].concat($a(c),[Eb(u,p)]):c},[])},gv=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},s=i9(i,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=bF(s,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,p=fd(t,r,d,f),h=s9(n,l,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:p,activeCoordinate:h}}return null},l9=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,s=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,p=t.stackOffset,h=Pb(d,i);return n.reduce(function(g,v){var m,x=v.type.defaultProps!==void 0?U(U({},v.type.defaultProps),v.props):v.props,b=x.type,N=x.dataKey,j=x.allowDataOverflow,y=x.allowDuplicatedCategory,w=x.scale,_=x.ticks,P=x.includeHidden,O=x[s];if(g[O])return g;var k=Vl(t.data,{graphicalItems:a.filter(function(W){var B,Q=s in W.props?W.props[s]:(B=W.type.defaultProps)===null||B===void 0?void 0:B[s];return Q===O}),dataStartIndex:c,dataEndIndex:u}),A=k.length,T,z,$;IV(x.domain,j,b)&&(T=Eu(x.domain,null,j),h&&(b==="number"||w!=="auto")&&($=jo(k,N,"category")));var M=R0(b);if(!T||T.length===0){var L,V=(L=x.domain)!==null&&L!==void 0?L:M;if(N){if(T=jo(k,N,b),b==="category"&&h){var H=dO(T);y&&H?(z=T,T=Fs(0,A)):y||(T=Lm(V,T,v).reduce(function(W,B){return W.indexOf(B)>=0?W:[].concat($a(W),[B])},[]))}else if(b==="category")y?T=T.filter(function(W){return W!==""&&!Ne(W)}):T=Lm(V,T,v).reduce(function(W,B){return W.indexOf(B)>=0||B===""||Ne(B)?W:[].concat($a(W),[B])},[]);else if(b==="number"){var C=_F(k,a.filter(function(W){var B,Q,ee=s in W.props?W.props[s]:(B=W.type.defaultProps)===null||B===void 0?void 0:B[s],ge="hide"in W.props?W.props.hide:(Q=W.type.defaultProps)===null||Q===void 0?void 0:Q.hide;return ee===O&&(P||!ge)}),N,i,d);C&&(T=C)}h&&(b==="number"||w!=="auto")&&($=jo(k,N,"category"))}else h?T=Fs(0,A):l&&l[O]&&l[O].hasStack&&b==="number"?T=p==="expand"?[0,1]:Ab(l[O].stackGroups,c,u):T=_b(k,a.filter(function(W){var B=s in W.props?W.props[s]:W.type.defaultProps[s],Q="hide"in W.props?W.props.hide:W.type.defaultProps.hide;return B===O&&(P||!Q)}),b,d,!0);if(b==="number")T=cd(f,T,O,i,_),V&&(T=Eu(V,T,j));else if(b==="category"&&V){var X=V,I=T.every(function(W){return X.indexOf(W)>=0});I&&(T=X)}}return U(U({},g),{},de({},O,U(U({},x),{},{axisType:i,domain:T,categoricalDomain:$,duplicateDomain:z,originalDomain:(m=x.domain)!==null&&m!==void 0?m:M,isCategorical:h,layout:d})))},{})},c9=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,s=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,p=Vl(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),h=p.length,g=Pb(d,i),v=-1;return n.reduce(function(m,x){var b=x.type.defaultProps!==void 0?U(U({},x.type.defaultProps),x.props):x.props,N=b[s],j=R0("number");if(!m[N]){v++;var y;return g?y=Fs(0,h):l&&l[N]&&l[N].hasStack?(y=Ab(l[N].stackGroups,c,u),y=cd(f,y,N,i)):(y=Eu(j,_b(p,n.filter(function(w){var _,P,O=s in w.props?w.props[s]:(_=w.type.defaultProps)===null||_===void 0?void 0:_[s],k="hide"in w.props?w.props.hide:(P=w.type.defaultProps)===null||P===void 0?void 0:P.hide;return O===N&&!k}),"number",d),a.defaultProps.allowDataOverflow),y=cd(f,y,N,i)),U(U({},m),{},de({},N,U(U({axisType:i},a.defaultProps),{},{hide:!0,orientation:Ht(a9,"".concat(i,".").concat(v%2),null),domain:y,originalDomain:j,isCategorical:g,layout:d})))}return m},{})},u9=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,s=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(a,"Id"),p=Kt(d,i),h={};return p&&p.length?h=l9(t,{axes:p,graphicalItems:s,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):s&&s.length&&(h=c9(t,{Axis:i,graphicalItems:s,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),h},d9=function(t){var r=en(t),n=kr(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:tf(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Cs(r,n)}},vv=function(t){var r=t.children,n=t.defaultShowTooltip,a=Ft(r,wa),i=0,s=0;return t.data&&t.data.length!==0&&(s=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(s=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},f9=function(t){return!t||!t.length?!1:t.some(function(r){var n=Mr(r&&r.type);return n&&n.indexOf("Bar")>=0})},yv=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},p9=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,s=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,p=n.margin||{},h=Ft(f,wa),g=Ft(f,gr),v=Object.keys(c).reduce(function(y,w){var _=c[w],P=_.orientation;return!_.mirror&&!_.hide?U(U({},y),{},de({},P,y[P]+_.width)):y},{left:p.left||0,right:p.right||0}),m=Object.keys(s).reduce(function(y,w){var _=s[w],P=_.orientation;return!_.mirror&&!_.hide?U(U({},y),{},de({},P,Ht(y,"".concat(P))+_.height)):y},{top:p.top||0,bottom:p.bottom||0}),x=U(U({},m),v),b=x.bottom;h&&(x.bottom+=h.props.height||wa.defaultProps.height),g&&r&&(x=NF(x,a,n,r));var N=u-x.left-x.right,j=d-x.top-x.bottom;return U(U({brushBottom:b},x),{},{width:Math.max(N,0),height:Math.max(j,0)})},h9=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},Bf=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,s=t.validateTooltipEventTypes,l=s===void 0?["axis"]:s,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,p=function(x,b){var N=b.graphicalItems,j=b.stackGroups,y=b.offset,w=b.updateId,_=b.dataStartIndex,P=b.dataEndIndex,O=x.barSize,k=x.layout,A=x.barGap,T=x.barCategoryGap,z=x.maxBarSize,$=yv(k),M=$.numericAxisName,L=$.cateAxisName,V=f9(N),H=[];return N.forEach(function(C,X){var I=Vl(x.data,{graphicalItems:[C],dataStartIndex:_,dataEndIndex:P}),W=C.type.defaultProps!==void 0?U(U({},C.type.defaultProps),C.props):C.props,B=W.dataKey,Q=W.maxBarSize,ee=W["".concat(M,"Id")],ge=W["".concat(L,"Id")],we={},pe=c.reduce(function(Dt,st){var Xr=b["".concat(st.axisType,"Map")],Pt=W["".concat(st.axisType,"Id")];Xr&&Xr[Pt]||st.axisType==="zAxis"||kn(!1);var Yr=Xr[Pt];return U(U({},Dt),{},de(de({},st.axisType,Yr),"".concat(st.axisType,"Ticks"),kr(Yr)))},we),D=pe[L],q=pe["".concat(L,"Ticks")],G=j&&j[ee]&&j[ee].hasStack&&RF(C,j[ee].stackGroups),F=Mr(C.type).indexOf("Bar")>=0,he=Cs(D,q),le=[],be=V&&wF({barSize:O,stackGroups:j,totalSize:h9(pe,L)});if(F){var ue,Ee,Ze=Ne(Q)?z:Q,_t=(ue=(Ee=Cs(D,q,!0))!==null&&Ee!==void 0?Ee:Ze)!==null&&ue!==void 0?ue:0;le=jF({barGap:A,barCategoryGap:T,bandSize:_t!==he?_t:he,sizeList:be[ge],maxBarSize:Ze}),_t!==he&&(le=le.map(function(Dt){return U(U({},Dt),{},{position:U(U({},Dt.position),{},{offset:Dt.position.offset-_t/2})})}))}var Pr=C&&C.type&&C.type.getComposedData;Pr&&H.push({props:U(U({},Pr(U(U({},pe),{},{displayedData:I,props:x,dataKey:B,item:C,bandSize:he,barPosition:le,offset:y,stackedData:G,layout:k,dataStartIndex:_,dataEndIndex:P}))),{},de(de(de({key:C.key||"item-".concat(X)},M,pe[M]),L,pe[L]),"animationId",w)),childIndex:NO(C,x.children),item:C})}),H},h=function(x,b){var N=x.props,j=x.dataStartIndex,y=x.dataEndIndex,w=x.updateId;if(!Ap({props:N}))return null;var _=N.children,P=N.layout,O=N.stackOffset,k=N.data,A=N.reverseStackOrder,T=yv(P),z=T.numericAxisName,$=T.cateAxisName,M=Kt(_,n),L=MF(k,M,"".concat(z,"Id"),"".concat($,"Id"),O,A),V=c.reduce(function(W,B){var Q="".concat(B.axisType,"Map");return U(U({},W),{},de({},Q,u9(N,U(U({},B),{},{graphicalItems:M,stackGroups:B.axisType===z&&L,dataStartIndex:j,dataEndIndex:y}))))},{}),H=p9(U(U({},V),{},{props:N,graphicalItems:M}),b==null?void 0:b.legendBBox);Object.keys(V).forEach(function(W){V[W]=d(N,V[W],H,W.replace("Map",""),r)});var C=V["".concat($,"Map")],X=d9(C),I=p(N,U(U({},V),{},{dataStartIndex:j,dataEndIndex:y,updateId:w,graphicalItems:M,stackGroups:L,offset:H}));return U(U({formattedGraphicalItems:I,graphicalItems:M,offset:H,stackGroups:L},X),V)},g=function(m){function x(b){var N,j,y;return KV(this,x),y=YV(this,x,[b]),de(y,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),de(y,"accessibilityManager",new MV),de(y,"handleLegendBBoxUpdate",function(w){if(w){var _=y.state,P=_.dataStartIndex,O=_.dataEndIndex,k=_.updateId;y.setState(U({legendBBox:w},h({props:y.props,dataStartIndex:P,dataEndIndex:O,updateId:k},U(U({},y.state),{},{legendBBox:w}))))}}),de(y,"handleReceiveSyncEvent",function(w,_,P){if(y.props.syncId===w){if(P===y.eventEmitterSymbol&&typeof y.props.syncMethod!="function")return;y.applySyncEvent(_)}}),de(y,"handleBrushChange",function(w){var _=w.startIndex,P=w.endIndex;if(_!==y.state.dataStartIndex||P!==y.state.dataEndIndex){var O=y.state.updateId;y.setState(function(){return U({dataStartIndex:_,dataEndIndex:P},h({props:y.props,dataStartIndex:_,dataEndIndex:P,updateId:O},y.state))}),y.triggerSyncEvent({dataStartIndex:_,dataEndIndex:P})}}),de(y,"handleMouseEnter",function(w){var _=y.getMouseInfo(w);if(_){var P=U(U({},_),{},{isTooltipActive:!0});y.setState(P),y.triggerSyncEvent(P);var O=y.props.onMouseEnter;ye(O)&&O(P,w)}}),de(y,"triggeredAfterMouseMove",function(w){var _=y.getMouseInfo(w),P=_?U(U({},_),{},{isTooltipActive:!0}):{isTooltipActive:!1};y.setState(P),y.triggerSyncEvent(P);var O=y.props.onMouseMove;ye(O)&&O(P,w)}),de(y,"handleItemMouseEnter",function(w){y.setState(function(){return{isTooltipActive:!0,activeItem:w,activePayload:w.tooltipPayload,activeCoordinate:w.tooltipPosition||{x:w.cx,y:w.cy}}})}),de(y,"handleItemMouseLeave",function(){y.setState(function(){return{isTooltipActive:!1}})}),de(y,"handleMouseMove",function(w){w.persist(),y.throttleTriggeredAfterMouseMove(w)}),de(y,"handleMouseLeave",function(w){y.throttleTriggeredAfterMouseMove.cancel();var _={isTooltipActive:!1};y.setState(_),y.triggerSyncEvent(_);var P=y.props.onMouseLeave;ye(P)&&P(_,w)}),de(y,"handleOuterEvent",function(w){var _=jO(w),P=Ht(y.props,"".concat(_));if(_&&ye(P)){var O,k;/.*touch.*/i.test(_)?k=y.getMouseInfo(w.changedTouches[0]):k=y.getMouseInfo(w),P((O=k)!==null&&O!==void 0?O:{},w)}}),de(y,"handleClick",function(w){var _=y.getMouseInfo(w);if(_){var P=U(U({},_),{},{isTooltipActive:!0});y.setState(P),y.triggerSyncEvent(P);var O=y.props.onClick;ye(O)&&O(P,w)}}),de(y,"handleMouseDown",function(w){var _=y.props.onMouseDown;if(ye(_)){var P=y.getMouseInfo(w);_(P,w)}}),de(y,"handleMouseUp",function(w){var _=y.props.onMouseUp;if(ye(_)){var P=y.getMouseInfo(w);_(P,w)}}),de(y,"handleTouchMove",function(w){w.changedTouches!=null&&w.changedTouches.length>0&&y.throttleTriggeredAfterMouseMove(w.changedTouches[0])}),de(y,"handleTouchStart",function(w){w.changedTouches!=null&&w.changedTouches.length>0&&y.handleMouseDown(w.changedTouches[0])}),de(y,"handleTouchEnd",function(w){w.changedTouches!=null&&w.changedTouches.length>0&&y.handleMouseUp(w.changedTouches[0])}),de(y,"handleDoubleClick",function(w){var _=y.props.onDoubleClick;if(ye(_)){var P=y.getMouseInfo(w);_(P,w)}}),de(y,"handleContextMenu",function(w){var _=y.props.onContextMenu;if(ye(_)){var P=y.getMouseInfo(w);_(P,w)}}),de(y,"triggerSyncEvent",function(w){y.props.syncId!==void 0&&Ec.emit(Cc,y.props.syncId,w,y.eventEmitterSymbol)}),de(y,"applySyncEvent",function(w){var _=y.props,P=_.layout,O=_.syncMethod,k=y.state.updateId,A=w.dataStartIndex,T=w.dataEndIndex;if(w.dataStartIndex!==void 0||w.dataEndIndex!==void 0)y.setState(U({dataStartIndex:A,dataEndIndex:T},h({props:y.props,dataStartIndex:A,dataEndIndex:T,updateId:k},y.state)));else if(w.activeTooltipIndex!==void 0){var z=w.chartX,$=w.chartY,M=w.activeTooltipIndex,L=y.state,V=L.offset,H=L.tooltipTicks;if(!V)return;if(typeof O=="function")M=O(H,w);else if(O==="value"){M=-1;for(var C=0;C<H.length;C++)if(H[C].value===w.activeLabel){M=C;break}}var X=U(U({},V),{},{x:V.left,y:V.top}),I=Math.min(z,X.x+X.width),W=Math.min($,X.y+X.height),B=H[M]&&H[M].value,Q=fd(y.state,y.props.data,M),ee=H[M]?{x:P==="horizontal"?H[M].coordinate:I,y:P==="horizontal"?W:H[M].coordinate}:D0;y.setState(U(U({},w),{},{activeLabel:B,activeCoordinate:ee,activePayload:Q,activeTooltipIndex:M}))}else y.setState(w)}),de(y,"renderCursor",function(w){var _,P=y.state,O=P.isTooltipActive,k=P.activeCoordinate,A=P.activePayload,T=P.offset,z=P.activeTooltipIndex,$=P.tooltipAxisBandSize,M=y.getTooltipEventType(),L=(_=w.props.active)!==null&&_!==void 0?_:O,V=y.props.layout,H=w.key||"_recharts-cursor";return E.createElement(BV,{key:H,activeCoordinate:k,activePayload:A,activeTooltipIndex:z,chartName:r,element:w,isActive:L,layout:V,offset:T,tooltipAxisBandSize:$,tooltipEventType:M})}),de(y,"renderPolarAxis",function(w,_,P){var O=Ht(w,"type.axisType"),k=Ht(y.state,"".concat(O,"Map")),A=w.type.defaultProps,T=A!==void 0?U(U({},A),w.props):w.props,z=k&&k[T["".concat(O,"Id")]];return S.cloneElement(w,U(U({},z),{},{className:_e(O,z.className),key:w.key||"".concat(_,"-").concat(P),ticks:kr(z,!0)}))}),de(y,"renderPolarGrid",function(w){var _=w.props,P=_.radialLines,O=_.polarAngles,k=_.polarRadius,A=y.state,T=A.radiusAxisMap,z=A.angleAxisMap,$=en(T),M=en(z),L=M.cx,V=M.cy,H=M.innerRadius,C=M.outerRadius;return S.cloneElement(w,{polarAngles:Array.isArray(O)?O:kr(M,!0).map(function(X){return X.coordinate}),polarRadius:Array.isArray(k)?k:kr($,!0).map(function(X){return X.coordinate}),cx:L,cy:V,innerRadius:H,outerRadius:C,key:w.key||"polar-grid",radialLines:P})}),de(y,"renderLegend",function(){var w=y.state.formattedGraphicalItems,_=y.props,P=_.children,O=_.width,k=_.height,A=y.props.margin||{},T=O-(A.left||0)-(A.right||0),z=Nb({children:P,formattedGraphicalItems:w,legendWidth:T,legendContent:u});if(!z)return null;var $=z.item,M=pv(z,qV);return S.cloneElement($,U(U({},M),{},{chartWidth:O,chartHeight:k,margin:A,onBBoxUpdate:y.handleLegendBBoxUpdate}))}),de(y,"renderTooltip",function(){var w,_=y.props,P=_.children,O=_.accessibilityLayer,k=Ft(P,bt);if(!k)return null;var A=y.state,T=A.isTooltipActive,z=A.activeCoordinate,$=A.activePayload,M=A.activeLabel,L=A.offset,V=(w=k.props.active)!==null&&w!==void 0?w:T;return S.cloneElement(k,{viewBox:U(U({},L),{},{x:L.left,y:L.top}),active:V,label:M,payload:V?$:[],coordinate:z,accessibilityLayer:O})}),de(y,"renderBrush",function(w){var _=y.props,P=_.margin,O=_.data,k=y.state,A=k.offset,T=k.dataStartIndex,z=k.dataEndIndex,$=k.updateId;return S.cloneElement(w,{key:w.key||"_recharts-brush",onChange:Fi(y.handleBrushChange,w.props.onChange),data:O,x:Z(w.props.x)?w.props.x:A.left,y:Z(w.props.y)?w.props.y:A.top+A.height+A.brushBottom-(P.bottom||0),width:Z(w.props.width)?w.props.width:A.width,startIndex:T,endIndex:z,updateId:"brush-".concat($)})}),de(y,"renderReferenceElement",function(w,_,P){if(!w)return null;var O=y,k=O.clipPathId,A=y.state,T=A.xAxisMap,z=A.yAxisMap,$=A.offset,M=w.type.defaultProps||{},L=w.props,V=L.xAxisId,H=V===void 0?M.xAxisId:V,C=L.yAxisId,X=C===void 0?M.yAxisId:C;return S.cloneElement(w,{key:w.key||"".concat(_,"-").concat(P),xAxis:T[H],yAxis:z[X],viewBox:{x:$.left,y:$.top,width:$.width,height:$.height},clipPathId:k})}),de(y,"renderActivePoints",function(w){var _=w.item,P=w.activePoint,O=w.basePoint,k=w.childIndex,A=w.isRange,T=[],z=_.props.key,$=_.item.type.defaultProps!==void 0?U(U({},_.item.type.defaultProps),_.item.props):_.item.props,M=$.activeDot,L=$.dataKey,V=U(U({index:k,dataKey:L,cx:P.x,cy:P.y,r:4,fill:Ef(_.item),strokeWidth:2,stroke:"#fff",payload:P.payload,value:P.value},xe(M,!1)),es(M));return T.push(x.renderActiveDot(M,V,"".concat(z,"-activePoint-").concat(k))),O?T.push(x.renderActiveDot(M,U(U({},V),{},{cx:O.x,cy:O.y}),"".concat(z,"-basePoint-").concat(k))):A&&T.push(null),T}),de(y,"renderGraphicChild",function(w,_,P){var O=y.filterFormatItem(w,_,P);if(!O)return null;var k=y.getTooltipEventType(),A=y.state,T=A.isTooltipActive,z=A.tooltipAxis,$=A.activeTooltipIndex,M=A.activeLabel,L=y.props.children,V=Ft(L,bt),H=O.props,C=H.points,X=H.isRange,I=H.baseLine,W=O.item.type.defaultProps!==void 0?U(U({},O.item.type.defaultProps),O.item.props):O.item.props,B=W.activeDot,Q=W.hide,ee=W.activeBar,ge=W.activeShape,we=!!(!Q&&T&&V&&(B||ee||ge)),pe={};k!=="axis"&&V&&V.props.trigger==="click"?pe={onClick:Fi(y.handleItemMouseEnter,w.props.onClick)}:k!=="axis"&&(pe={onMouseLeave:Fi(y.handleItemMouseLeave,w.props.onMouseLeave),onMouseEnter:Fi(y.handleItemMouseEnter,w.props.onMouseEnter)});var D=S.cloneElement(w,U(U({},O.props),pe));function q(st){return typeof z.dataKey=="function"?z.dataKey(st.payload):null}if(we)if($>=0){var G,F;if(z.dataKey&&!z.allowDuplicatedCategory){var he=typeof z.dataKey=="function"?q:"payload.".concat(z.dataKey.toString());G=Qi(C,he,M),F=X&&I&&Qi(I,he,M)}else G=C==null?void 0:C[$],F=X&&I&&I[$];if(ge||ee){var le=w.props.activeIndex!==void 0?w.props.activeIndex:$;return[S.cloneElement(w,U(U(U({},O.props),pe),{},{activeIndex:le})),null,null]}if(!Ne(G))return[D].concat($a(y.renderActivePoints({item:O,activePoint:G,basePoint:F,childIndex:$,isRange:X})))}else{var be,ue=(be=y.getItemByXY(y.state.activeCoordinate))!==null&&be!==void 0?be:{graphicalItem:D},Ee=ue.graphicalItem,Ze=Ee.item,_t=Ze===void 0?w:Ze,Pr=Ee.childIndex,Dt=U(U(U({},O.props),pe),{},{activeIndex:Pr});return[S.cloneElement(_t,Dt),null,null]}return X?[D,null,null]:[D,null]}),de(y,"renderCustomized",function(w,_,P){return S.cloneElement(w,U(U({key:"recharts-customized-".concat(P)},y.props),y.state))}),de(y,"renderMap",{CartesianGrid:{handler:Ui,once:!0},ReferenceArea:{handler:y.renderReferenceElement},ReferenceLine:{handler:Ui},ReferenceDot:{handler:y.renderReferenceElement},XAxis:{handler:Ui},YAxis:{handler:Ui},Brush:{handler:y.renderBrush,once:!0},Bar:{handler:y.renderGraphicChild},Line:{handler:y.renderGraphicChild},Area:{handler:y.renderGraphicChild},Radar:{handler:y.renderGraphicChild},RadialBar:{handler:y.renderGraphicChild},Scatter:{handler:y.renderGraphicChild},Pie:{handler:y.renderGraphicChild},Funnel:{handler:y.renderGraphicChild},Tooltip:{handler:y.renderCursor,once:!0},PolarGrid:{handler:y.renderPolarGrid,once:!0},PolarAngleAxis:{handler:y.renderPolarAxis},PolarRadiusAxis:{handler:y.renderPolarAxis},Customized:{handler:y.renderCustomized}}),y.clipPathId="".concat((N=b.id)!==null&&N!==void 0?N:qa("recharts"),"-clip"),y.throttleTriggeredAfterMouseMove=Nx(y.triggeredAfterMouseMove,(j=b.throttleDelay)!==null&&j!==void 0?j:1e3/60),y.state={},y}return QV(x,m),XV(x,[{key:"componentDidMount",value:function(){var N,j;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var N=this.props,j=N.children,y=N.data,w=N.height,_=N.layout,P=Ft(j,bt);if(P){var O=P.props.defaultIndex;if(!(typeof O!="number"||O<0||O>this.state.tooltipTicks.length-1)){var k=this.state.tooltipTicks[O]&&this.state.tooltipTicks[O].value,A=fd(this.state,y,O,k),T=this.state.tooltipTicks[O].coordinate,z=(this.state.offset.top+w)/2,$=_==="horizontal",M=$?{x:T,y:z}:{y:T,x:z},L=this.state.formattedGraphicalItems.find(function(H){var C=H.item;return C.type.name==="Scatter"});L&&(M=U(U({},M),L.props.points[O].tooltipPosition),A=L.props.points[O].tooltipPayload);var V={activeTooltipIndex:O,isTooltipActive:!0,activeLabel:k,activePayload:A,activeCoordinate:M};this.setState(V),this.renderCursor(P),this.accessibilityManager.setIndex(O)}}}},{key:"getSnapshotBeforeUpdate",value:function(N,j){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==j.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==N.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==N.margin){var y,w;this.accessibilityManager.setDetails({offset:{left:(y=this.props.margin.left)!==null&&y!==void 0?y:0,top:(w=this.props.margin.top)!==null&&w!==void 0?w:0}})}return null}},{key:"componentDidUpdate",value:function(N){Uc([Ft(N.children,bt)],[Ft(this.props.children,bt)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var N=Ft(this.props.children,bt);if(N&&typeof N.props.shared=="boolean"){var j=N.props.shared?"axis":"item";return l.indexOf(j)>=0?j:i}return i}},{key:"getMouseInfo",value:function(N){if(!this.container)return null;var j=this.container,y=j.getBoundingClientRect(),w=GD(y),_={chartX:Math.round(N.pageX-w.left),chartY:Math.round(N.pageY-w.top)},P=y.width/j.offsetWidth||1,O=this.inRange(_.chartX,_.chartY,P);if(!O)return null;var k=this.state,A=k.xAxisMap,T=k.yAxisMap,z=this.getTooltipEventType(),$=gv(this.state,this.props.data,this.props.layout,O);if(z!=="axis"&&A&&T){var M=en(A).scale,L=en(T).scale,V=M&&M.invert?M.invert(_.chartX):null,H=L&&L.invert?L.invert(_.chartY):null;return U(U({},_),{},{xValue:V,yValue:H},$)}return $?U(U({},_),$):null}},{key:"inRange",value:function(N,j){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,w=this.props.layout,_=N/y,P=j/y;if(w==="horizontal"||w==="vertical"){var O=this.state.offset,k=_>=O.left&&_<=O.left+O.width&&P>=O.top&&P<=O.top+O.height;return k?{x:_,y:P}:null}var A=this.state,T=A.angleAxisMap,z=A.radiusAxisMap;if(T&&z){var $=en(T);return Bm({x:_,y:P},$)}return null}},{key:"parseEventsOfWrapper",value:function(){var N=this.props.children,j=this.getTooltipEventType(),y=Ft(N,bt),w={};y&&j==="axis"&&(y.props.trigger==="click"?w={onClick:this.handleClick}:w={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var _=es(this.props,this.handleOuterEvent);return U(U({},_),w)}},{key:"addListener",value:function(){Ec.on(Cc,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Ec.removeListener(Cc,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(N,j,y){for(var w=this.state.formattedGraphicalItems,_=0,P=w.length;_<P;_++){var O=w[_];if(O.item===N||O.props.key===N.key||j===Mr(O.item.type)&&y===O.childIndex)return O}return null}},{key:"renderClipPath",value:function(){var N=this.clipPathId,j=this.state.offset,y=j.left,w=j.top,_=j.height,P=j.width;return E.createElement("defs",null,E.createElement("clipPath",{id:N},E.createElement("rect",{x:y,y:w,height:_,width:P})))}},{key:"getXScales",value:function(){var N=this.state.xAxisMap;return N?Object.entries(N).reduce(function(j,y){var w=fv(y,2),_=w[0],P=w[1];return U(U({},j),{},de({},_,P.scale))},{}):null}},{key:"getYScales",value:function(){var N=this.state.yAxisMap;return N?Object.entries(N).reduce(function(j,y){var w=fv(y,2),_=w[0],P=w[1];return U(U({},j),{},de({},_,P.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(N){var j;return(j=this.state.xAxisMap)===null||j===void 0||(j=j[N])===null||j===void 0?void 0:j.scale}},{key:"getYScaleByAxisId",value:function(N){var j;return(j=this.state.yAxisMap)===null||j===void 0||(j=j[N])===null||j===void 0?void 0:j.scale}},{key:"getItemByXY",value:function(N){var j=this.state,y=j.formattedGraphicalItems,w=j.activeItem;if(y&&y.length)for(var _=0,P=y.length;_<P;_++){var O=y[_],k=O.props,A=O.item,T=A.type.defaultProps!==void 0?U(U({},A.type.defaultProps),A.props):A.props,z=Mr(A.type);if(z==="Bar"){var $=(k.data||[]).find(function(H){return O6(N,H)});if($)return{graphicalItem:O,payload:$}}else if(z==="RadialBar"){var M=(k.data||[]).find(function(H){return Bm(N,H)});if(M)return{graphicalItem:O,payload:M}}else if(Dl(O,w)||Rl(O,w)||oi(O,w)){var L=CB({graphicalItem:O,activeTooltipItem:w,itemData:T.data}),V=T.activeIndex===void 0?L:T.activeIndex;return{graphicalItem:U(U({},O),{},{childIndex:V}),payload:oi(O,w)?T.data[L]:O.props.data[L]}}}return null}},{key:"render",value:function(){var N=this;if(!Ap(this))return null;var j=this.props,y=j.children,w=j.className,_=j.width,P=j.height,O=j.style,k=j.compact,A=j.title,T=j.desc,z=pv(j,VV),$=xe(z,!1);if(k)return E.createElement(zg,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},E.createElement(Gc,Jn({},$,{width:_,height:P,title:A,desc:T}),this.renderClipPath(),Cp(y,this.renderMap)));if(this.props.accessibilityLayer){var M,L;$.tabIndex=(M=this.props.tabIndex)!==null&&M!==void 0?M:0,$.role=(L=this.props.role)!==null&&L!==void 0?L:"application",$.onKeyDown=function(H){N.accessibilityManager.keyboardEvent(H)},$.onFocus=function(){N.accessibilityManager.focus()}}var V=this.parseEventsOfWrapper();return E.createElement(zg,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},E.createElement("div",Jn({className:_e("recharts-wrapper",w),style:U({position:"relative",cursor:"default",width:_,height:P},O)},V,{ref:function(C){N.container=C}}),E.createElement(Gc,Jn({},$,{width:_,height:P,title:A,desc:T,style:o9}),this.renderClipPath(),Cp(y,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(S.Component);de(g,"displayName",r),de(g,"defaultProps",U({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),de(g,"getDerivedStateFromProps",function(m,x){var b=m.dataKey,N=m.data,j=m.children,y=m.width,w=m.height,_=m.layout,P=m.stackOffset,O=m.margin,k=x.dataStartIndex,A=x.dataEndIndex;if(x.updateId===void 0){var T=vv(m);return U(U(U({},T),{},{updateId:0},h(U(U({props:m},T),{},{updateId:0}),x)),{},{prevDataKey:b,prevData:N,prevWidth:y,prevHeight:w,prevLayout:_,prevStackOffset:P,prevMargin:O,prevChildren:j})}if(b!==x.prevDataKey||N!==x.prevData||y!==x.prevWidth||w!==x.prevHeight||_!==x.prevLayout||P!==x.prevStackOffset||!ra(O,x.prevMargin)){var z=vv(m),$={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},M=U(U({},gv(x,N,_)),{},{updateId:x.updateId+1}),L=U(U(U({},z),$),M);return U(U(U({},L),h(U({props:m},L),x)),{},{prevDataKey:b,prevData:N,prevWidth:y,prevHeight:w,prevLayout:_,prevStackOffset:P,prevMargin:O,prevChildren:j})}if(!Uc(j,x.prevChildren)){var V,H,C,X,I=Ft(j,wa),W=I&&(V=(H=I.props)===null||H===void 0?void 0:H.startIndex)!==null&&V!==void 0?V:k,B=I&&(C=(X=I.props)===null||X===void 0?void 0:X.endIndex)!==null&&C!==void 0?C:A,Q=W!==k||B!==A,ee=!Ne(N),ge=ee&&!Q?x.updateId:x.updateId+1;return U(U({updateId:ge},h(U(U({props:m},x),{},{updateId:ge,dataStartIndex:W,dataEndIndex:B}),x)),{},{prevChildren:j,dataStartIndex:W,dataEndIndex:B})}return null}),de(g,"renderActiveDot",function(m,x,b){var N;return S.isValidElement(m)?N=S.cloneElement(m,x):ye(m)?N=m(x):N=E.createElement(Il,x),E.createElement(Re,{className:"recharts-active-dot",key:b},N)});var v=S.forwardRef(function(x,b){return E.createElement(g,Jn({},x,{ref:b}))});return v.displayName=g.displayName,v},L0=Bf({chartName:"LineChart",GraphicalChild:on,axisComponents:[{axisType:"xAxis",AxisComp:pr},{axisType:"yAxis",AxisComp:Yt}],formatAxisMap:Tf}),qf=Bf({chartName:"BarChart",GraphicalChild:ir,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:pr},{axisType:"yAxis",AxisComp:Yt}],formatAxisMap:Tf}),m9=Bf({chartName:"AreaChart",GraphicalChild:br,axisComponents:[{axisType:"xAxis",AxisComp:pr},{axisType:"yAxis",AxisComp:Yt}],formatAxisMap:Tf});const xv=["#FF8042","#0088FE","#00C49F","#FFBB28","#AF19FF","#FF4560","#00E396"],g9=({active:e,payload:t,label:r})=>e&&t&&t.length?o.jsxs("div",{className:"bg-background/80 backdrop-blur-sm p-3 rounded-md shadow-lg border border-border",children:[o.jsx("p",{className:"label font-semibold text-primary",children:`${r}`}),o.jsx("p",{className:"intro text-sm text-foreground/80",children:`Vendidas: ${t[0].value}`})]}):null,v9=({pizzas:e,isLoading:t})=>o.jsxs(ae,{className:"h-full shadow-lg col-span-1 md:col-span-2",children:[o.jsxs(ve,{children:[o.jsxs(me,{className:"flex items-center",children:[o.jsx(ln,{className:"mr-2 text-orange-500"}),"Top Pizzas Mais Vendidas"]}),o.jsx(We,{children:"Quantidades vendidas dos sabores mais populares."})]}),o.jsx(ie,{children:t?o.jsx("div",{className:"flex items-center justify-center h-80",children:o.jsx(ce,{className:"h-10 w-10 animate-spin text-primary"})}):e.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center h-80 text-center",children:[o.jsx(vt,{className:"w-12 h-12 text-muted-foreground mb-2"}),o.jsx("p",{className:"text-muted-foreground",children:"Nenhuma pizza vendida encontrada para exibir no gráfico."})]}):o.jsx(Ga,{width:"100%",height:320,children:o.jsxs(qf,{data:e,margin:{top:5,right:0,left:-20,bottom:40},barSize:30,children:[o.jsx(qn,{strokeDasharray:"3 3",strokeOpacity:.2}),o.jsx(pr,{dataKey:"nome",angle:-30,textAnchor:"end",height:60,interval:0,tick:{fontSize:11,fill:"hsl(var(--muted-foreground))"}}),o.jsx(Yt,{tick:{fontSize:12,fill:"hsl(var(--muted-foreground))"},allowDecimals:!1}),o.jsx(bt,{content:o.jsx(g9,{}),cursor:{fill:"hsl(var(--muted)/0.3)"}}),o.jsx(gr,{wrapperStyle:{fontSize:"12px",paddingTop:"20px"}}),o.jsx(ir,{dataKey:"total_vendido",name:"Qtd. Vendida",radius:[4,4,0,0],children:e.map((r,n)=>o.jsx(nf,{fill:xv[n%xv.length]},`cell-${n}`))})]})})})]}),y9=({active:e,payload:t,label:r})=>e&&t&&t.length?o.jsxs("div",{className:"bg-background/80 backdrop-blur-sm p-3 rounded-md shadow-lg border border-border",children:[o.jsx("p",{className:"label font-semibold text-primary",children:`Data: ${r}`}),o.jsx("p",{className:"intro text-sm text-foreground/80",children:`Vendas: ${R(t[0].value)}`})]}):null,x9=({salesData:e,isLoading:t})=>{const r=e.map(n=>({...n,data:new Date(n.data_pedido).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"}),vendas:parseFloat(n.total_vendas_dia)}));return o.jsxs(ae,{className:"h-full shadow-lg col-span-1 md:col-span-2",children:[o.jsxs(ve,{children:[o.jsxs(me,{className:"flex items-center",children:[o.jsx(Gt,{className:"mr-2 text-green-500"}),"Vendas Diárias (Últimos 30 Dias)"]}),o.jsx(We,{children:"Evolução do total de vendas ao longo do tempo."})]}),o.jsx(ie,{children:t?o.jsx("div",{className:"flex items-center justify-center h-80",children:o.jsx(ce,{className:"h-10 w-10 animate-spin text-primary"})}):r.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center h-80 text-center",children:[o.jsx(vt,{className:"w-12 h-12 text-muted-foreground mb-2"}),o.jsx("p",{className:"text-muted-foreground",children:"Nenhum dado de vendas encontrado para o período."})]}):o.jsx(Ga,{width:"100%",height:320,children:o.jsxs(L0,{data:r,margin:{top:5,right:10,left:10,bottom:5},children:[o.jsx(qn,{strokeDasharray:"3 3",strokeOpacity:.2}),o.jsx(pr,{dataKey:"data",tick:{fontSize:12,fill:"hsl(var(--muted-foreground))"}}),o.jsx(Yt,{tickFormatter:n=>R(n),tick:{fontSize:12,fill:"hsl(var(--muted-foreground))"},width:80}),o.jsx(bt,{content:o.jsx(y9,{}),cursor:{stroke:"hsl(var(--primary))",strokeWidth:1,strokeDasharray:"3 3"}}),o.jsx(gr,{wrapperStyle:{fontSize:"12px"}}),o.jsx(on,{type:"monotone",dataKey:"vendas",name:"Vendas",stroke:"hsl(var(--primary))",strokeWidth:2,dot:{r:4,fill:"hsl(var(--primary))",strokeWidth:2,stroke:"hsl(var(--background))"},activeDot:{r:6,fill:"hsl(var(--primary))",strokeWidth:2,stroke:"hsl(var(--background))"}})]})})})]})},b9=({active:e,payload:t,label:r})=>e&&t&&t.length?o.jsxs("div",{className:"bg-background/95 backdrop-blur-sm p-4 rounded-lg shadow-xl border border-red-200 dark:border-red-800",children:[o.jsx("p",{className:"label font-bold text-red-600 dark:text-red-400 mb-2",children:`Período: ${r}`}),t.map((n,a)=>{const i=Number.isFinite(n.value)?n.value:0;return o.jsx("p",{className:"text-sm",style:{color:n.color},children:`${n.name}: ${R(i)}`},a)})]}):null,w9=({salesData:e,isLoading:t})=>{const n=(a=>{if(!a||a.length===0)return[];const i={};return a.forEach(s=>{const l=new Date(s.data_pedido),c=new Date(l);c.setDate(l.getDate()-l.getDay());const u=c.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"});i[u]||(i[u]={semana:`Semana ${u}`,vendasAtuais:0,metaSemanal:5e3}),i[u].vendasAtuais+=parseFloat(s.total_vendas_dia)}),Object.values(i).slice(-4)})(e);return o.jsxs(ae,{className:"h-full shadow-lg border-l-4 border-l-red-500",children:[o.jsxs(ve,{className:"bg-gradient-to-r from-red-50 to-black/5 dark:from-red-950/20 dark:to-black/20",children:[o.jsxs(me,{className:"flex items-center text-red-700 dark:text-red-300",children:[o.jsx(Hi,{className:"mr-2 h-5 w-5"}),"Comparativo de Vendas vs Meta"]}),o.jsx(We,{className:"text-red-600/80 dark:text-red-400/80",children:"Vendas realizadas versus metas semanais (últimas 4 semanas)"})]}),o.jsx(ie,{className:"pt-6",children:t?o.jsx("div",{className:"flex items-center justify-center h-80",children:o.jsx(ce,{className:"h-10 w-10 animate-spin text-red-500"})}):n.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center h-80 text-center",children:[o.jsx(vt,{className:"w-12 h-12 text-red-400 mb-2"}),o.jsx("p",{className:"text-muted-foreground",children:"Dados insuficientes para comparação."})]}):o.jsx(Ga,{width:"100%",height:320,children:o.jsxs(qf,{data:n,margin:{top:20,right:30,left:20,bottom:5},children:[o.jsx(qn,{strokeDasharray:"3 3",strokeOpacity:.2}),o.jsx(pr,{dataKey:"semana",tick:{fontSize:12,fill:"hsl(var(--muted-foreground))"},axisLine:{stroke:"hsl(var(--border))"}}),o.jsx(Yt,{tickFormatter:a=>R(a),tick:{fontSize:12,fill:"hsl(var(--muted-foreground))"},width:80,axisLine:{stroke:"hsl(var(--border))"}}),o.jsx(bt,{content:o.jsx(b9,{})}),o.jsx(gr,{wrapperStyle:{fontSize:"12px",paddingTop:"20px"},iconType:"rect"}),o.jsx(ir,{dataKey:"vendasAtuais",name:"Vendas Realizadas",fill:"#ef4444",radius:[4,4,0,0],opacity:.8}),o.jsx(ir,{dataKey:"metaSemanal",name:"Meta Semanal",fill:"#991b1b",radius:[4,4,0,0],opacity:.6})]})})})]})},j9=({active:e,payload:t,label:r})=>{if(e&&t&&t.length){const n=Number.isFinite(t[0].value)?t[0].value:0;return o.jsxs("div",{className:"bg-background/95 backdrop-blur-sm p-4 rounded-lg shadow-xl border border-red-200 dark:border-red-800",children:[o.jsx("p",{className:"label font-bold text-red-600 dark:text-red-400 mb-2",children:`Horário: ${r}:00h`}),o.jsx("p",{className:"text-sm text-foreground",children:`Pedidos: ${n}`}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:n>20?"Horário de pico":n>10?"Movimento moderado":"Movimento baixo"})]})}return null},N9=({recentOrders:e,isLoading:t})=>{const n=(i=>{if(!i||i.length===0)return[];const s=Array.from({length:24},(l,c)=>({hora:c,pedidos:0,label:`${String(c).padStart(2,"0")}h`}));return i.forEach(l=>{if(l.created_at){const u=new Date(l.created_at).getHours();s[u].pedidos+=1}}),s.filter(l=>l.pedidos>0||l.hora>=10&&l.hora<=23)})(e),a=i=>i>=20?"#dc2626":i>=10?"#ef4444":i>=5?"#f87171":"#fca5a5";return o.jsxs(ae,{className:"h-full shadow-lg border-l-4 border-l-black",children:[o.jsxs(ve,{className:"bg-gradient-to-r from-gray-50 to-red-50 dark:from-gray-950/20 dark:to-red-950/20",children:[o.jsxs(me,{className:"flex items-center text-gray-800 dark:text-gray-200",children:[o.jsx(Ki,{className:"mr-2 h-5 w-5 text-red-600"}),"Distribuição de Pedidos por Horário"]}),o.jsx(We,{className:"text-gray-600 dark:text-gray-400",children:"Histograma mostrando a concentração de pedidos ao longo do dia"})]}),o.jsxs(ie,{className:"pt-6",children:[t?o.jsx("div",{className:"flex items-center justify-center h-80",children:o.jsx(ce,{className:"h-10 w-10 animate-spin text-red-500"})}):n.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center h-80 text-center",children:[o.jsx(vt,{className:"w-12 h-12 text-red-400 mb-2"}),o.jsx("p",{className:"text-muted-foreground",children:"Nenhum pedido encontrado para análise."})]}):o.jsx(Ga,{width:"100%",height:320,children:o.jsxs(qf,{data:n,margin:{top:20,right:30,left:20,bottom:5},children:[o.jsx(qn,{strokeDasharray:"3 3",strokeOpacity:.2}),o.jsx(pr,{dataKey:"label",tick:{fontSize:11,fill:"hsl(var(--muted-foreground))"},axisLine:{stroke:"hsl(var(--border))"},interval:1}),o.jsx(Yt,{tick:{fontSize:12,fill:"hsl(var(--muted-foreground))"},axisLine:{stroke:"hsl(var(--border))"},label:{value:"Quantidade de Pedidos",angle:-90,position:"insideLeft",style:{textAnchor:"middle",fill:"hsl(var(--muted-foreground))"}}}),o.jsx(bt,{content:o.jsx(j9,{})}),o.jsx(ir,{dataKey:"pedidos",fill:i=>a(i.pedidos),radius:[2,2,0,0],stroke:"rgba(0,0,0,0.1)",strokeWidth:1,children:n.map((i,s)=>o.jsx(ir,{fill:a(i.pedidos)},`bar-${s}`))})]})}),o.jsxs("div",{className:"mt-4 flex flex-wrap gap-4 justify-center text-xs",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:"#dc2626"}}),o.jsx("span",{className:"text-muted-foreground",children:"Pico (20+ pedidos)"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:"#ef4444"}}),o.jsx("span",{className:"text-muted-foreground",children:"Alto (10-19 pedidos)"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:"#f87171"}}),o.jsx("span",{className:"text-muted-foreground",children:"Médio (5-9 pedidos)"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:"#fca5a5"}}),o.jsx("span",{className:"text-muted-foreground",children:"Baixo (1-4 pedidos)"})]})]})]})]})},S9=({active:e,payload:t,label:r})=>e&&t&&t.length?o.jsxs("div",{className:"bg-background/95 backdrop-blur-sm p-4 rounded-lg shadow-xl border border-red-200 dark:border-red-800",children:[o.jsx("p",{className:"label font-bold text-red-600 dark:text-red-400 mb-2",children:`Data: ${r}`}),t.map((n,a)=>{const i=Number.isFinite(n.value)?n.value:0,s=n.name.includes("Vendas")||n.name.includes("Ticket")?R(i):i.toString();return o.jsxs("div",{className:"flex items-center gap-2 text-sm mb-1",children:[o.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:n.color}}),o.jsxs("span",{className:"font-medium",children:[n.name,":"]}),o.jsx("span",{style:{color:n.color},children:s})]},a)})]}):null,_9=({salesData:e,recentOrders:t,isLoading:r})=>{const a=((c,u)=>{if(!c||c.length===0)return[];const d={};if(c.forEach(f=>{const p=new Date(f.data_pedido).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"}),h=parseFloat(f.total_vendas_dia);d[p]={data:p,vendas:Number.isFinite(h)?h:0,pedidos:0,ticketMedio:0}}),u&&u.length>0){const f={};u.forEach(p=>{const h=new Date(p.created_at).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"});f[h]||(f[h]=[]),f[h].push(p)}),Object.keys(f).forEach(p=>{if(d[p]){const h=f[p];d[p].pedidos=h.length;const g=d[p].pedidos>0?d[p].vendas/d[p].pedidos:0;d[p].ticketMedio=Number.isFinite(g)?g:0}})}return Object.values(d).slice(-14)})(e,t),i=(c,u)=>{if(c.length<2)return 0;const d=c.slice(-3).reduce((h,g)=>h+(Number.isFinite(g[u])?g[u]:0),0)/3,f=c.slice(-6,-3).reduce((h,g)=>h+(Number.isFinite(g[u])?g[u]:0),0)/3,p=f>0?(d-f)/f*100:0;return Number.isFinite(p)?p:0},s=i(a,"vendas"),l=i(a,"pedidos");return o.jsxs(ae,{className:"h-full shadow-lg border-l-4 border-l-red-600",children:[o.jsx(ve,{className:"bg-gradient-to-r from-red-50 to-black/5 dark:from-red-950/20 dark:to-black/20",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs(me,{className:"flex items-center text-red-700 dark:text-red-300",children:[o.jsx(Gt,{className:"mr-2 h-5 w-5"}),"Análise de Tendências Múltiplas"]}),o.jsx(We,{className:"text-red-600/80 dark:text-red-400/80",children:"Vendas, Pedidos e Ticket Médio (últimos 14 dias)"})]}),o.jsxs("div",{className:"text-right text-xs",children:[o.jsxs("div",{className:`flex items-center gap-1 ${s>=0?"text-green-600":"text-red-600"}`,children:[s>=0?o.jsx(Gt,{className:"h-3 w-3"}):o.jsx(Yi,{className:"h-3 w-3"}),o.jsxs("span",{className:"font-medium",children:["Vendas: ",s.toFixed(1),"%"]})]}),o.jsxs("div",{className:`flex items-center gap-1 ${l>=0?"text-green-600":"text-red-600"}`,children:[l>=0?o.jsx(Gt,{className:"h-3 w-3"}):o.jsx(Yi,{className:"h-3 w-3"}),o.jsxs("span",{className:"font-medium",children:["Pedidos: ",l.toFixed(1),"%"]})]})]})]})}),o.jsxs(ie,{className:"pt-6",children:[r?o.jsx("div",{className:"flex items-center justify-center h-80",children:o.jsx(ce,{className:"h-10 w-10 animate-spin text-red-500"})}):a.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center h-80 text-center",children:[o.jsx(vt,{className:"w-12 h-12 text-red-400 mb-2"}),o.jsx("p",{className:"text-muted-foreground",children:"Dados insuficientes para análise de tendências."})]}):o.jsx(Ga,{width:"100%",height:320,children:o.jsxs(L0,{data:a,margin:{top:20,right:30,left:20,bottom:5},children:[o.jsx(qn,{strokeDasharray:"3 3",strokeOpacity:.2}),o.jsx(pr,{dataKey:"data",tick:{fontSize:11,fill:"hsl(var(--muted-foreground))"},axisLine:{stroke:"hsl(var(--border))"}}),o.jsx(Yt,{yAxisId:"vendas",orientation:"left",tickFormatter:c=>R(c),tick:{fontSize:11,fill:"hsl(var(--muted-foreground))"},axisLine:{stroke:"hsl(var(--border))"}}),o.jsx(Yt,{yAxisId:"quantidade",orientation:"right",tick:{fontSize:11,fill:"hsl(var(--muted-foreground))"},axisLine:{stroke:"hsl(var(--border))"}}),o.jsx(bt,{content:o.jsx(S9,{})}),o.jsx(gr,{wrapperStyle:{fontSize:"11px",paddingTop:"15px"},iconType:"line"}),o.jsx(on,{yAxisId:"vendas",type:"monotone",dataKey:"vendas",name:"Vendas (R$)",stroke:"#dc2626",strokeWidth:3,dot:{r:4,fill:"#dc2626",strokeWidth:2,stroke:"#ffffff"},activeDot:{r:6,fill:"#dc2626",strokeWidth:2,stroke:"#ffffff"}}),o.jsx(on,{yAxisId:"quantidade",type:"monotone",dataKey:"pedidos",name:"Pedidos (Qtd)",stroke:"#991b1b",strokeWidth:2,strokeDasharray:"5 5",dot:{r:3,fill:"#991b1b",strokeWidth:2,stroke:"#ffffff"},activeDot:{r:5,fill:"#991b1b",strokeWidth:2,stroke:"#ffffff"}}),o.jsx(on,{yAxisId:"vendas",type:"monotone",dataKey:"ticketMedio",name:"Ticket Médio (R$)",stroke:"#7f1d1d",strokeWidth:2,dot:{r:2,fill:"#7f1d1d",strokeWidth:2,stroke:"#ffffff"},activeDot:{r:4,fill:"#7f1d1d",strokeWidth:2,stroke:"#ffffff"}})]})}),o.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-4 text-center text-xs",children:[o.jsxs("div",{className:"bg-red-50 dark:bg-red-950/20 p-2 rounded",children:[o.jsx("div",{className:"font-medium text-red-700 dark:text-red-300",children:"Vendas Médias"}),o.jsx("div",{className:"text-sm text-red-600 dark:text-red-400",children:a.length>0?R(a.reduce((c,u)=>c+u.vendas,0)/a.length):"N/A"})]}),o.jsxs("div",{className:"bg-gray-50 dark:bg-gray-950/20 p-2 rounded",children:[o.jsx("div",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Pedidos Médios"}),o.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:a.length>0?Math.round(a.reduce((c,u)=>c+u.pedidos,0)/a.length):"N/A"})]}),o.jsxs("div",{className:"bg-black/5 dark:bg-black/20 p-2 rounded",children:[o.jsx("div",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Ticket Médio"}),o.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:a.length>0?R(a.reduce((c,u)=>c+u.ticketMedio,0)/a.length):"N/A"})]})]})]})]})},P9=({active:e,payload:t,label:r})=>e&&t&&t.length?o.jsxs("div",{className:"bg-background/95 backdrop-blur-sm p-4 rounded-lg shadow-xl border border-red-200 dark:border-red-800",children:[o.jsx("p",{className:"label font-bold text-red-600 dark:text-red-400 mb-2",children:`Data: ${r}`}),t.map((n,a)=>{const i=Number.isFinite(n.value)?n.value:0;return o.jsx("p",{className:"text-sm",style:{color:n.color},children:`${n.name}: ${R(i)}`},a)})]}):null,O9=({salesData:e,isLoading:t})=>{const n=(s=>{if(!s||s.length===0)return[];let l=0,c=0,u=0;return s.map((d,f)=>{const p=parseFloat(d.total_vendas_dia),h=Number.isFinite(p)?p:0;return l+=h,f%7===0&&(u=0),u+=h,f%30===0&&(c=0),c+=h,{data:new Date(d.data_pedido).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"}),cumulativo:l,mensal:c,semanal:u,diario:p}}).slice(-21)})(e),a=n.length>0?n[n.length-1].cumulativo:0,i=n.length>0?a/n.length:0;return o.jsxs(ae,{className:"h-full shadow-lg border-l-4 border-l-black",children:[o.jsx(ve,{className:"bg-gradient-to-r from-gray-50 to-red-50 dark:from-gray-950/20 dark:to-red-950/20",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs(me,{className:"flex items-center text-gray-800 dark:text-gray-200",children:[o.jsx(b1,{className:"mr-2 h-5 w-5 text-red-600"}),"Evolução Cumulativa de Vendas"]}),o.jsx(We,{className:"text-gray-600 dark:text-gray-400",children:"Progressão diária, semanal e cumulativa (últimas 3 semanas)"})]}),o.jsxs("div",{className:"text-right text-xs",children:[o.jsxs("div",{className:"text-red-600 font-medium",children:["Total: ",R(a)]}),o.jsxs("div",{className:"text-gray-600",children:["Média/dia: ",R(i)]})]})]})}),o.jsxs(ie,{className:"pt-6",children:[t?o.jsx("div",{className:"flex items-center justify-center h-80",children:o.jsx(ce,{className:"h-10 w-10 animate-spin text-red-500"})}):n.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center h-80 text-center",children:[o.jsx(vt,{className:"w-12 h-12 text-red-400 mb-2"}),o.jsx("p",{className:"text-muted-foreground",children:"Dados insuficientes para análise cumulativa."})]}):o.jsx(Ga,{width:"100%",height:320,children:o.jsxs(m9,{data:n,margin:{top:20,right:30,left:20,bottom:5},children:[o.jsxs("defs",{children:[o.jsxs("linearGradient",{id:"cumulativo",x1:"0",y1:"0",x2:"0",y2:"1",children:[o.jsx("stop",{offset:"5%",stopColor:"#dc2626",stopOpacity:.3}),o.jsx("stop",{offset:"95%",stopColor:"#dc2626",stopOpacity:.05})]}),o.jsxs("linearGradient",{id:"semanal",x1:"0",y1:"0",x2:"0",y2:"1",children:[o.jsx("stop",{offset:"5%",stopColor:"#991b1b",stopOpacity:.4}),o.jsx("stop",{offset:"95%",stopColor:"#991b1b",stopOpacity:.1})]}),o.jsxs("linearGradient",{id:"diario",x1:"0",y1:"0",x2:"0",y2:"1",children:[o.jsx("stop",{offset:"5%",stopColor:"#7f1d1d",stopOpacity:.5}),o.jsx("stop",{offset:"95%",stopColor:"#7f1d1d",stopOpacity:.1})]})]}),o.jsx(qn,{strokeDasharray:"3 3",strokeOpacity:.2}),o.jsx(pr,{dataKey:"data",tick:{fontSize:10,fill:"hsl(var(--muted-foreground))"},axisLine:{stroke:"hsl(var(--border))"},interval:2}),o.jsx(Yt,{tickFormatter:s=>R(s),tick:{fontSize:11,fill:"hsl(var(--muted-foreground))"},axisLine:{stroke:"hsl(var(--border))"},width:80}),o.jsx(bt,{content:o.jsx(P9,{})}),o.jsx(br,{type:"monotone",dataKey:"cumulativo",name:"Vendas Cumulativas",stackId:"1",stroke:"#dc2626",strokeWidth:2,fill:"url(#cumulativo)"}),o.jsx(br,{type:"monotone",dataKey:"semanal",name:"Vendas Semanais",stackId:"2",stroke:"#991b1b",strokeWidth:1.5,fill:"url(#semanal)",fillOpacity:.6}),o.jsx(br,{type:"monotone",dataKey:"diario",name:"Vendas Diárias",stackId:"3",stroke:"#7f1d1d",strokeWidth:1,fill:"url(#diario)",fillOpacity:.8})]})}),o.jsxs("div",{className:"mt-4 grid grid-cols-4 gap-3 text-center text-xs",children:[o.jsxs("div",{className:"bg-red-50 dark:bg-red-950/20 p-2 rounded",children:[o.jsx("div",{className:"font-medium text-red-700 dark:text-red-300",children:"Melhor Dia"}),o.jsx("div",{className:"text-sm text-red-600 dark:text-red-400",children:n.length>0?R(Math.max(...n.map(s=>s.diario))):"N/A"})]}),o.jsxs("div",{className:"bg-gray-50 dark:bg-gray-950/20 p-2 rounded",children:[o.jsx("div",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Pior Dia"}),o.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:n.length>0?R(Math.min(...n.map(s=>s.diario))):"N/A"})]}),o.jsxs("div",{className:"bg-black/5 dark:bg-black/20 p-2 rounded",children:[o.jsx("div",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Melhor Semana"}),o.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:n.length>0?R(Math.max(...n.map(s=>s.semanal))):"N/A"})]}),o.jsxs("div",{className:"bg-red-100 dark:bg-red-900/20 p-2 rounded",children:[o.jsx("div",{className:"font-medium text-red-800 dark:text-red-200",children:"Crescimento"}),o.jsx("div",{className:"text-sm text-red-700 dark:text-red-300",children:n.length>7?`${((n[n.length-1].semanal/n[n.length-8].semanal-1)*100).toFixed(1)}%`:"N/A"})]})]})]})]})},F0="http://localhost:3001/api";console.log("🔗 API Base URL configurada:",F0);const Y={async request(e,t={}){let r=`${F0}${e}`;if(t.params){const i=new URLSearchParams(t.params).toString();i&&(r+=`?${i}`),delete t.params}const n=localStorage.getItem("authToken"),a={headers:{"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...t.headers},...t};a.body&&typeof a.body=="object"&&(a.body=JSON.stringify(a.body));try{console.log(`🔗 [API] Fazendo requisição para: ${e}`),console.log(`📍 [API] URL completa: ${r}`),console.log(`🔑 [API] Token presente: ${!!n}`);const i=await fetch(r,a);if(!i.ok){if(i.status===401)throw localStorage.removeItem("authToken"),localStorage.removeItem("userProfile"),window.location.pathname!=="/auth"&&(window.location.href="/auth"),new Error("Sessão expirada. Faça login novamente.");let l=`Erro HTTP ${i.status}`;try{const c=await i.json();l=c.error||c.message||l}catch{}throw new Error(l)}const s=await i.json();return console.log(`✅ [API] Resposta recebida de: ${e}`),s}catch(i){throw console.error(`❌ [API] Erro na requisição para ${e}:`,i.message),i}},get(e,t={}){return this.request(e,{method:"GET",...t})},post(e,t,r={}){return this.request(e,{method:"POST",body:t,...r})},patch(e,t,r={}){return this.request(e,{method:"PATCH",body:t,...r})},put(e,t,r={}){return this.request(e,{method:"PUT",body:t,...r})},delete(e,t={}){return this.request(e,{method:"DELETE",...t})}},A9=()=>{const[e,t]=S.useState({salesToday:0,newCustomersToday:0,pizzasSoldToday:0,pendingOrders:0}),[r,n]=S.useState(!0),[a,i]=S.useState([]),[s,l]=S.useState(!0),[c,u]=S.useState([]),[d,f]=S.useState(!0),[p,h]=S.useState([]),[g,v]=S.useState(!0),{toast:m}=ze(),x=S.useCallback(async(b=!1)=>{var N,j,y,w;n(!0),l(!0),f(!0),v(!0);try{console.log("📊 Buscando dados do dashboard da API...");const _=await Y.get("/dashboard");if(console.log("✅ Dados do dashboard carregados"),!_)throw new Error("Nenhum dado retornado da API");const P={salesToday:((N=_.kpis)==null?void 0:N.salesToday)||0,newCustomersToday:((j=_.kpis)==null?void 0:j.newCustomersToday)||0,pizzasSoldToday:((y=_.kpis)==null?void 0:y.pizzasSoldToday)||0,pendingOrders:((w=_.kpis)==null?void 0:w.pendingOrders)||0};t(P),n(!1);const O=_.recentOrders||[];i(O),l(!1);const k=_.topPizzas||[];u(k),f(!1);const A=_.salesOverTime||[];h(A),v(!1),b&&m({title:"Dashboard Atualizado",description:"Dados atualizados com sucesso!"})}catch(_){console.error("❌ Erro ao buscar dados do dashboard:",_),console.error("Stack trace:",_.stack),b&&m({title:"Erro ao Atualizar Dashboard",description:_.message||"Erro desconhecido",variant:"destructive"}),t({salesToday:0,newCustomersToday:0,pizzasSoldToday:0,pendingOrders:0}),i([]),u([]),h([]),n(!1),l(!1),f(!1),v(!1)}},[m]);return S.useEffect(()=>{x();const b=()=>{x(!0)},N=()=>{x(!0)},j=P=>{console.log("📊 [Dashboard] Evento cashUpdated recebido:",P.detail),setTimeout(()=>x(!0),1e3)},y=P=>{var O,k;console.log("📊 [Dashboard] Evento orderStatusChanged recebido:",P.detail),(((O=P.detail)==null?void 0:O.newStatus)==="fechada"||((k=P.detail)==null?void 0:k.newStatus)==="entregue")&&setTimeout(()=>x(!0),1e3)},w=P=>{console.log("📊 [Dashboard] Evento orderDelivered recebido:",P.detail),setTimeout(()=>x(!0),500)};window.addEventListener("orderSaved",b),window.addEventListener("cashClosed",N),window.addEventListener("cashUpdated",j),window.addEventListener("orderStatusChanged",y),window.addEventListener("orderDelivered",w);const _=setInterval(()=>{x()},12e4);return()=>{window.removeEventListener("orderSaved",b),window.removeEventListener("cashClosed",N),window.removeEventListener("cashUpdated",j),window.removeEventListener("orderStatusChanged",y),window.removeEventListener("orderDelivered",w),clearInterval(_)}},[]),{kpiRawData:e,loadingKpis:r,recentOrders:a,isLoadingRecent:s,topPizzasData:c,isLoadingTopPizzas:d,salesOverTimeData:p,isLoadingSalesOverTime:g,fetchAllDashboardData:x}},E9=()=>{const{kpiRawData:e,loadingKpis:t,recentOrders:r,isLoadingRecent:n,topPizzasData:a,isLoadingTopPizzas:i,salesOverTimeData:s,isLoadingSalesOverTime:l,fetchAllDashboardData:c}=A9(),u=t&&n&&i&&l,d=!t&&!n&&!i&&!l&&e.salesToday===0&&e.newCustomersToday===0&&r.length===0&&a.length===0,f=()=>{c(!0)};return u?o.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx(ce,{className:"h-12 w-12 animate-spin text-primary mx-auto"}),o.jsx("h2",{className:"text-xl font-semibold",children:"Carregando Dashboard..."}),o.jsx("p",{className:"text-muted-foreground",children:"Buscando dados da pizzaria"})]})}):d?o.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:o.jsx("div",{className:"text-center space-y-4 max-w-md",children:o.jsxs("div",{children:[o.jsx(Gt,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),o.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Nenhum Dado Encontrado"}),o.jsx("p",{className:"text-muted-foreground mb-6",children:"Parece que ainda não há dados suficientes para exibir o dashboard. Isso pode acontecer se você acabou de configurar o sistema ou se não há pedidos hoje."}),o.jsxs(K,{onClick:f,variant:"outline",size:"lg",children:[o.jsx(Xi,{className:"h-5 w-5 mr-2"}),"Tentar Novamente"]})]})})}):o.jsxs("div",{className:"space-y-8 bg-gradient-to-br from-gray-50 to-red-50 dark:from-gray-950 dark:to-red-950/20 min-h-screen p-6",children:[o.jsx("div",{className:"bg-gradient-to-r from-black to-red-600 text-white p-6 rounded-lg shadow-xl",children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-4xl font-bold tracking-tight mb-2",children:"🍕 Dashboard da Pizzaria"}),o.jsx("p",{className:"text-red-100 text-lg",children:"Painel analítico completo - Visualize o desempenho da sua pizzaria em tempo real"})]}),o.jsxs(K,{variant:"outline",onClick:f,className:"bg-white text-black hover:bg-red-100 border-white",children:[o.jsx(Xi,{className:"h-4 w-4 mr-2"}),"Atualizar"]})]})}),o.jsx(AN,{kpiData:e,isLoading:t}),o.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:[o.jsx("div",{children:o.jsx(_9,{salesData:s,recentOrders:r,isLoading:l||n})}),o.jsx("div",{children:o.jsx(O9,{salesData:s,isLoading:l})})]}),o.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:[o.jsx("div",{children:o.jsx(w9,{salesData:s,isLoading:l})}),o.jsx("div",{children:o.jsx(N9,{recentOrders:r,isLoading:n})})]}),o.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:[o.jsx("div",{children:o.jsx(v9,{pizzas:a,isLoading:i})}),o.jsx("div",{children:o.jsx(x9,{salesData:s,isLoading:l})})]}),o.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[o.jsx("div",{className:"xl:col-span-2",children:o.jsx(CN,{orders:r,isLoading:n})}),o.jsx("div",{children:o.jsx(TN,{pizzas:a.slice(0,5),isLoading:i})})]})]})},Qn={clearAllCache(){try{console.log("🧹 [CacheManager] Limpando TODOS os dados em cache..."),Object.keys(localStorage).forEach(r=>{localStorage.removeItem(r),console.log(`   🗑️ localStorage.${r} removido`)}),Object.keys(sessionStorage).forEach(r=>{sessionStorage.removeItem(r),console.log(`   🗑️ sessionStorage.${r} removido`)}),"caches"in window&&caches.keys().then(r=>{r.forEach(n=>{caches.delete(n),console.log(`   🗑️ Cache ${n} removido`)})}),console.log("✅ [CacheManager] Cache limpo completamente")}catch(e){console.error("❌ [CacheManager] Erro ao limpar cache:",e)}},checkForMockData(){try{const e=[];for(let t=0;t<localStorage.length;t++){const r=localStorage.key(t);if(r)try{const n=localStorage.getItem(r),a=JSON.parse(n);a&&Array.isArray(a)&&a.some(s=>s.id&&typeof s.id=="number")&&e.push(`localStorage.${r} (${a.length} items)`),a&&typeof a=="object"&&!Array.isArray(a)&&a.id&&typeof a.id=="number"&&e.push(`localStorage.${r} (objeto único)`),typeof a=="string"&&/^\d+$/.test(a)&&a.length<5&&e.push(`localStorage.${r} (ID numérico: ${a})`)}catch{}}for(let t=0;t<sessionStorage.length;t++){const r=sessionStorage.key(t);if(r)try{const n=sessionStorage.getItem(r),a=JSON.parse(n);a&&Array.isArray(a)&&a.some(s=>s.id&&typeof s.id=="number")&&e.push(`sessionStorage.${r} (${a.length} items)`),a&&typeof a=="object"&&!Array.isArray(a)&&a.id&&typeof a.id=="number"&&e.push(`sessionStorage.${r} (objeto único)`),typeof a=="string"&&/^\d+$/.test(a)&&a.length<5&&e.push(`sessionStorage.${r} (ID numérico: ${a})`)}catch{}}return e.length>0?(console.warn("🚨 [CacheManager] DADOS MOCK DETECTADOS:",e),e):(console.log("✅ [CacheManager] Nenhum dado mock encontrado no cache"),[])}catch(e){return console.error("❌ [CacheManager] Erro ao verificar dados mock:",e),[]}},forceCleanAndReload(){console.log("🚨 [CacheManager] FORÇANDO LIMPEZA E RECARREGAMENTO..."),this.clearAllCache(),setTimeout(()=>{console.log("🔄 [CacheManager] Recarregando página..."),window.location.reload(!0)},500)},autoCheck(){console.log("🔍 [CacheManager] Verificação automática iniciada...");const e=this.checkForMockData();return e.length>0?(console.error("🚨 DADOS MOCK DETECTADOS! Limpeza automática necessária."),console.log("📋 Dados encontrados:",e),typeof window<"u"&&(confirm(`⚠️ ATENÇÃO: Dados obsoletos detectados no cache!

Foram encontrados ${e.length} item(s) com dados antigos que podem causar erros.

Deseja limpar automaticamente? (Recomendado)`)?this.forceCleanAndReload():console.warn("⚠️ Usuário optou por não limpar. Erros podem ocorrer.")),!1):(console.log("✅ [CacheManager] Verificação passou - cache limpo"),!0)}};typeof window<"u"&&(document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{Qn.autoCheck()}):Qn.autoCheck());const tn={async getAllActiveProducts(){try{console.log("🔍 [ProductService] Verificando cache antes de buscar produtos...");const e=Qn.checkForMockData();e.length>0&&(console.error("🚨 [ProductService] DADOS MOCK DETECTADOS! Forçando limpeza..."),console.log("📋 Dados mock encontrados:",e),Qn.clearAllCache(),await new Promise(s=>setTimeout(s,100))),console.log("🔗 [ProductService] Fazendo requisição para API...");const t=await Y.request("/products",{method:"GET"});if(!t||!t.products)throw new Error("API retornou resposta inválida");const r=t.products;console.log(`📊 [ProductService] API retornou ${r.length} produtos`);const n=r.filter(s=>s.tipo_produto==="borda");console.log("🔍 [ProductService] Bordas encontradas:",n.length),n.forEach(s=>{console.log(`   • ${s.nome}: R$ ${s.preco_unitario} (${typeof s.preco_unitario})`)});const a=[],i=[];if(r.forEach(s=>{s.id&&typeof s.id=="string"&&s.id.length===36&&s.id.includes("-")&&/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(s.id)?a.push(s):i.push({nome:s.nome,id:s.id,tipo:typeof s.id,length:s.id?s.id.length:"undefined"})}),i.length>0&&(console.error("❌ [ProductService] PRODUTOS COM IDs INVÁLIDOS DETECTADOS:"),i.forEach(s=>{console.error(`   • ${s.nome}: ID="${s.id}" (tipo: ${s.tipo}, length: ${s.length})`)}),console.error(`🚨 TOTAL: ${i.length} produtos inválidos de ${r.length}`),i.length>r.length/2))return console.error("🚨 MUITOS IDs INVÁLIDOS - POSSÍVEL PROBLEMA DE CACHE/MOCK!"),Qn.forceCleanAndReload(),[];if(a.length===0)throw new Error("Nenhum produto válido encontrado. Verifique a API do servidor.");return console.log(`✅ [ProductService] ${a.length} produtos válidos carregados`),a.length>0&&(console.log("📋 [ProductService] Exemplos de produtos carregados:"),a.slice(0,3).forEach(s=>{console.log(`   • ${s.nome} (ID: ${s.id.slice(0,8)}..., tipo: ${s.tipo_produto})`)})),a}catch(e){if(console.error("❌ [ProductService] Erro ao buscar produtos:",e),e.message&&e.message.includes("invalid input syntax for type uuid"))return console.error("🚨 ERRO UUID DETECTADO - FORÇANDO LIMPEZA TOTAL!"),Qn.forceCleanAndReload(),[];throw new Error("Não foi possível carregar produtos do servidor. Verifique a conexão.")}},async getProductById(e){try{return(await Y.request(`/products/${e}`,{method:"GET"})).product}catch(t){throw console.error("Error fetching product:",t.message),t}},async createProduct(e){try{const t=await Y.request("/products",{method:"POST",body:JSON.stringify(e)});return console.log("[ProductService] Produto criado:",t.product),t.product}catch(t){throw console.error("Error creating product:",t.message),t}},async updateProduct(e,t){try{const r=await Y.request(`/products/${e}`,{method:"PUT",body:JSON.stringify(t)});return console.log("[ProductService] Produto atualizado:",r.product),r.product}catch(r){throw console.error("Error updating product:",r.message),r}},async deleteProduct(e){try{const t=await Y.request(`/products/${e}`,{method:"DELETE"});return console.log("[ProductService] Produto deletado:",e),t}catch(t){throw console.error("Error deleting product:",t.message),t}}},Nr=wd,C9=jd,T9=bd,Vn=mi,z0=E.forwardRef(({className:e,...t},r)=>o.jsx(pi,{ref:r,className:se("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));z0.displayName=pi.displayName;const sr=E.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(T9,{children:[o.jsx(z0,{}),o.jsxs(hi,{ref:n,className:se("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,o.jsxs(mi,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[o.jsx(rl,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));sr.displayName=hi.displayName;const lr=({className:e,...t})=>o.jsx("div",{className:se("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});lr.displayName="DialogHeader";const Sr=({className:e,...t})=>o.jsx("div",{className:se("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Sr.displayName="DialogFooter";const cr=E.forwardRef(({className:e,...t},r)=>o.jsx(gi,{ref:r,className:se("text-lg font-semibold leading-none tracking-tight",e),...t}));cr.displayName=gi.displayName;const ur=E.forwardRef(({className:e,...t},r)=>o.jsx(vi,{ref:r,className:se("text-sm text-muted-foreground",e),...t}));ur.displayName=vi.displayName;const fe=E.forwardRef(({className:e,type:t,...r},n)=>o.jsx("input",{type:t,className:se("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));fe.displayName="Input";var $9="Label",B0=S.forwardRef((e,t)=>o.jsx(He.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));B0.displayName=$9;var q0=B0;const k9=Ia("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),re=E.forwardRef(({className:e,...t},r)=>o.jsx(q0,{ref:r,className:se(k9(),e),...t}));re.displayName=q0.displayName;var Ul="Switch",[M9,OG]=Vr(Ul),[I9,D9]=M9(Ul),V0=S.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:i,required:s,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[p,h]=S.useState(null),g=Tt(t,N=>h(N)),v=S.useRef(!1),m=p?d||!!p.closest("form"):!0,[x,b]=Ma({prop:a,defaultProp:i??!1,onChange:u,caller:Ul});return o.jsxs(I9,{scope:r,checked:x,disabled:l,children:[o.jsx(He.button,{type:"button",role:"switch","aria-checked":x,"aria-required":s,"data-state":H0(x),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:g,onClick:Oe(e.onClick,N=>{b(j=>!j),m&&(v.current=N.isPropagationStopped(),v.current||N.stopPropagation())})}),m&&o.jsx(G0,{control:p,bubbles:!v.current,name:n,value:c,checked:x,required:s,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});V0.displayName=Ul;var U0="SwitchThumb",W0=S.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=D9(U0,r);return o.jsx(He.span,{"data-state":H0(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});W0.displayName=U0;var R9="SwitchBubbleInput",G0=S.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...a},i)=>{const s=S.useRef(null),l=Tt(s,i),c=Nd(r),u=Sd(t);return S.useEffect(()=>{const d=s.current;if(!d)return;const f=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&h){const g=new Event("click",{bubbles:n});h.call(d,r),d.dispatchEvent(g)}},[c,r,n]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});G0.displayName=R9;function H0(e){return e?"checked":"unchecked"}var K0=V0,L9=W0;const Za=E.forwardRef(({className:e,...t},r)=>o.jsx(K0,{className:se("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:o.jsx(L9,{className:se("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Za.displayName=K0.displayName;const Et=t1,Ct=r1,jt=E.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(Pv,{ref:n,className:se("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,o.jsx(Yj,{asChild:!0,children:o.jsx(Vv,{className:"h-4 w-4 opacity-50"})})]}));jt.displayName=Pv.displayName;const X0=E.forwardRef(({className:e,...t},r)=>o.jsx(Ov,{ref:r,className:se("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(_1,{className:"h-4 w-4"})}));X0.displayName=Ov.displayName;const Y0=E.forwardRef(({className:e,...t},r)=>o.jsx(Av,{ref:r,className:se("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(Vv,{className:"h-4 w-4"})}));Y0.displayName=Av.displayName;const Nt=E.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>o.jsx(Zj,{children:o.jsxs(Ev,{ref:a,className:se("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[o.jsx(X0,{}),o.jsx(Jj,{className:se("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),o.jsx(Y0,{})]})}));Nt.displayName=Ev.displayName;const F9=E.forwardRef(({className:e,...t},r)=>o.jsx(Cv,{ref:r,className:se("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));F9.displayName=Cv.displayName;const Me=E.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(Tv,{ref:n,className:se("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(Qj,{children:o.jsx(Ad,{className:"h-4 w-4"})})}),o.jsx(e1,{children:t})]}));Me.displayName=Tv.displayName;const z9=E.forwardRef(({className:e,...t},r)=>o.jsx($v,{ref:r,className:se("-mx-1 my-1 h-px bg-muted",e),...t}));z9.displayName=$v.displayName;const B9=Ia("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function nt({className:e,variant:t,...r}){return o.jsx("div",{className:se(B9({variant:t}),e),...r})}const q9=({nome:e="Nova Pizza",ingredientes:t="",tamanhosPrecos:r=[]})=>{const n=r.filter(s=>s.id_tamanho&&s.preco&&parseFloat(s.preco)>0),a=s=>({pequena:60,media:80,grande:100,familia:120})[s]||60,i=()=>t.toLowerCase().includes("pepperoni")?"#D2691E":t.toLowerCase().includes("margherita")||t.toLowerCase().includes("manjericão")?"#228B22":t.toLowerCase().includes("calabresa")?"#8B0000":t.toLowerCase().includes("frango")?"#F4A460":t.toLowerCase().includes("portuguesa")?"#FF6347":"#DAA520";return n.length===0?o.jsx(ae,{className:"bg-gradient-to-br from-gray-50 to-gray-100 border-gray-200",children:o.jsxs(ie,{className:"p-6 text-center",children:[o.jsx("div",{className:"text-6xl mb-3",children:"🍕"}),o.jsx("p",{className:"text-gray-500",children:"Configure os tamanhos para ver o preview"})]})}):o.jsxs(ae,{className:"bg-gradient-to-br from-orange-50 to-red-50 border-orange-200",children:[o.jsx(ve,{className:"pb-3",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xl",children:"👁️"}),o.jsx(me,{className:"text-lg text-gray-800",children:"Preview da Pizza"})]})}),o.jsxs(ie,{className:"space-y-4",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-1",children:e}),t&&o.jsxs("p",{className:"text-sm text-gray-600 italic",children:['"',t,'"']})]}),o.jsx("div",{className:"flex justify-center items-end gap-6 py-4",children:n.map((s,l)=>o.jsxs("div",{className:"flex flex-col items-center gap-2",children:[o.jsxs("div",{className:"relative",children:[o.jsxs("div",{className:"rounded-full border-4 border-yellow-600 shadow-lg relative overflow-hidden",style:{width:a(s.id_tamanho),height:a(s.id_tamanho),backgroundColor:i()},children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-transparent via-black/10 to-black/20 rounded-full"}),o.jsx("div",{className:"absolute inset-2 rounded-full border-2 border-yellow-700/30"}),o.jsx("div",{className:"absolute top-1/4 left-1/4 w-2 h-2 bg-red-600 rounded-full opacity-80"}),o.jsx("div",{className:"absolute top-1/2 right-1/4 w-1.5 h-1.5 bg-green-600 rounded-full opacity-80"}),o.jsx("div",{className:"absolute bottom-1/3 left-1/2 w-1 h-1 bg-white rounded-full opacity-90"})]}),o.jsx(nt,{className:"absolute -bottom-1 left-1/2 transform -translate-x-1/2 bg-orange-500 text-white text-xs px-2",children:s.tamanho})]}),o.jsx("div",{className:"text-center",children:o.jsx("div",{className:"font-bold text-green-700",children:R(parseFloat(s.preco))})})]},l))}),o.jsx("div",{className:"bg-white/70 rounded-lg p-3 text-center",children:o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Tamanhos:"}),o.jsxs("div",{className:"font-medium",children:[n.length," opções"]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Faixa de preço:"}),o.jsxs("div",{className:"font-medium text-green-700",children:[R(Math.min(...n.map(s=>parseFloat(s.preco))))," - ",R(Math.max(...n.map(s=>parseFloat(s.preco))))]})]})]})})]})]})},V9=({tamanhosPrecos:e=[],onChange:t,pizzaSizes:r=[],pizzaIngredients:n="",onIngredientsChange:a,pizzaName:i="Nova Pizza"})=>{const[s,l]=S.useState(e);S.useEffect(()=>{l(e.length>0?e:[{tamanho:"",preco:"",id_tamanho:""}])},[e]);const c=(g,v,m)=>{const x=[...s];if(x[g][v]=m,v==="id_tamanho"){const b=r.find(N=>N.id===m);x[g].tamanho=b?b.name:""}l(x),t(x)},u=()=>{const g=[...s,{tamanho:"",preco:"",id_tamanho:""}];l(g),t(g)},d=g=>{const v=s.filter((m,x)=>x!==g);l(v),t(v)},f=g=>({pequena:"🍕",media:"🍕🍕",grande:"🍕🍕🍕",familia:"🍕🍕🍕🍕"})[g]||"🍕",p=g=>({pequena:"25cm",media:"30cm",grande:"35cm",familia:"40cm"})[g]||"?cm",h=()=>{const g=s.filter(x=>x.preco&&parseFloat(x.preco)>0).map(x=>parseFloat(x.preco));if(g.length===0)return null;const v=Math.min(...g),m=Math.max(...g);return v===m?R(v):`${R(v)} - ${R(m)}`};return o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-3 p-4 bg-gradient-to-r from-orange-50 to-red-50 rounded-lg border border-orange-200",children:[o.jsx("div",{className:"p-2 bg-orange-100 rounded-full",children:o.jsx(ln,{className:"h-6 w-6 text-orange-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Configuração de Tamanhos da Pizza"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Configure os tamanhos disponíveis e seus respectivos preços"})]}),h()&&o.jsxs(nt,{variant:"outline",className:"ml-auto bg-green-50 text-green-700 border-green-200",children:["Faixa: ",h()]})]}),o.jsxs(ae,{className:"bg-gradient-to-br from-yellow-50 to-orange-50 border-orange-200",children:[o.jsx(ve,{className:"pb-3",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"p-1 bg-yellow-100 rounded",children:o.jsx("span",{className:"text-lg",children:"🍅"})}),o.jsx(me,{className:"text-base text-gray-700",children:"Ingredientes da Pizza"})]})}),o.jsxs(ie,{children:[o.jsx(fe,{placeholder:"Ex: Molho de tomate, mussarela, manjericão, azeitonas...",value:n,onChange:g=>a(g.target.value),className:"bg-white/80 border-orange-200 focus:border-orange-400"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Descreva os ingredientes que compõem esta pizza"})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(k1,{className:"h-5 w-5 text-blue-600"}),o.jsx("h4",{className:"font-medium text-gray-800",children:"Tamanhos Disponíveis"})]}),o.jsxs(K,{type:"button",variant:"outline",size:"sm",onClick:u,className:"bg-blue-50 border-blue-200 text-blue-700 hover:bg-blue-100",children:[o.jsx(Ur,{className:"mr-2 h-4 w-4"}),"Adicionar Tamanho"]})]}),s.map((g,v)=>o.jsx("div",{children:o.jsx(ae,{className:"overflow-hidden bg-gradient-to-r from-white to-gray-50 border-2 border-dashed border-gray-200 hover:border-orange-300 transition-colors",children:o.jsxs(ie,{className:"p-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4 items-end",children:[o.jsxs("div",{className:"md:col-span-5",children:[o.jsxs(re,{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[o.jsx("span",{className:"text-lg",children:f(g.id_tamanho)}),"Tamanho da Pizza"]}),o.jsxs(Et,{value:g.id_tamanho,onValueChange:m=>c(v,"id_tamanho",m),children:[o.jsx(jt,{className:"bg-white border-gray-300 focus:border-orange-400",children:o.jsx(Ct,{placeholder:"Escolha o tamanho"})}),o.jsx(Nt,{children:r.map(m=>o.jsx(Me,{value:m.id,children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{children:f(m.id)}),o.jsx("span",{className:"font-medium",children:m.name}),o.jsx(nt,{variant:"secondary",className:"text-xs",children:p(m.id)})]})},m.id))})]})]}),o.jsxs("div",{className:"md:col-span-4",children:[o.jsxs(re,{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[o.jsx(Fr,{className:"h-4 w-4 text-green-600"}),"Preço (R$)"]}),o.jsxs("div",{className:"relative",children:[o.jsx(fe,{type:"number",step:"0.01",placeholder:"0,00",value:g.preco,onChange:m=>c(v,"preco",m.target.value),className:"bg-white border-gray-300 focus:border-orange-400 pl-8"}),o.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 text-sm",children:"R$"})]})]}),o.jsx("div",{className:"md:col-span-2",children:g.preco&&parseFloat(g.preco)>0&&o.jsx("div",{className:"text-center",children:o.jsx(nt,{className:"bg-green-100 text-green-800 text-sm px-3 py-1",children:R(parseFloat(g.preco))})})}),o.jsx("div",{className:"md:col-span-1 flex justify-end",children:s.length>1&&o.jsx(K,{type:"button",variant:"ghost",size:"icon",onClick:()=>d(v),className:"text-red-500 hover:text-red-700 hover:bg-red-50",children:o.jsx(dr,{className:"h-4 w-4"})})})]}),g.id_tamanho&&o.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200",children:o.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600",children:[o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx("span",{children:"📏"}),"Diâmetro: ",p(g.id_tamanho)]}),g.preco&&o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx("span",{children:"💰"}),"Preço por cm²: ",R(parseFloat(g.preco)/(Math.PI*Math.pow(parseInt(p(g.id_tamanho))/2,2)))]})]})})]})})},v)),s.length>1&&o.jsx(ae,{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-200",children:o.jsxs(ie,{className:"p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[o.jsx("span",{className:"text-lg",children:"📊"}),o.jsx("h5",{className:"font-medium text-gray-800",children:"Resumo dos Tamanhos"})]}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:s.filter(g=>g.id_tamanho&&g.preco).map((g,v)=>o.jsxs("div",{className:"text-center p-2 bg-white rounded border border-blue-200",children:[o.jsx("div",{className:"text-lg mb-1",children:f(g.id_tamanho)}),o.jsx("div",{className:"text-sm font-medium text-gray-700",children:g.tamanho}),o.jsx("div",{className:"text-xs text-green-600 font-medium",children:R(parseFloat(g.preco))})]},v))})]})})]})]}),o.jsx("div",{className:"lg:col-span-1",children:o.jsx(q9,{nome:i,ingredientes:n,tamanhosPrecos:s})})]})},U9=({selectedType:e,onTypeChange:t,productTypes:r=[],disabled:n=!1})=>{const a=s=>({pizza:"🍕",bebida:"🥤",sobremesa:"🍰",acompanhamento:"🍟",borda:"🥖",outro:"📦"})[s]||"📦",i=s=>({pizza:"Pizzas tradicionais com múltiplos tamanhos",bebida:"Refrigerantes, sucos e águas",sobremesa:"Doces, tortas e sorvetes",acompanhamento:"Porções, molhos e extras",borda:"Bordas recheadas para pizzas",outro:"Outros produtos diversos"})[s]||"Categoria geral de produtos";return o.jsxs("div",{className:"space-y-3",children:[o.jsxs(re,{className:"text-foreground/80 flex items-center gap-2",children:[o.jsx("span",{className:"text-lg",children:"🏷️"}),"Tipo do Produto"]}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:r.map(s=>o.jsx("div",{className:"transform transition-transform duration-150 active:scale-95",children:o.jsx(ae,{className:`cursor-pointer transition-all duration-200 hover:shadow-md ${e===s.id?"border-2 border-orange-400 bg-orange-50 shadow-lg":"border border-gray-200 hover:border-orange-200"} ${n?"opacity-50 cursor-not-allowed":""}`,onClick:()=>!n&&t(s.id),children:o.jsxs(ie,{className:"p-4 text-center relative",children:[e===s.id&&o.jsx("div",{className:"absolute top-2 right-2",children:o.jsx("div",{className:"w-5 h-5 bg-orange-500 rounded-full flex items-center justify-center",children:o.jsx(Ad,{className:"w-3 h-3 text-white"})})}),o.jsx("div",{className:"text-3xl mb-2",children:a(s.id)}),o.jsx("h3",{className:"font-medium text-gray-800 mb-1",children:s.name}),o.jsx("p",{className:"text-xs text-gray-500 leading-relaxed",children:i(s.id)}),e===s.id&&o.jsx(nt,{className:"mt-2 bg-orange-100 text-orange-700 text-xs",children:"Selecionado"})]})})},s.id))})]})},W9=({isOpen:e,onOpenChange:t,onSubmit:r,initialProductData:n,isLoading:a,productTypes:i,productCategories:s,pizzaSizes:l})=>{const[c,u]=S.useState(""),[d,f]=S.useState("pizza"),[p,h]=S.useState(""),[g,v]=S.useState([{tamanho:"",preco:"",id_tamanho:""}]),[m,x]=S.useState(""),[b,N]=S.useState(""),[j,y]=S.useState(""),[w,_]=S.useState(!0),{toast:P}=ze(),O=()=>{u(""),f("pizza"),h(""),v([{tamanho:"",preco:"",id_tamanho:""}]),x(""),N(""),y(""),_(!0)};S.useEffect(()=>{n?(u(n.nome||""),f(n.tipo_produto||"pizza"),h(n.categoria||""),v(n.tamanhos_precos&&n.tamanhos_precos.length>0?n.tamanhos_precos:[{tamanho:"",preco:"",id_tamanho:""}]),x(n.ingredientes||""),N(n.preco_unitario?n.preco_unitario.toString():""),y(n.estoque_disponivel?n.estoque_disponivel.toString():""),_(n.ativo===void 0?!0:n.ativo)):O()},[n,e]);const k=A=>{if(A.preventDefault(),!c||!d){P({title:"Erro de Validação",description:"Nome e Tipo do Produto são obrigatórios.",variant:"destructive"});return}if(d==="pizza"){if(g.some(z=>!z.id_tamanho||!z.preco||parseFloat(z.preco)<=0)){P({title:"Erro de Validação",description:"Para pizzas, todos os tamanhos devem ter um preço válido e positivo.",variant:"destructive"});return}}else if(d==="borda"){if(!b||parseFloat(b)<=0){P({title:"Erro de Validação",description:"Preço da borda é obrigatório e deve ser positivo.",variant:"destructive"});return}}else{if(!b||parseFloat(b)<=0){P({title:"Erro de Validação",description:"Preço unitário é obrigatório e deve ser positivo para este tipo de produto.",variant:"destructive"});return}if(!p&&(d==="bebida"||d==="sobremesa"||d==="acompanhamento")){P({title:"Erro de Validação",description:"Categoria é obrigatória para bebidas, sobremesas e acompanhamentos.",variant:"destructive"});return}}const T={nome:c,tipo_produto:d,categoria:p,tamanhos_precos:d==="pizza"?g.map(z=>({...z,preco:parseFloat(z.preco)})):null,ingredientes:d==="pizza"?m:null,preco_unitario:d==="pizza"?null:parseFloat(b),estoque_disponivel:d!=="pizza"&&d!=="borda"&&j?parseInt(j,10):null,ativo:w};r(T)};return o.jsx(Nr,{open:e,onOpenChange:A=>{t(A),A||O()},children:o.jsxs(sr,{className:"sm:max-w-4xl max-h-[95vh] bg-card",children:[o.jsxs(lr,{children:[o.jsxs(cr,{className:"text-2xl text-primary flex items-center gap-2",children:[d==="pizza"&&o.jsx("span",{className:"text-2xl",children:"🍕"}),n?"Editar Produto":"Adicionar Novo Produto"]}),o.jsx(ur,{children:d==="pizza"?"Configure sua pizza com diferentes tamanhos e preços de forma intuitiva.":"Preencha os detalhes do produto. Clique em salvar quando terminar."})]}),o.jsxs("form",{onSubmit:k,className:"grid gap-6 py-4 max-h-[75vh] overflow-y-auto pr-3",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsxs(re,{htmlFor:"product-name",className:"text-foreground/80 font-medium",children:["Nome do Produto *",o.jsxs("span",{className:"text-xs text-muted-foreground font-normal ml-2",children:[d==="bebida"&&"(Ex: Coca-Cola 2L, Guaraná Antarctica, Pepsi)",d==="sobremesa"&&"(Ex: Pudim de Leite, Torta de Morango)",d==="acompanhamento"&&"(Ex: Batata Frita, Molho Especial)",d==="pizza"&&"(Ex: Pizza Margherita, Pizza Calabresa)",d==="borda"&&"(Ex: Borda de Catupiry, Borda de Cheddar)",d==="outro"&&"(Ex: Guardanapo, Embalagem)"]})]}),o.jsx(fe,{id:"product-name",value:c,onChange:A=>u(A.target.value),placeholder:d==="bebida"?"Digite o nome da bebida (ex: Coca-Cola 2L)":d==="sobremesa"?"Digite o nome da sobremesa":d==="acompanhamento"?"Digite o nome do acompanhamento":d==="pizza"?"Digite o nome da pizza":d==="borda"?"Digite o nome da borda recheada":"Digite o nome do produto",required:!0,className:"bg-background/70 text-lg font-medium"})]}),o.jsx(U9,{selectedType:d,onTypeChange:A=>{f(A),h("")},productTypes:i,disabled:a}),d==="pizza"&&o.jsx(V9,{tamanhosPrecos:g,onChange:v,pizzaSizes:l,pizzaIngredients:m,onIngredientsChange:x,pizzaName:c||"Nova Pizza"}),d==="borda"&&o.jsx(o.Fragment,{children:o.jsxs("div",{className:"grid gap-2",children:[o.jsx(re,{htmlFor:"product-price",className:"text-foreground/80",children:"Preço da Borda (R$)"}),o.jsx(fe,{id:"product-price",type:"number",step:"0.01",placeholder:"Ex: 5.00",value:b,onChange:A=>N(A.target.value),required:!0,className:"bg-background/70"})]})}),d!=="pizza"&&d!=="borda"&&o.jsxs(o.Fragment,{children:[(d==="bebida"||d==="sobremesa"||d==="acompanhamento")&&s[d]&&o.jsxs("div",{className:"grid gap-2",children:[o.jsx(re,{htmlFor:"product-category",className:"text-foreground/80",children:"Categoria"}),o.jsxs(Et,{value:p,onValueChange:h,required:!0,children:[o.jsx(jt,{id:"product-category",children:o.jsx(Ct,{placeholder:"Selecione a categoria"})}),o.jsx(Nt,{children:s[d].map(A=>o.jsx(Me,{value:A,children:A},A))})]})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(re,{htmlFor:"product-unit-price",className:"text-foreground/80",children:"Preço Unitário (R$)"}),o.jsx(fe,{id:"product-unit-price",type:"number",step:"0.01",placeholder:"Ex: 9.90",value:b,onChange:A=>N(A.target.value),required:!0,className:"bg-background/70"})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(re,{htmlFor:"product-stock",className:"text-foreground/80",children:"Estoque Disponível (opcional)"}),o.jsx(fe,{id:"product-stock",type:"number",placeholder:"Ex: 50",value:j,onChange:A=>y(A.target.value),className:"bg-background/70"})]})]}),o.jsxs("div",{className:"flex items-center space-x-2 mt-4 border-t pt-4",children:[o.jsx(Za,{id:"product-active",checked:w,onCheckedChange:_}),o.jsx(re,{htmlFor:"product-active",className:"text-foreground/80",children:"Produto Ativo"})]}),o.jsxs(Sr,{className:"mt-6",children:[o.jsx(Vn,{asChild:!0,children:o.jsx(K,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:a,children:"Cancelar"})}),o.jsxs(K,{type:"submit",className:"bg-primary hover:bg-primary/90",disabled:a,children:[a&&o.jsx(ce,{className:"mr-2 h-4 w-4 animate-spin"}),n?"Salvar Alterações":"Adicionar Produto"]})]})]})]})})};var $c="rovingFocusGroup.onEntryFocus",G9={bubbles:!1,cancelable:!0},Oi="RovingFocusGroup",[pd,Z0,H9]=kv(Oi),[K9,Wl]=Vr(Oi,[H9]),[X9,Y9]=K9(Oi),J0=S.forwardRef((e,t)=>o.jsx(pd.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(pd.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(Z9,{...e,ref:t})})}));J0.displayName=Oi;var Z9=S.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:s,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,p=S.useRef(null),h=Tt(t,p),g=_d(i),[v,m]=Ma({prop:s,defaultProp:l??null,onChange:c,caller:Oi}),[x,b]=S.useState(!1),N=_o(u),j=Z0(r),y=S.useRef(!1),[w,_]=S.useState(0);return S.useEffect(()=>{const P=p.current;if(P)return P.addEventListener($c,N),()=>P.removeEventListener($c,N)},[N]),o.jsx(X9,{scope:r,orientation:n,dir:g,loop:a,currentTabStopId:v,onItemFocus:S.useCallback(P=>m(P),[m]),onItemShiftTab:S.useCallback(()=>b(!0),[]),onFocusableItemAdd:S.useCallback(()=>_(P=>P+1),[]),onFocusableItemRemove:S.useCallback(()=>_(P=>P-1),[]),children:o.jsx(He.div,{tabIndex:x||w===0?-1:0,"data-orientation":n,...f,ref:h,style:{outline:"none",...e.style},onMouseDown:Oe(e.onMouseDown,()=>{y.current=!0}),onFocus:Oe(e.onFocus,P=>{const O=!y.current;if(P.target===P.currentTarget&&O&&!x){const k=new CustomEvent($c,G9);if(P.currentTarget.dispatchEvent(k),!k.defaultPrevented){const A=j().filter(L=>L.focusable),T=A.find(L=>L.active),z=A.find(L=>L.id===v),M=[T,z,...A].filter(Boolean).map(L=>L.ref.current);tw(M,d)}}y.current=!1}),onBlur:Oe(e.onBlur,()=>b(!1))})})}),Q0="RovingFocusGroupItem",ew=S.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,children:s,...l}=e,c=Mv(),u=i||c,d=Y9(Q0,r),f=d.currentTabStopId===u,p=Z0(r),{onFocusableItemAdd:h,onFocusableItemRemove:g,currentTabStopId:v}=d;return S.useEffect(()=>{if(n)return h(),()=>g()},[n,h,g]),o.jsx(pd.ItemSlot,{scope:r,id:u,focusable:n,active:a,children:o.jsx(He.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:Oe(e.onMouseDown,m=>{n?d.onItemFocus(u):m.preventDefault()}),onFocus:Oe(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:Oe(e.onKeyDown,m=>{if(m.key==="Tab"&&m.shiftKey){d.onItemShiftTab();return}if(m.target!==m.currentTarget)return;const x=eU(m,d.orientation,d.dir);if(x!==void 0){if(m.metaKey||m.ctrlKey||m.altKey||m.shiftKey)return;m.preventDefault();let N=p().filter(j=>j.focusable).map(j=>j.ref.current);if(x==="last")N.reverse();else if(x==="prev"||x==="next"){x==="prev"&&N.reverse();const j=N.indexOf(m.currentTarget);N=d.loop?tU(N,j+1):N.slice(j+1)}setTimeout(()=>tw(N))}}),children:typeof s=="function"?s({isCurrentTabStop:f,hasTabStop:v!=null}):s})})});ew.displayName=Q0;var J9={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Q9(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function eU(e,t,r){const n=Q9(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return J9[n]}function tw(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function tU(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var rw=J0,nw=ew,Gl="Tabs",[rU,AG]=Vr(Gl,[Wl]),aw=Wl(),[nU,Vf]=rU(Gl),ow=S.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:s="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=_d(l),[f,p]=Ma({prop:n,onChange:a,defaultProp:i??"",caller:Gl});return o.jsx(nU,{scope:r,baseId:Mv(),value:f,onValueChange:p,orientation:s,dir:d,activationMode:c,children:o.jsx(He.div,{dir:d,"data-orientation":s,...u,ref:t})})});ow.displayName=Gl;var iw="TabsList",sw=S.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,i=Vf(iw,r),s=aw(r);return o.jsx(rw,{asChild:!0,...s,orientation:i.orientation,dir:i.dir,loop:n,children:o.jsx(He.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});sw.displayName=iw;var lw="TabsTrigger",cw=S.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=e,s=Vf(lw,r),l=aw(r),c=fw(s.baseId,n),u=pw(s.baseId,n),d=n===s.value;return o.jsx(nw,{asChild:!0,...l,focusable:!a,active:d,children:o.jsx(He.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:Oe(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?s.onValueChange(n):f.preventDefault()}),onKeyDown:Oe(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&s.onValueChange(n)}),onFocus:Oe(e.onFocus,()=>{const f=s.activationMode!=="manual";!d&&!a&&f&&s.onValueChange(n)})})})});cw.displayName=lw;var uw="TabsContent",dw=S.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...s}=e,l=Vf(uw,r),c=fw(l.baseId,n),u=pw(l.baseId,n),d=n===l.value,f=S.useRef(d);return S.useEffect(()=>{const p=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(p)},[]),o.jsx(yi,{present:a||d,children:({present:p})=>o.jsx(He.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!p,id:u,tabIndex:0,...s,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:p&&i})})});dw.displayName=uw;function fw(e,t){return`${e}-trigger-${t}`}function pw(e,t){return`${e}-content-${t}`}var aU=ow,hw=sw,mw=cw,gw=dw;const Ja=aU,Un=E.forwardRef(({className:e,...t},r)=>o.jsx(hw,{ref:r,className:se("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Un.displayName=hw.displayName;const Ye=E.forwardRef(({className:e,...t},r)=>o.jsx(mw,{ref:r,className:se("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Ye.displayName=mw.displayName;const gt=E.forwardRef(({className:e,...t},r)=>o.jsx(gw,{ref:r,className:se("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));gt.displayName=gw.displayName;const oU=({products:e,onEdit:t,onDelete:r,onToggleActive:n,isLoading:a,pizzaSizes:i})=>{const s=u=>{if(console.log(`Produto: ${u.nome}, tipo: ${u.tipo_produto}, preço: ${u.preco_unitario}, tipo do preço: ${typeof u.preco_unitario}`),u.tipo_produto==="pizza"&&u.tamanhos_precos&&u.tamanhos_precos.length>0)return u.tamanhos_precos.map(f=>{var g;const p=Number.isFinite(Number(f.preco))?Number(f.preco):0;return`${(((g=i.find(v=>v.id===f.id_tamanho))==null?void 0:g.name)||f.tamanho||f.id_tamanho).split(" ")[0]}: ${R(p)}`}).join(" / ");if(u.preco_unitario!==null&&u.preco_unitario!==void 0){const d=Number(u.preco_unitario);if(!isNaN(d))return R(d)}return"R$ 0,00"},l=u=>({pizza:{name:"Pizza",color:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"},bebida:{name:"Bebida",color:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"},sobremesa:{name:"Sobremesa",color:"bg-pink-100 text-pink-800 dark:bg-pink-900 dark:text-pink-200"},acompanhamento:{name:"Acompanhamento",color:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"},borda:{name:"Borda Recheada",color:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200"},outro:{name:"Outro",color:"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}})[u]||{name:u,color:"bg-gray-100 text-gray-800"},c=u=>u==null?{text:"N/A",color:"bg-gray-100 text-gray-800"}:u<=0?{text:"Sem estoque",color:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}:u<=5?{text:`${u} unidades`,color:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200"}:{text:`${u} unidades`,color:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"};return!e||e.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[o.jsx(xn,{className:"h-12 w-12 text-muted-foreground mb-4"}),o.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"Nenhum produto encontrado"}),o.jsx("p",{className:"text-muted-foreground",children:"Adicione produtos para começar a gerenciar seu catálogo."})]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs($t,{children:[o.jsx(kt,{children:o.jsxs(Le,{className:"hover:bg-muted/20",children:[o.jsx(te,{className:"w-[25%] text-foreground/90",children:"Nome"}),o.jsx(te,{className:"w-[15%] text-foreground/90",children:"Tipo"}),o.jsx(te,{className:"w-[15%] text-foreground/90",children:"Categoria"}),o.jsx(te,{className:"w-[20%] text-foreground/90",children:"Preço(s)"}),o.jsx(te,{className:"w-[10%] text-foreground/90",children:"Estoque"}),o.jsx(te,{className:"w-[5%] text-center text-foreground/90",children:"Ativo"}),o.jsx(te,{className:"w-[10%] text-right text-foreground/90",children:"Ações"})]})}),o.jsx(Mt,{children:e.map(u=>o.jsxs(Le,{className:`hover:bg-muted/30 transition-colors ${u.ativo?"":"opacity-60 bg-muted/20 dark:bg-muted/10"}`,children:[o.jsx(J,{className:"font-medium text-foreground",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(xn,{className:"h-4 w-4 text-muted-foreground"}),u.nome]})}),o.jsx(J,{children:o.jsx(nt,{variant:"outline",className:l(u.tipo_produto).color,children:l(u.tipo_produto).name})}),o.jsx(J,{className:"text-foreground/80",children:u.categoria||"N/A"}),o.jsx(J,{className:"text-foreground/90 text-sm font-mono",children:s(u)}),o.jsx(J,{children:o.jsx(nt,{variant:"outline",className:c(u.estoque_disponivel).color,children:c(u.estoque_disponivel).text})}),o.jsx(J,{className:"text-center",children:o.jsx(Za,{checked:u.ativo,onCheckedChange:()=>n(u),"aria-label":u.ativo?"Desativar produto":"Ativar produto",className:"data-[state=checked]:bg-green-500 data-[state=unchecked]:bg-red-500",disabled:a})}),o.jsx(J,{className:"text-right",children:o.jsxs("div",{className:"flex items-center justify-end gap-1",children:[o.jsx(K,{variant:"ghost",size:"sm",onClick:()=>t(u),className:"h-8 w-8 p-0 text-blue-600 hover:text-blue-700 hover:bg-blue-100/50 dark:hover:bg-blue-700/20",disabled:a,title:"Editar produto",children:o.jsx(Dn,{className:"h-4 w-4"})}),o.jsx(K,{variant:"ghost",size:"sm",onClick:()=>r(u.id),className:"h-8 w-8 p-0 text-red-600 hover:text-red-700 hover:bg-red-100/50 dark:hover:bg-red-700/20",disabled:a,title:"Excluir produto",children:a?o.jsx(ce,{className:"h-4 w-4 animate-spin"}):o.jsx(dr,{className:"h-4 w-4"})}),!u.ativo&&o.jsx(vt,{className:"h-4 w-4 text-amber-500 ml-1",title:"Produto inativo"})]})})]},u.id))}),e.length>5&&o.jsxs(En,{children:["Total de ",e.length," produtos cadastrados."]})]})})},iU=({activeTab:e,setActiveTab:t,searchTerm:r,setSearchTerm:n,products:a,filteredProducts:i,onEdit:s,onDelete:l,onToggleActive:c,isLoading:u,pizzaSizes:d})=>{const f=a.filter(x=>x.tipo_produto==="pizza").length,p=a.filter(x=>x.tipo_produto==="bebida").length,h=a.filter(x=>x.tipo_produto==="sobremesa").length,g=a.filter(x=>x.tipo_produto==="acompanhamento").length,v=a.filter(x=>x.tipo_produto==="borda").length,m=a.filter(x=>x.tipo_produto==="outro").length;return o.jsxs(Ja,{value:e,onValueChange:t,className:"w-full",children:[o.jsxs(Un,{className:"grid w-full grid-cols-2 lg:grid-cols-7 md:w-auto md:inline-flex mb-4 bg-muted/50",children:[o.jsxs(Ye,{value:"all",className:"flex items-center gap-2 text-xs md:text-sm",children:[o.jsx(xn,{className:"h-4 w-4"}),"Todos",o.jsx("span",{className:"ml-1 px-2 py-1 bg-primary/20 text-primary rounded-full text-xs font-medium",children:a.length})]}),o.jsxs(Ye,{value:"pizza",className:"flex items-center gap-2 text-xs md:text-sm",children:[o.jsx(ln,{className:"h-4 w-4"}),"Pizzas",o.jsx("span",{className:"ml-1 px-2 py-1 bg-orange-500/20 text-orange-600 rounded-full text-xs font-medium",children:f})]}),o.jsxs(Ye,{value:"bebida",className:"flex items-center gap-2 text-xs md:text-sm",children:[o.jsx(Dc,{className:"h-4 w-4"}),"Bebidas",o.jsx("span",{className:"ml-1 px-2 py-1 bg-blue-500/20 text-blue-600 rounded-full text-xs font-medium",children:p})]}),o.jsxs(Ye,{value:"sobremesa",className:"flex items-center gap-2 text-xs md:text-sm",children:[o.jsx(ip,{className:"h-4 w-4"}),"Sobremesas",o.jsx("span",{className:"ml-1 px-2 py-1 bg-pink-500/20 text-pink-600 rounded-full text-xs font-medium",children:h})]}),o.jsxs(Ye,{value:"acompanhamento",className:"flex items-center gap-2 text-xs md:text-sm",children:[o.jsx(cp,{className:"h-4 w-4"}),"Acompanhamentos",o.jsx("span",{className:"ml-1 px-2 py-1 bg-green-500/20 text-green-600 rounded-full text-xs font-medium",children:g})]}),o.jsxs(Ye,{value:"borda",className:"flex items-center gap-2 text-xs md:text-sm",children:[o.jsx(ap,{className:"h-4 w-4"}),"Bordas",o.jsx("span",{className:"ml-1 px-2 py-1 bg-yellow-500/20 text-yellow-600 rounded-full text-xs font-medium",children:v})]}),o.jsxs(Ye,{value:"outro",className:"flex items-center gap-2 text-xs md:text-sm",children:[o.jsx(xn,{className:"h-4 w-4"}),"Outros",o.jsx("span",{className:"ml-1 px-2 py-1 bg-gray-500/20 text-gray-600 rounded-full text-xs font-medium",children:m})]})]}),o.jsxs(ae,{className:"shadow-xl overflow-hidden bg-card/80 backdrop-blur-sm",children:[o.jsx(ve,{className:"border-b border-border/50 p-4 md:p-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[o.jsxs("div",{children:[o.jsxs(me,{className:"text-xl text-primary flex items-center gap-2",children:[e==="pizza"&&o.jsxs(o.Fragment,{children:[o.jsx(ln,{className:"h-5 w-5 text-orange-600"})," Pizzas"]}),e==="bebida"&&o.jsxs(o.Fragment,{children:[o.jsx(Dc,{className:"h-5 w-5 text-blue-600"})," Bebidas"]}),e==="sobremesa"&&o.jsxs(o.Fragment,{children:[o.jsx(ip,{className:"h-5 w-5 text-pink-600"})," Sobremesas"]}),e==="acompanhamento"&&o.jsxs(o.Fragment,{children:[o.jsx(cp,{className:"h-5 w-5 text-green-600"})," Acompanhamentos"]}),e==="borda"&&o.jsxs(o.Fragment,{children:[o.jsx(ap,{className:"h-5 w-5 text-yellow-600"})," Bordas Recheadas"]}),e==="outro"&&o.jsxs(o.Fragment,{children:[o.jsx(xn,{className:"h-5 w-5 text-gray-600"})," Outros Produtos"]}),e==="all"&&o.jsxs(o.Fragment,{children:[o.jsx(xn,{className:"h-5 w-5"})," Todos os Produtos"]}),o.jsxs("span",{className:"text-sm font-normal text-muted-foreground",children:["(",i.length," ",i.length===1?"item":"itens",")"]})]}),o.jsxs(We,{className:"text-foreground/70",children:[e==="pizza"&&"Pizzas com diferentes tamanhos e sabores",e==="bebida"&&"Refrigerantes, sucos, águas e cervejas",e==="sobremesa"&&"Doces, tortas e sobremesas especiais",e==="acompanhamento"&&"Porções e molhos para acompanhar",e==="borda"&&"Bordas recheadas para suas pizzas",e==="outro"&&"Itens diversos e complementares",e==="all"&&"Todos os produtos cadastrados no sistema"]})]}),o.jsxs("div",{className:"relative w-full md:w-auto",children:[o.jsx(An,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),o.jsx(fe,{type:"search",placeholder:"Buscar por nome...",value:r,onChange:x=>n(x.target.value),className:"pl-10 w-full md:w-72 bg-background/70"})]})]})}),o.jsx(ie,{className:"p-0",children:u&&a.length===0?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx(ce,{className:"h-12 w-12 animate-spin text-primary"})}):!u&&i.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center p-6",children:[o.jsx(vt,{className:"w-16 h-16 text-primary/50 mb-4"}),o.jsx("h3",{className:"text-xl font-semibold text-foreground",children:"Nenhum produto encontrado"}),o.jsxs("p",{className:"text-muted-foreground",children:[r?"Tente refinar sua busca ou ":"Comece adicionando um novo produto no botão acima.",e!=="all"&&` na aba "${e==="pizza"?"Pizzas":"Outros Produtos"}".`]})]}):o.jsx(oU,{products:i,onEdit:s,onDelete:l,onToggleActive:c,isLoading:u,pizzaFlavors:sy,pizzaSizes:d})})]})]})},sU=()=>o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold tracking-tight text-foreground",children:"Gerenciamento de Produtos"}),o.jsx("p",{className:"text-muted-foreground",children:"Cadastre, edite e visualize pizzas e outros produtos."})]}),lU=[{id:"pizza",name:"Pizza"},{id:"bebida",name:"Bebida"},{id:"sobremesa",name:"Sobremesa"},{id:"acompanhamento",name:"Acompanhamento"},{id:"borda",name:"Borda Recheada"},{id:"outro",name:"Outro"}],cU={bebida:["Refrigerante","Suco","Água","Cerveja","Vinho","Outra"],sobremesa:["Doce","Torta","Sorvete","Fruta","Outra"],acompanhamento:["Porção","Molho","Pão","Outro"],outro:["Item Diverso"]},uU=()=>{const[e,t]=S.useState([]),[r,n]=S.useState(""),[a,i]=S.useState("all"),[s,l]=S.useState(!1),[c,u]=S.useState(null),[d,f]=S.useState(!1),{toast:p}=ze(),h=S.useCallback(async()=>{f(!0);try{const y=await tn.getAllActiveProducts();t(y||[])}catch(y){p({title:"Erro ao buscar produtos",description:y.message||"Não foi possível carregar os dados dos produtos.",variant:"destructive"})}finally{f(!1)}},[p]);S.useEffect(()=>{h()},[h]);const g=S.useCallback(()=>{u(null)},[]),v=S.useCallback(y=>{l(y),y||g()},[g]),m=async y=>{f(!0);try{const w={nome:y.nome,tipo_produto:y.tipo_produto,categoria:y.tipo_produto!=="pizza"?y.categoria:null,tamanhos_precos:y.tipo_produto==="pizza"?y.tamanhos_precos:null,ingredientes:y.tipo_produto==="pizza"?y.ingredientes:null,preco_unitario:y.tipo_produto!=="pizza"?parseFloat(y.preco_unitario):null,estoque_disponivel:y.tipo_produto!=="pizza"&&y.estoque_disponivel?parseInt(y.estoque_disponivel,10):null,ativo:y.ativo};c&&c.id?await tn.updateProduct(c.id,w):await tn.createProduct(w),p({title:"Sucesso!",description:`Produto ${c?"atualizado":"adicionado"} com sucesso.`}),h(),l(!1),g()}catch(w){p({title:`Erro ao ${c?"atualizar":"adicionar"} produto`,description:w.message||"Ocorreu um problema ao salvar o produto.",variant:"destructive"})}finally{f(!1)}},x=S.useCallback(y=>{u(y),l(!0)},[]),b=async y=>{f(!0);try{await tn.deleteProduct(y),p({title:"Sucesso!",description:"Produto removido com sucesso."}),h()}catch(w){w.message.includes("em uso")||w.message.includes("constraint")?p({title:"Produto em Uso",description:"Este produto não pode ser excluído pois está associado a pedidos existentes. Considere desativá-lo.",variant:"destructive"}):p({title:"Erro ao remover produto",description:w.message||"Ocorreu um problema ao remover o produto.",variant:"destructive"})}finally{f(!1)}},N=async y=>{f(!0);try{await tn.updateProduct(y.id,{ativo:!y.ativo}),p({title:"Sucesso!",description:`Produto ${y.ativo?"desativado":"ativado"}.`}),h()}catch(w){p({title:"Erro ao alterar status",description:w.message,variant:"destructive"})}finally{f(!1)}},j=e.filter(y=>{const w=y.nome.toLowerCase().includes(r.toLowerCase());let _=!1;switch(a){case"all":_=!0;break;case"pizza":_=y.tipo_produto==="pizza";break;case"bebida":_=y.tipo_produto==="bebida";break;case"sobremesa":_=y.tipo_produto==="sobremesa";break;case"acompanhamento":_=y.tipo_produto==="acompanhamento";break;case"borda":_=y.tipo_produto==="borda";break;case"outro":_=y.tipo_produto==="outro";break;default:_=!0}return w&&_});return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[o.jsx(sU,{}),o.jsxs(K,{onClick:()=>{u(null),l(!0)},className:"bg-gradient-to-r from-primary to-red-400 hover:from-primary/90 hover:to-red-400/90 text-white shadow-md hover:shadow-lg transition-shadow",disabled:d,children:[o.jsx(Ur,{className:"mr-2 h-5 w-5"})," Adicionar Produto"]})]}),o.jsx(W9,{isOpen:s,onOpenChange:v,onSubmit:m,initialProductData:c,isLoading:d,productTypes:lU,productCategories:cU,pizzaSizes:Co}),o.jsx(iU,{activeTab:a,setActiveTab:i,searchTerm:r,setSearchTerm:n,products:e,filteredProducts:j,onEdit:x,onDelete:b,onToggleActive:N,isLoading:d,pizzaSizes:Co})]})},mo={async getAllClients(){try{return(await Y.get("/customers")).customers||[]}catch(e){throw console.error("Error fetching clients:",e.message),e}},async getClientById(e){try{return(await Y.get(`/customers/${e}`)).customer}catch(t){throw console.error("Error fetching client:",t.message),t}},async getClientPoints(e){try{return(await Y.get(`/customers/${e}/points`)).points||0}catch(t){throw console.error("Error fetching client points:",t.message),t}},async createClient(e){try{return(await Y.post("/customers",e)).customer}catch(t){throw console.error("Error creating client:",t.message),t}},async updateClient(e,t){try{return(await Y.patch(`/customers/${e}`,t)).customer}catch(r){throw console.error("Error updating client:",r.message),r}},async deleteClient(e){try{return console.log(`[ClientService] Deletando cliente ID: ${e}`),console.log(`[ClientService] URL: /customers/${e}`),await Y.delete(`/customers/${e}`),console.log(`[ClientService] Cliente ${e} deletado com sucesso`),{success:!0}}catch(t){throw console.error("Error deleting client:",t.message),console.error("URL tentada:",`/customers/${e}`),t}}},Lr={async getAllOrders(e={}){try{return(await Y.get("/orders",{params:e})).orders||[]}catch(t){throw console.error("Error fetching orders:",t.message),t}},async getOrderById(e){try{return(await Y.get(`/orders/${e}`)).order}catch(t){throw console.error(`Error fetching order ${e}:`,t.message),t}},async saveOrder(e,t,r){try{if(r!=null&&r.id){const n={...e,items:t};return(await Y.patch(`/orders/${r.id}`,n)).order}else{const n={...e,items:t};return console.log("[orderService] Criando novo pedido com payload:",JSON.stringify(n,null,2)),(await Y.post("/orders",n)).order}}catch(n){throw console.error("Error saving order:",n.message),n}},async createOrder(e){try{return(await Y.post("/orders",e)).order}catch(t){throw console.error("Error creating order:",t.message),t}},async updateOrder(e,t){try{return(await Y.patch(`/orders/${e}`,t)).order}catch(r){throw console.error("Error updating order:",r.message),r}},async updateOrderStatus(e,t){try{return(await Y.patch(`/orders/${e}/status`,{status_pedido:t})).order}catch(r){throw console.error("Error updating order status:",r.message),r}},async deleteOrder(e){try{return await Y.delete(`/orders/${e}`),{success:!0}}catch(t){throw console.error("Error deleting order:",t.message),t}},async getCustomers(){try{return(await Y.get("/customers")).customers||[]}catch(e){throw console.error("Error fetching customers:",e.message),e}},async getDeliverers(){try{return(await Y.get("/deliverers")).deliverers||[]}catch(e){throw console.error("Error fetching deliverers:",e.message),e}},async getActiveDeliverers(){try{return(await Y.get("/deliverers/active")).deliverers||[]}catch(e){throw console.error("Error fetching active deliverers:",e.message),e}},async getCoupons(){try{return(await Y.get("/coupons")).coupons||[]}catch(e){throw console.error("Error fetching coupons:",e.message),e}},async getActiveCoupons(){try{return(await Y.get("/coupons/active")).coupons||[]}catch(e){throw console.error("Error fetching active coupons:",e.message),e}},async validateCoupon(e){try{return(await Y.post("/coupons/validate",{codigo:e})).coupon}catch(t){throw console.error("Error validating coupon:",t.message),t}},async getMesaOrders(e){try{return await Y.get(`/orders/mesa/${e}/resumo`)}catch(t){throw console.error(`Error fetching mesa ${e} orders:`,t.message),t}},async closeMesa(e,t){try{return await Y.post(`/orders/mesa/${e}/fechar`,t)}catch(r){throw console.error(`Error closing mesa ${e}:`,r.message),r}},async getOpenMesas(){try{return(await Y.get("/orders/mesas/abertas")).mesas||[]}catch(e){throw console.error("Error fetching open mesas:",e.message),e}}},dU=()=>{const[e,t]=S.useState([]),[r,n]=S.useState(!1),{toast:a}=ze(),i=S.useCallback(async(u=!1)=>{n(!0);try{const d=u?`?t=${Date.now()}`:"";console.log("[useCustomers] Buscando clientes...",{forceRefresh:u,timestamp:d});const f=await mo.getAllClients();t(f),console.log("[useCustomers] Clientes carregados:",f.length)}catch(d){a({title:"Erro ao carregar clientes",description:d.message,variant:"destructive"})}finally{n(!1)}},[a]),s=S.useCallback(async u=>{var d;n(!0);try{const f=await mo.createClient(u);return a({title:"Sucesso!",description:"Cliente adicionado com sucesso."}),window.dispatchEvent(new CustomEvent("customerCreated",{detail:{customer:f}})),await new Promise(p=>setTimeout(p,300)),await i(!0),f}catch(f){throw(d=f.message)!=null&&d.includes("409")?a({title:"Cliente já existe",description:"Já existe um cliente cadastrado com esse telefone.",variant:"destructive"}):a({title:"Erro ao adicionar cliente",description:f.message,variant:"destructive"}),f}finally{n(!1)}},[i,a]),l=S.useCallback(async(u,d)=>{n(!0);try{const f=await mo.updateClient(u,d);return a({title:"Sucesso!",description:"Cliente atualizado com sucesso."}),window.dispatchEvent(new CustomEvent("customerUpdated",{detail:{customer:f}})),await new Promise(p=>setTimeout(p,300)),await i(!0),f}catch(f){throw a({title:"Erro ao atualizar cliente",description:f.message,variant:"destructive"}),f}finally{n(!1)}},[i,a]),c=S.useCallback(async u=>{n(!0);try{await mo.deleteClient(u),a({title:"Sucesso!",description:"Cliente removido com sucesso."}),window.dispatchEvent(new CustomEvent("customerDeleted",{detail:{customerId:u}})),await new Promise(d=>setTimeout(d,300)),await i(!0)}catch(d){throw a({title:"Erro ao remover cliente",description:d.message,variant:"destructive"}),d}finally{n(!1)}},[i,a]);return S.useEffect(()=>{i()},[i]),S.useEffect(()=>{const u=()=>{console.log("[useCustomers] Evento de mudança detectado, recarregando clientes..."),i(!0)};return window.addEventListener("customerCreated",u),window.addEventListener("customerUpdated",u),window.addEventListener("customerDeleted",u),()=>{window.removeEventListener("customerCreated",u),window.removeEventListener("customerUpdated",u),window.removeEventListener("customerDeleted",u)}},[i]),{customers:e,isLoading:r,fetchCustomers:i,createCustomer:s,updateCustomer:l,deleteCustomer:c}},Hl=E.forwardRef(({className:e,...t},r)=>o.jsx("textarea",{className:se("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Hl.displayName="Textarea";const fU=({isOpen:e,onOpenChange:t,onSubmit:r,initialCustomerData:n,isLoading:a})=>{const[i,s]=S.useState(""),[l,c]=S.useState(""),[u,d]=S.useState(""),{toast:f}=ze(),p=()=>{s(""),c(""),d("")};S.useEffect(()=>{n?(s(n.nome||""),c(n.telefone||""),d(n.endereco||"")):p()},[n,e]);const h=g=>{if(g.preventDefault(),!i){f({title:"Erro de Validação",description:"Nome é obrigatório.",variant:"destructive"});return}r({nome:i,telefone:l,endereco:u})};return o.jsx(Nr,{open:e,onOpenChange:g=>{t(g),g||p()},children:o.jsxs(sr,{className:"sm:max-w-lg bg-card",children:[o.jsxs(lr,{children:[o.jsx(cr,{className:"text-2xl text-primary",children:n?"Editar Cliente":"Adicionar Cliente"}),o.jsx(ur,{children:"Preencha os dados do cliente."})]}),o.jsxs("form",{onSubmit:h,className:"grid gap-6 py-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(re,{htmlFor:"customer-name",children:"Nome"}),o.jsx(fe,{id:"customer-name",value:i,onChange:g=>s(g.target.value),required:!0})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(re,{htmlFor:"customer-phone",children:"Telefone (opcional)"}),o.jsx(fe,{id:"customer-phone",type:"tel",value:l,onChange:g=>c(g.target.value)})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(re,{htmlFor:"customer-address",children:"Endereço (opcional)"}),o.jsx(Hl,{id:"customer-address",value:u,onChange:g=>d(g.target.value)})]}),o.jsxs(Sr,{className:"mt-4",children:[o.jsx(Vn,{asChild:!0,children:o.jsx(K,{type:"button",variant:"outline",disabled:a,children:"Cancelar"})}),o.jsxs(K,{type:"submit",disabled:a,children:[a&&o.jsx(ce,{className:"mr-2 h-4 w-4 animate-spin"}),n?"Salvar Alterações":"Adicionar Cliente"]})]})]})]})})},pU=({isOpen:e,onOpenChange:t,customer:r,orders:n,points:a,isLoading:i})=>r?o.jsx(Nr,{open:e,onOpenChange:t,children:o.jsxs(sr,{className:"sm:max-w-2xl md:max-w-3xl lg:max-w-4xl bg-card max-h-[90vh] flex flex-col",children:[o.jsxs(lr,{children:[o.jsxs(cr,{className:"text-2xl text-primary flex items-center",children:[o.jsx(cn,{className:"mr-2"})," Detalhes de ",r.nome]}),o.jsx(ur,{children:"Informações completas, histórico de pedidos e pontos de fidelidade."})]}),o.jsx("div",{className:"flex-grow overflow-y-auto p-1 pr-3",children:o.jsxs(Ja,{defaultValue:"info",className:"w-full",children:[o.jsxs(Un,{className:"grid w-full grid-cols-3 mb-4",children:[o.jsx(Ye,{value:"info",children:"Informações"}),o.jsxs(Ye,{value:"history",children:["Histórico de Pedidos (",(n==null?void 0:n.length)||0,")"]}),o.jsxs(Ye,{value:"points",children:["Pontos (",(a==null?void 0:a.pontos_atuais)||0,")"]})]}),o.jsx(gt,{value:"info",children:o.jsxs(ae,{children:[o.jsx(ve,{children:o.jsx(me,{children:"Dados Cadastrais"})}),o.jsxs(ie,{className:"space-y-2",children:[o.jsxs("p",{children:[o.jsx("strong",{className:"text-foreground/80",children:"Nome:"})," ",r.nome]}),o.jsxs("p",{children:[o.jsx("strong",{className:"text-foreground/80",children:"Telefone:"})," ",r.telefone]}),o.jsxs("p",{children:[o.jsx("strong",{className:"text-foreground/80",children:"Endereço:"})," ",r.endereco||"Não informado"]}),o.jsxs("p",{children:[o.jsx("strong",{className:"text-foreground/80",children:"Cliente desde:"})," ",new Date(r.created_at).toLocaleDateString("pt-BR")]})]})]})}),o.jsx(gt,{value:"history",children:o.jsxs(ae,{children:[o.jsx(ve,{children:o.jsxs(me,{className:"flex items-center",children:[o.jsx(Ed,{className:"mr-2"})," Histórico de Pedidos"]})}),o.jsxs(ie,{children:[i&&o.jsx("div",{className:"flex justify-center p-4",children:o.jsx(ce,{className:"h-8 w-8 animate-spin text-primary"})}),!i&&n&&n.length>0?o.jsx("div",{className:"max-h-96 overflow-y-auto",children:o.jsxs($t,{children:[o.jsx(kt,{children:o.jsxs(Le,{children:[o.jsx(te,{children:"Data"}),o.jsx(te,{children:"Total"}),o.jsx(te,{children:"Status"}),o.jsx(te,{className:"text-right",children:"Itens"})]})}),o.jsx(Mt,{children:n.map(s=>o.jsxs(Le,{children:[o.jsx(J,{children:new Date(s.data_pedido).toLocaleDateString("pt-BR")}),o.jsx(J,{children:R(s.total)}),o.jsx(J,{children:s.status_pedido}),o.jsx(J,{className:"text-right",children:s.itens_pedido_count})]},s.id))})]})}):i?null:o.jsx("p",{className:"text-muted-foreground text-center p-4",children:"Nenhum pedido encontrado para este cliente."})]})]})}),o.jsx(gt,{value:"points",children:o.jsxs(ae,{children:[o.jsx(ve,{children:o.jsxs(me,{className:"flex items-center",children:[o.jsx(w1,{className:"mr-2"})," Pontos de Fidelidade"]})}),o.jsxs(ie,{children:[i&&o.jsx("div",{className:"flex justify-center p-4",children:o.jsx(ce,{className:"h-8 w-8 animate-spin text-primary"})}),!i&&a?o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-5xl font-bold text-primary",children:a.pontos_atuais||0}),o.jsx("p",{className:"text-muted-foreground",children:"pontos disponíveis"}),o.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Última atualização: ",new Date(a.updated_at).toLocaleString("pt-BR")]})]}):i?null:o.jsx("p",{className:"text-muted-foreground text-center p-4",children:"Cliente ainda não possui registro de pontos."})]})]})})]})}),o.jsx(Sr,{className:"mt-auto pt-4 border-t",children:o.jsx(Vn,{asChild:!0,children:o.jsx(K,{variant:"outline",children:"Fechar"})})})]})}):null,hU=()=>{const{customers:e,isLoading:t,createCustomer:r,updateCustomer:n,deleteCustomer:a}=dU(),[i,s]=S.useState(""),[l,c]=S.useState(!1),[u,d]=S.useState(!1),[f,p]=S.useState(null),[h,g]=S.useState(null),[v,m]=S.useState([]),[x,b]=S.useState(null),[N,j]=S.useState(!1),[y,w]=S.useState(!1),{toast:_}=ze(),P=S.useCallback(async M=>{j(!0);try{const L=await Lr.getAllOrders({cliente_id:M.id});m(L.map(H=>{var C;return{...H,itens_pedido_count:((C=H.itens_pedido)==null?void 0:C.length)||0}}));const V=await mo.getClientPoints(M.id);b({pontos_atuais:V,updated_at:new Date})}catch(L){_({title:"Erro ao carregar detalhes",description:L.message,variant:"destructive"})}finally{j(!1)}},[_]),O=()=>{p(null)},k=async M=>{w(!0);try{f&&f.id?await n(f.id,M):await r(M),c(!1),O()}catch{}finally{w(!1)}},A=S.useCallback(M=>{p(M),c(!0)},[]),T=async M=>{try{await a(M)}catch{}},z=M=>{g(M),d(!0),P(M)},$=e.filter(M=>M.nome.toLowerCase().includes(i.toLowerCase())||M.telefone&&M.telefone.toLowerCase().includes(i.toLowerCase()));return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-3xl font-bold tracking-tight text-foreground flex items-center",children:[o.jsx(cn,{className:"mr-3 h-8 w-8 text-primary"})," Gerenciamento de Clientes"]}),o.jsx("p",{className:"text-muted-foreground",children:"Cadastre, edite e visualize informações dos seus clientes."})]}),o.jsxs(K,{onClick:()=>{p(null),c(!0)},className:"bg-gradient-to-r from-primary to-red-400 hover:from-primary/90 hover:to-red-400/90 text-white shadow-md hover:shadow-lg transition-shadow",disabled:t,children:[o.jsx(Ur,{className:"mr-2 h-5 w-5"})," Adicionar Cliente"]})]}),o.jsx(fU,{isOpen:l,onOpenChange:c,onSubmit:k,initialCustomerData:f,isLoading:y}),o.jsx(pU,{isOpen:u,onOpenChange:d,customer:h,orders:v,points:x,isLoading:N}),o.jsxs("div",{className:"relative w-full md:w-1/3 mb-4",children:[o.jsx(fe,{type:"search",placeholder:"Buscar por nome ou telefone...",value:i,onChange:M=>s(M.target.value),className:"pl-10 w-full bg-background/70"}),o.jsx(An,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"})]}),t&&e.length===0?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx(ce,{className:"h-12 w-12 animate-spin text-primary"})}):!t&&$.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center p-6 bg-card rounded-lg shadow-md",children:[o.jsx(vt,{className:"w-16 h-16 text-primary/50 mb-4"}),o.jsx("h3",{className:"text-xl font-semibold text-foreground",children:"Nenhum cliente encontrado"}),o.jsx("p",{className:"text-muted-foreground",children:i?"Tente refinar sua busca ou ":"Comece adicionando um novo cliente."})]}):o.jsx("div",{className:"overflow-x-auto bg-card rounded-lg shadow-md",children:o.jsxs($t,{children:[o.jsx(kt,{children:o.jsxs(Le,{className:"hover:bg-muted/20",children:[o.jsx(te,{className:"text-foreground/90",children:"Nome"}),o.jsx(te,{className:"text-foreground/90",children:"Telefone"}),o.jsx(te,{className:"text-foreground/90",children:"Endereço"}),o.jsx(te,{className:"text-right text-foreground/90",children:"Pontos"}),o.jsx(te,{className:"text-right text-foreground/90",children:"Ações"})]})}),o.jsx(Mt,{children:$.map(M=>o.jsxs(Le,{className:"hover:bg-muted/30 transition-colors",children:[o.jsx(J,{className:"font-medium text-foreground",children:M.nome}),o.jsx(J,{className:"text-foreground/90",children:M.telefone}),o.jsx(J,{className:"text-foreground/90 text-sm max-w-xs truncate",children:M.endereco||"-"}),o.jsx(J,{className:"text-right text-foreground/90 font-semibold text-amber-500",children:M.pontos_atuais||0}),o.jsxs(J,{className:"text-right space-x-1",children:[o.jsx(K,{variant:"ghost",size:"icon",onClick:()=>z(M),className:"text-green-500 hover:text-green-700 hover:bg-green-100/50 dark:hover:bg-green-700/20",disabled:t,children:o.jsx(Kv,{className:"h-4 w-4"})}),o.jsx(K,{variant:"ghost",size:"icon",onClick:()=>A(M),className:"text-blue-500 hover:text-blue-700 hover:bg-blue-100/50 dark:hover:bg-blue-700/20",disabled:t,children:o.jsx(Dn,{className:"h-4 w-4"})}),o.jsx(K,{variant:"ghost",size:"icon",onClick:()=>T(M.id),className:"text-red-500 hover:text-red-700 hover:bg-red-100/50 dark:hover:bg-red-700/20",disabled:t,children:t?o.jsx(ce,{className:"h-4 w-4 animate-spin"}):o.jsx(dr,{className:"h-4 w-4"})})]})]},M.id))}),$.length>10&&o.jsxs(En,{children:["Total de ",$.length," clientes."]})]})})]})};var Uf="Radio",[mU,vw]=Vr(Uf),[gU,vU]=mU(Uf),yw=S.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:a=!1,required:i,disabled:s,value:l="on",onCheck:c,form:u,...d}=e,[f,p]=S.useState(null),h=Tt(t,m=>p(m)),g=S.useRef(!1),v=f?u||!!f.closest("form"):!0;return o.jsxs(gU,{scope:r,checked:a,disabled:s,children:[o.jsx(He.button,{type:"button",role:"radio","aria-checked":a,"data-state":jw(a),"data-disabled":s?"":void 0,disabled:s,value:l,...d,ref:h,onClick:Oe(e.onClick,m=>{a||c==null||c(),v&&(g.current=m.isPropagationStopped(),g.current||m.stopPropagation())})}),v&&o.jsx(ww,{control:f,bubbles:!g.current,name:n,value:l,checked:a,required:i,disabled:s,form:u,style:{transform:"translateX(-100%)"}})]})});yw.displayName=Uf;var xw="RadioIndicator",bw=S.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...a}=e,i=vU(xw,r);return o.jsx(yi,{present:n||i.checked,children:o.jsx(He.span,{"data-state":jw(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t})})});bw.displayName=xw;var yU="RadioBubbleInput",ww=S.forwardRef(({__scopeRadio:e,control:t,checked:r,bubbles:n=!0,...a},i)=>{const s=S.useRef(null),l=Tt(s,i),c=Nd(r),u=Sd(t);return S.useEffect(()=>{const d=s.current;if(!d)return;const f=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&h){const g=new Event("click",{bubbles:n});h.call(d,r),d.dispatchEvent(g)}},[c,r,n]),o.jsx(He.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});ww.displayName=yU;function jw(e){return e?"checked":"unchecked"}var xU=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Kl="RadioGroup",[bU,EG]=Vr(Kl,[Wl,vw]),Nw=Wl(),Sw=vw(),[wU,jU]=bU(Kl),_w=S.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:a,value:i,required:s=!1,disabled:l=!1,orientation:c,dir:u,loop:d=!0,onValueChange:f,...p}=e,h=Nw(r),g=_d(u),[v,m]=Ma({prop:i,defaultProp:a??null,onChange:f,caller:Kl});return o.jsx(wU,{scope:r,name:n,required:s,disabled:l,value:v,onValueChange:m,children:o.jsx(rw,{asChild:!0,...h,orientation:c,dir:g,loop:d,children:o.jsx(He.div,{role:"radiogroup","aria-required":s,"aria-orientation":c,"data-disabled":l?"":void 0,dir:g,...p,ref:t})})})});_w.displayName=Kl;var Pw="RadioGroupItem",Ow=S.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...a}=e,i=jU(Pw,r),s=i.disabled||n,l=Nw(r),c=Sw(r),u=S.useRef(null),d=Tt(t,u),f=i.value===a.value,p=S.useRef(!1);return S.useEffect(()=>{const h=v=>{xU.includes(v.key)&&(p.current=!0)},g=()=>p.current=!1;return document.addEventListener("keydown",h),document.addEventListener("keyup",g),()=>{document.removeEventListener("keydown",h),document.removeEventListener("keyup",g)}},[]),o.jsx(nw,{asChild:!0,...l,focusable:!s,active:f,children:o.jsx(yw,{disabled:s,required:i.required,checked:f,...c,...a,name:i.name,ref:d,onCheck:()=>i.onValueChange(a.value),onKeyDown:Oe(h=>{h.key==="Enter"&&h.preventDefault()}),onFocus:Oe(a.onFocus,()=>{var h;p.current&&((h=u.current)==null||h.click())})})})});Ow.displayName=Pw;var NU="RadioGroupIndicator",Aw=S.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,a=Sw(r);return o.jsx(bw,{...a,...n,ref:t})});Aw.displayName=NU;var Ew=_w,Cw=Ow,SU=Aw;const Wf=S.forwardRef(({className:e,...t},r)=>o.jsx(Ew,{className:se("grid gap-2",e),...t,ref:r}));Wf.displayName=Ew.displayName;const ia=S.forwardRef(({className:e,...t},r)=>o.jsx(Cw,{ref:r,className:se("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:o.jsx(SU,{className:"flex items-center justify-center",children:o.jsx(P1,{className:"h-2.5 w-2.5 fill-current text-current"})})}));ia.displayName=Cw.displayName;const _U=({customerName:e,setCustomerName:t,customerPhone:r,setCustomerPhone:n,customerAddress:a,setCustomerAddress:i,onPhoneBlur:s,isLoading:l,nameInputRef:c,phoneInputRef:u,addressInputRef:d,showAddress:f=!0})=>o.jsxs(ae,{children:[o.jsx(ve,{children:o.jsxs(me,{className:"text-lg flex items-center",children:[o.jsx(R1,{className:"mr-2 text-primary"})," Detalhes do Cliente"]})}),o.jsxs(ie,{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(re,{htmlFor:"customerName",children:"Nome do Cliente"}),o.jsx(fe,{id:"customerName",ref:c,value:e,onChange:p=>t(p.target.value),placeholder:"Nome completo",required:!0,disabled:l,name:"customerName",autoComplete:"name"})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(re,{htmlFor:"customerPhone",children:"Telefone (opcional)"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(fe,{id:"customerPhone",ref:u,value:r,onChange:p=>n(p.target.value),placeholder:"(XX) XXXXX-XXXX",type:"tel",disabled:l,onBlur:s,className:"flex-grow",name:"customerPhone",autoComplete:"tel"}),o.jsx(K,{type:"button",variant:"outline",size:"icon",onClick:s,disabled:l,children:l?o.jsx(ce,{className:"h-4 w-4 animate-spin"}):o.jsx(An,{className:"h-4 w-4"})})]})]}),f&&o.jsxs("div",{className:"grid gap-2 md:col-span-2 animate-in slide-in-from-top duration-200",children:[o.jsxs(re,{htmlFor:"customerAddress",children:["Endereço de Entrega ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(fe,{id:"customerAddress",ref:d,value:a,onChange:p=>i(p.target.value),placeholder:"Rua, Número, Bairro, Complemento",disabled:l,required:!0,name:"customerAddress",autoComplete:"street-address"})]})]})]}),PU=({tipoPedido:e,setTipoPedido:t,numeroMesa:r,setNumeroMesa:n})=>o.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/30",children:[o.jsx("h3",{className:"text-lg font-semibold text-primary",children:"Tipo de Pedido"}),o.jsx(Wf,{value:e,onValueChange:t,children:o.jsxs("div",{className:"flex items-center space-x-6",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ia,{value:"delivery",id:"delivery"}),o.jsxs(re,{htmlFor:"delivery",className:"flex items-center gap-2 cursor-pointer",children:[o.jsx(wr,{className:"h-4 w-4"}),"Delivery"]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ia,{value:"mesa",id:"mesa"}),o.jsxs(re,{htmlFor:"mesa",className:"flex items-center gap-2 cursor-pointer",children:[o.jsx(Uv,{className:"h-4 w-4"}),"Mesa"]})]})]})}),e==="mesa"&&o.jsxs("div",{className:"grid gap-2 animate-in slide-in-from-top duration-200",children:[o.jsxs(re,{htmlFor:"numero-mesa",className:"text-sm",children:["Número da Mesa ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(fe,{id:"numero-mesa",type:"number",min:"1",placeholder:"Ex: 5",value:r,onChange:a=>n(a.target.value),className:"max-w-xs",required:!0})]})]}),OU=({value:e,onChange:t,disabled:r=!1})=>{const[n,a]=S.useState([]),[i,s]=S.useState(!0);S.useEffect(()=>{l()},[]);const l=async()=>{try{const p=(await tn.getAllActiveProducts()).filter(h=>h.tipo_produto==="borda").map(h=>({id:h.id,nome:h.nome,preco_adicional:Number(h.preco_unitario)||0}));a(p)}catch(d){console.error("Erro ao carregar bordas:",d)}finally{s(!1)}},c=[{id:"none",nome:"Sem Borda",preco_adicional:0},...n],u=c.find(d=>d.id===e)||c[0];return o.jsxs("div",{className:"space-y-2",children:[o.jsxs(re,{htmlFor:"pizza-border",className:"text-sm font-medium flex items-center gap-2",children:[o.jsx("span",{className:"text-lg",children:"🥖"}),"Borda Recheada"]}),o.jsxs(Et,{value:e||"none",onValueChange:t,disabled:r||i,children:[o.jsx(jt,{id:"pizza-border",className:"w-full",children:o.jsx(Ct,{placeholder:i?"Carregando...":"Selecione a borda"})}),o.jsx(Nt,{children:c.map(d=>o.jsx(Me,{value:d.id,children:o.jsxs("div",{className:"flex justify-between items-center w-full",children:[o.jsx("span",{children:d.nome}),d.preco_adicional>0&&o.jsxs("span",{className:"text-sm text-muted-foreground ml-2",children:["(+",R(d.preco_adicional),")"]})]})},d.id))})]}),u&&u.preco_adicional>0&&o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Adicional de ",R(u.preco_adicional)," pela borda ",u.nome]})]})},Tw=({value:e,onChange:t,products:r,selectedSize:n,placeholder:a="Digite para buscar..."})=>{const[i,s]=S.useState(e||""),[l,c]=S.useState([]),[u,d]=S.useState(!1),f=S.useRef(null);S.useEffect(()=>{s(e||"")},[e]),S.useEffect(()=>{const v=m=>{f.current&&!f.current.contains(m.target)&&d(!1)};return document.addEventListener("mousedown",v),()=>{document.removeEventListener("mousedown",v)}},[]);const p=v=>{const m=v.target.value;if(s(m),m){const x=r.filter(b=>b.nome.toLowerCase().includes(m.toLowerCase()));c(x)}else c([])},h=v=>{s(v),c([]),d(!1),t&&t(v)},g=u&&l.length>0;return o.jsxs("div",{className:"relative",ref:f,children:[o.jsx(fe,{type:"text",value:i,onChange:p,onFocus:()=>d(!0),placeholder:a,className:"bg-background/70"}),g&&o.jsx("div",{className:"absolute z-10 w-full mt-1 bg-card border border-border rounded-md shadow-lg max-h-60 overflow-y-auto",children:o.jsx("ul",{className:"py-1",children:l.map(v=>o.jsx("li",{onClick:()=>h(v.nome),className:"px-3 py-2 cursor-pointer hover:bg-muted",children:o.jsxs("div",{className:"flex justify-between items-center w-full",children:[o.jsx("span",{children:v.nome}),n&&v.tamanhos_precos&&o.jsx("span",{className:"text-sm text-green-600 font-medium ml-2",children:(()=>{const m=v.tamanhos_precos.find(x=>x.id_tamanho===n);return m?R(m.preco):""})()})]})},v.id))})})]})},AU=({selectedSize:e,flavors:t=[],onChange:r,allProductsData:n=[]})=>{const[a,i]=S.useState(t),l=(m=>m==="familia"?3:2)(e);S.useEffect(()=>{i(t)},[t]),S.useEffect(()=>{const m=a.length>0&&a[a.length-1].nome;if(a.length<l&&(m||a.length===0)){const x=[...a,{nome:"",produto_id:""}];i(x)}},[a,l]);const c=m=>{const x=m.length;return x===0?[]:x===2?m.map((b,N)=>({...b,percentual:50})):x===3?m.map((b,N)=>({...b,percentual:N===2?34:33})):m},u=m=>{if(!m||m.length===0||!e)return 0;let x=0,b="";return m.forEach(N=>{const j=n.find(y=>y.nome===N.nome&&y.tipo_produto==="pizza");if(j&&j.tamanhos_precos){const y=j.tamanhos_precos.find(_=>_.id_tamanho===e),w=y?parseFloat(y.preco):0;w>x&&(x=w,b=N.nome)}}),{maxPrice:x,maxPriceFlavorName:b}},d=m=>{if(!m||!e)return 0;const x=n.find(b=>b.nome===m&&b.tipo_produto==="pizza");if(x&&x.tamanhos_precos){const b=x.tamanhos_precos.find(N=>N.id_tamanho===e);return b?parseFloat(b.preco):0}return 0},f=m=>{const x=a.filter((N,j)=>j!==m),b=c(x);i(b),r(b)},p=(m,x)=>{const b=n.find(w=>w.nome===x&&w.tipo_produto==="pizza"),j=a.map((w,_)=>_===m?{nome:x,produto_id:b?b.id:""}:w).filter((w,_,P)=>w.nome&&P.findIndex(O=>O.nome===w.nome)===_),y=c(j);i(y),r(y)},h=n.filter(m=>m.tipo_produto==="pizza"&&m.ativo),{maxPrice:g,maxPriceFlavorName:v}=u(a);return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gradient-to-r from-orange-100 to-red-100 rounded-lg border border-orange-300",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ln,{className:"h-5 w-5 text-orange-600"}),o.jsxs("div",{children:[o.jsx(re,{className:"text-sm font-bold text-orange-800",children:"Múltiplos Sabores"}),o.jsxs("p",{className:"text-xs text-orange-600",children:["Máximo ",l," sabores • Cobramos o preço do mais caro"]})]})]}),a.length>0&&a.every(m=>m.nome)&&o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"flex items-center gap-1 text-green-700",children:[o.jsx(Fr,{className:"h-4 w-4"}),o.jsx("span",{className:"font-bold text-lg",children:R(g)})]}),o.jsxs("p",{className:"text-xs text-green-600",children:['(preço de "',v,'")']})]})]}),o.jsx("div",{className:"space-y-3",children:a.map((m,x)=>o.jsx("div",{className:"relative",children:o.jsxs("div",{className:"flex items-center gap-3 p-4 border-2 border-orange-200 rounded-lg bg-white hover:bg-orange-50 transition-colors",children:[o.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-orange-500 text-white rounded-full text-sm font-bold",children:x+1}),o.jsx("div",{className:"flex-1",children:o.jsx(Tw,{value:m.nome,onChange:b=>p(x,b),products:h.filter(b=>!a.some(N=>N.nome===b.nome&&N.nome!==m.nome)),selectedSize:e,placeholder:`Escolha o ${x+1}º sabor`})}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(nt,{variant:"secondary",className:"bg-orange-100 text-orange-800 font-bold",children:[m.percentual,"%"]}),m.nome&&o.jsx("div",{className:"text-xs text-right text-muted-foreground",children:o.jsx("div",{className:"font-medium",children:R(d(m.nome))})}),o.jsx(K,{type:"button",variant:"ghost",size:"icon",onClick:()=>f(x),className:"h-8 w-8 text-red-500 hover:text-red-700 hover:bg-red-50",children:o.jsx(rl,{className:"h-4 w-4"})})]})]})},x))}),a.filter(m=>m.nome).length>1&&o.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[o.jsx(ln,{className:"h-4 w-4 text-blue-600"}),o.jsx(re,{className:"text-sm font-medium text-blue-800",children:"Como ficará sua pizza:"})]}),o.jsx("div",{className:"flex rounded-lg overflow-hidden h-8 border border-blue-300 mb-3",children:a.filter(m=>m.nome).map((m,x)=>{const b=["bg-red-400","bg-yellow-400","bg-green-400"];return o.jsxs("div",{className:`${b[x]} flex items-center justify-center text-xs font-bold text-white`,style:{width:`${m.percentual}%`},children:[m.percentual,"%"]},x)})}),o.jsx("div",{className:"space-y-1",children:a.filter(m=>m.nome).map((m,x)=>o.jsxs("div",{className:"flex justify-between items-center text-sm",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:`w-3 h-3 rounded ${["bg-red-400","bg-yellow-400","bg-green-400"][x]}`}),o.jsx("span",{className:"font-medium",children:m.nome})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{className:"text-blue-600 font-bold",children:[m.percentual,"%"]}),o.jsx("span",{className:"text-muted-foreground",children:"•"}),o.jsx("span",{className:"font-medium",children:R(d(m.nome))})]})]},x))}),o.jsxs("div",{className:"mt-3 pt-3 border-t border-blue-200",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Preço cobrado (mais caro):"}),o.jsx("span",{className:"text-lg font-bold text-green-600",children:R(g)})]}),o.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:['✨ Baseado no sabor "',v,'" que é o mais caro']})]})]})]})},EU=({items:e,setItems:t,allProductsData:r,onItemsChange:n})=>{const a=(d,f,p=null)=>{if(!r||r.length===0)return 0;if(p&&p.length>1){let v=0;return p.forEach(m=>{const x=r.find(b=>b.nome===m.nome&&b.tipo_produto==="pizza");if(x&&x.tamanhos_precos){const b=x.tamanhos_precos.find(j=>j.id_tamanho===f),N=b?parseFloat(b.preco):0;N>v&&(v=N)}}),v}const h=r.find(v=>v.nome===d&&v.tipo_produto==="pizza");if(h&&h.tamanhos_precos){const v=h.tamanhos_precos.find(m=>m.id_tamanho===f);return v?parseFloat(v.preco):0}return sy.find(v=>v.id===d)&&Co.find(v=>v.id===f),0},i=d=>{if(!d||d==="none")return 0;const f=r.find(p=>p.tipo_produto==="borda"&&(p.id===d||p.nome===d));return f?parseFloat(f.preco_unitario):0},s=(d,f,p)=>{const h=[...e],g={...h[d]};if(g[f]=p,f==="flavor"&&p&&!g.useMultipleFlavors&&(g.showMultiFlavorChoice=!0),f==="useMultipleFlavors")if(g.showMultiFlavorChoice=!1,p){const b=r.find(N=>N.nome===g.flavor&&N.tipo_produto==="pizza");g.multipleFlavors=b?[{nome:b.nome,id:b.id}]:[],g.flavor=""}else g.multipleFlavors=[],g.flavor="",g.unitPrice=0;if(f==="showMultiFlavorChoice"&&!p&&(g.showMultiFlavorChoice=!1),f==="flavor"||f==="size"||f==="multipleFlavors"||f==="useMultipleFlavors"){let b=0,N=g.productId;if(g.useMultipleFlavors&&g.multipleFlavors&&g.multipleFlavors.length>0){let j=0,y=null;g.multipleFlavors.forEach(w=>{const _=r.find(P=>P.nome===w.nome&&P.tipo_produto==="pizza");if(_&&_.tamanhos_precos){const P=_.tamanhos_precos.find(k=>k.id_tamanho===g.size),O=P?parseFloat(P.preco):0;O>j&&(j=O,y=_)}}),b=j,N=y?y.id:null}else if(!g.useMultipleFlavors&&g.flavor&&g.size){const j=r.find(y=>y.nome===g.flavor&&y.tipo_produto==="pizza");b=a(g.flavor,g.size),N=j?j.id:null}g.unitPrice=b,g.productId=N}const v=parseInt(g.quantity,10)||0,m=parseFloat(g.unitPrice)||0,x=i(g.border||"none");g.borderPrice=x,g.totalPrice=v*(m+x),h[d]=g,t(h),n&&n(h)},l=()=>{const d=[...e,{itemType:"pizza",flavor:"",size:"",border:"none",borderPrice:0,quantity:1,unitPrice:0,totalPrice:0,productId:null,useMultipleFlavors:!1,multipleFlavors:[],showMultiFlavorChoice:!1}];t(d),n&&n(d)},c=d=>{const f=e.filter((p,h)=>h!==d);t(f),n&&n(f)},u=r.filter(d=>d.tipo_produto==="pizza"&&d.ativo);return o.jsxs("div",{className:"space-y-4 pt-4",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs(re,{className:"text-lg font-semibold text-primary flex items-center gap-2",children:[o.jsx(ln,{className:"h-5 w-5"}),"Itens da Pizza"]})}),e.filter(d=>d.itemType==="pizza").map((d,f)=>{const p=e.findIndex(h=>h===d);return o.jsxs("div",{className:"p-4 border rounded-lg shadow-sm bg-card/50 space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(re,{htmlFor:`item-size-${p}`,className:"text-sm font-medium",children:"🍕 Tamanho da Pizza"}),o.jsxs(Et,{value:d.size,onValueChange:h=>s(p,"size",h),children:[o.jsx(jt,{id:`item-size-${p}`,className:"mt-1",children:o.jsx(Ct,{placeholder:"Selecione o tamanho primeiro"})}),o.jsx(Nt,{children:Co.map(h=>o.jsx(Me,{value:h.id,children:h.name},h.id))})]})]}),o.jsxs("div",{children:[o.jsx(re,{htmlFor:`item-quantity-${p}`,className:"text-sm font-medium",children:"📊 Quantidade"}),o.jsx(fe,{id:`item-quantity-${p}`,type:"number",min:"1",value:d.quantity,onChange:h=>s(p,"quantity",parseInt(h.target.value,10)),className:"bg-background/70 mt-1"})]})]}),d.size&&o.jsx("div",{className:"space-y-3",children:d.useMultipleFlavors?o.jsx("div",{className:"p-4 bg-orange-50 border border-orange-200 rounded-lg",children:o.jsx(AU,{selectedSize:d.size,flavors:d.multipleFlavors||[],onChange:h=>{s(p,"multipleFlavors",h)},allProductsData:u})}):o.jsxs("div",{children:[o.jsx(re,{htmlFor:`item-flavor-${p}`,className:"text-sm font-medium",children:"🍕 Nome da Pizza"}),o.jsx(Tw,{value:d.flavor,onChange:h=>{s(p,"flavor",h)},products:u,selectedSize:d.size,placeholder:"Digite o nome da pizza..."}),d.showMultiFlavorChoice&&o.jsxs("div",{className:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded-lg text-center animate-fade-in",children:[o.jsx("p",{className:"text-sm font-medium text-blue-800 mb-2",children:"Gostaria de adicionar mais sabores?"}),o.jsxs("div",{className:"flex justify-center gap-2",children:[o.jsx(K,{type:"button",variant:"outline",size:"sm",onClick:()=>s(p,"showMultiFlavorChoice",!1),children:"Não, Sabor Único"}),o.jsx(K,{type:"button",size:"sm",onClick:()=>s(p,"useMultipleFlavors",!0),className:"bg-primary hover:bg-primary/90",children:"Sim, Adicionar Sabor"})]})]})]})}),d.size&&o.jsx("div",{className:"w-full",children:o.jsx(OU,{value:d.border||"none",onChange:h=>s(p,"border",h),allProductsData:r})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-3 bg-muted/30 rounded-lg",children:[o.jsxs("div",{children:[o.jsx(re,{className:"text-xs text-muted-foreground",children:"Valor Unitário"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(fe,{type:"text",value:R(d.unitPrice+(d.borderPrice||0)),readOnly:!0,className:"bg-muted/70 cursor-not-allowed text-sm"}),d.unitPrice>0&&o.jsxs("div",{className:"text-xs text-muted-foreground",children:[o.jsxs("div",{children:["Pizza: ",R(d.unitPrice)]}),d.borderPrice>0&&o.jsxs("div",{children:["+ Borda: ",R(d.borderPrice)]})]})]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(re,{className:"text-xs text-muted-foreground",children:"Total do Item"}),o.jsx("p",{className:"text-lg font-bold text-primary",children:R(d.totalPrice)})]}),o.jsx(K,{type:"button",variant:"ghost",size:"icon",onClick:()=>c(p),className:"text-red-500 hover:text-red-700",children:o.jsx(dr,{className:"h-5 w-5"})})]})]})]},`pizza-item-${p}`)}),o.jsxs(K,{type:"button",variant:"outline",onClick:l,className:"w-full",children:[o.jsx(Ur,{className:"mr-2 h-4 w-4"})," Adicionar Pizza"]})]})},CU=({items:e,setItems:t,allProductsData:r,onItemsChange:n})=>{const a=(c,u,d)=>{const f=[...e],p={...f[c]};if(u==="productId"){const v=r.find(m=>m.id===d);p.productId=d,p.productName=v?v.nome:"",p.unitPrice=v?parseFloat(v.preco_unitario):0}else p[u]=d;const h=parseInt(p.quantity,10)||0,g=parseFloat(p.unitPrice)||0;p.totalPrice=h*g,f[c]=p,t(f),n&&n(f)},i=()=>{const c=[...e,{itemType:"other",productId:"",productName:"",quantity:1,unitPrice:0,totalPrice:0}];t(c),n&&n(c)},s=c=>{const u=e.filter((d,f)=>f!==c);t(u),n&&n(u)},l=r.filter(c=>c.tipo_produto!=="pizza"&&c.tipo_produto!=="borda"&&c.ativo);return o.jsxs("div",{className:"space-y-4 pt-4",children:[o.jsxs(re,{className:"text-lg font-semibold text-primary flex items-center",children:[o.jsx(Dc,{className:"mr-2 h-5 w-5"})," Bebidas e Outros Itens"]}),e.filter(c=>c.itemType==="other").map((c,u)=>{const d=e.findIndex(f=>f===c);return o.jsxs("div",{className:"p-4 border rounded-lg shadow-sm bg-card/50 space-y-3",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-3",children:o.jsxs("div",{children:[o.jsx(re,{htmlFor:`item-product-${d}`,className:"text-xs",children:"Produto"}),o.jsxs(Et,{value:c.productId,onValueChange:f=>a(d,"productId",f),children:[o.jsx(jt,{id:`item-product-${d}`,children:o.jsx(Ct,{placeholder:"Selecione o produto"})}),o.jsx(Nt,{children:l.map(f=>o.jsxs(Me,{value:f.id,children:[f.nome," (",f.categoria||f.tipo_produto,") - ",R(f.preco_unitario)]},f.id))})]})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 items-end",children:[o.jsxs("div",{children:[o.jsx(re,{htmlFor:`item-other-quantity-${d}`,className:"text-xs",children:"Quantidade"}),o.jsx(fe,{id:`item-other-quantity-${d}`,type:"number",min:"1",value:c.quantity,onChange:f=>a(d,"quantity",parseInt(f.target.value,10)),className:"bg-background/70"})]}),o.jsxs("div",{children:[o.jsx(re,{htmlFor:`item-other-unitprice-${d}`,className:"text-xs",children:"Valor Unitário"}),o.jsx(fe,{id:`item-other-unitprice-${d}`,type:"text",value:R(c.unitPrice),readOnly:!0,className:"bg-muted/70 cursor-not-allowed"})]}),o.jsxs("div",{className:"flex items-center justify-between md:justify-end",children:[o.jsxs("p",{className:"text-sm font-medium md:hidden",children:["Total Item: ",R(c.totalPrice)]}),o.jsx(K,{type:"button",variant:"ghost",size:"icon",onClick:()=>s(d),className:"text-red-500 hover:text-red-700",children:o.jsx(dr,{className:"h-5 w-5"})})]})]}),o.jsxs("p",{className:"text-sm font-medium text-right hidden md:block",children:["Total do Item: ",R(c.totalPrice)]})]},`other-item-${d}`)}),o.jsxs(K,{type:"button",variant:"outline",onClick:i,className:"w-full",children:[o.jsx(Ur,{className:"mr-2 h-4 w-4"})," Adicionar Bebida/Outro Item"]})]})},TU=({paymentMethod:e,setPaymentMethod:t,delivererName:r,setDelivererName:n})=>o.jsxs(ae,{children:[o.jsx(ve,{children:o.jsxs(me,{className:"text-lg flex items-center",children:[o.jsx(N1,{className:"mr-2 text-primary"})," Detalhes da Entrega e Pagamento"]})}),o.jsxs(ie,{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(re,{htmlFor:"paymentMethod",children:"Forma de Pagamento"}),o.jsxs(Et,{value:e,onValueChange:t,required:!0,children:[o.jsx(jt,{id:"paymentMethod",children:o.jsx(Ct,{placeholder:"Selecione a forma de pgto."})}),o.jsx(Nt,{children:pt.map(a=>o.jsx(Me,{value:a.id,children:a.name},a.id))})]})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(re,{htmlFor:"delivererName",children:"Nome do Entregador"}),o.jsx(fe,{id:"delivererName",type:"text",value:r||"",onChange:a=>n(a.target.value),placeholder:"Digite o nome do entregador",className:"bg-background/70"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Nome que aparecerá no cupom de entrega (opcional)"})]})]})]}),go={async getAllCoupons(){return(await Y.request("/coupons")).coupons},async getByCode(e){return(await Y.request("/coupons/code/"+encodeURIComponent(e))).coupon},async getById(e){return(await Y.request(`/coupons/${e}`)).coupon},async createCoupon(e){return(await Y.request("/coupons",{method:"POST",body:JSON.stringify(e)})).coupon},async updateCoupon(e,t){return(await Y.request(`/coupons/${e}`,{method:"PATCH",body:JSON.stringify(t)})).coupon},async deleteCoupon(e){return await Y.request(`/coupons/${e}`,{method:"DELETE"})}},$U=({subtotal:e,appliedCoupon:t,setAppliedCoupon:r,onCouponChange:n})=>{const[a,i]=S.useState(""),[s,l]=S.useState(""),[c,u]=S.useState(!1),{toast:d}=ze();E.useEffect(()=>{t?(i(t.codigo),l(`Cupom "${t.codigo}" aplicado.`)):(i(""),l(""))},[t]);const f=async()=>{if(!a){l("Por favor, insira um código de cupom.");return}u(!0),l("");try{const h=await go.getByCode(a.toUpperCase());if(!h.ativo){l("Este cupom não está mais ativo."),d({title:"Cupom Inativo",variant:"destructive"}),r(null),n();return}if(h.data_validade&&new Date(h.data_validade)<new Date){l("Este cupom expirou."),d({title:"Cupom Expirado",variant:"destructive"}),r(null),n();return}if(h.usos_maximos&&h.usos_atuais>=h.usos_maximos){l("Este cupom atingiu o limite de usos."),d({title:"Limite de Usos Atingido",variant:"destructive"}),r(null),n();return}if(h.valor_minimo_pedido&&e<h.valor_minimo_pedido){l(`Pedido mínimo de ${R(h.valor_minimo_pedido)} para este cupom.`),d({title:"Valor Mínimo Não Atingido",description:`O pedido deve ser de pelo menos ${R(h.valor_minimo_pedido)}.`,variant:"destructive"}),r(null),n();return}r(h),l(`Cupom "${h.codigo}" aplicado com sucesso!`),d({title:"Cupom Aplicado!",description:`Desconto de ${h.tipo_desconto==="percentual"?`${h.valor_desconto}%`:R(h.valor_desconto)} adicionado.`}),n()}catch(h){h.message.includes("404")||h.message.includes("não encontrado")?(l("Cupom inválido ou não encontrado."),d({title:"Cupom Inválido",description:"O código inserido não foi encontrado.",variant:"destructive"})):(l("Erro ao validar cupom."),d({title:"Erro ao Validar Cupom",description:h.message,variant:"destructive"})),r(null),n()}finally{u(!1)}},p=()=>{r(null),i(""),l(""),n(),d({title:"Cupom Removido"})};return o.jsxs(ae,{children:[o.jsx(ve,{children:o.jsxs(me,{className:"text-md flex items-center",children:[o.jsx(zv,{className:"mr-2 text-primary"})," Cupom de Desconto"]})}),o.jsxs(ie,{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-end gap-2",children:[o.jsxs("div",{className:"flex-grow grid gap-1.5",children:[o.jsx(re,{htmlFor:"couponCode",children:"Código do Cupom"}),o.jsx(fe,{id:"couponCode",value:a,onChange:h=>i(h.target.value),placeholder:"Insira o código",disabled:!!t||c})]}),t?o.jsxs(K,{type:"button",variant:"destructive",onClick:p,className:"h-10",children:[o.jsx(Ji,{className:"mr-2 h-4 w-4"})," Remover"]}):o.jsx(K,{type:"button",onClick:f,disabled:c||!a,className:"h-10",children:c?o.jsx(ce,{className:"h-4 w-4 animate-spin"}):"Aplicar"})]}),s&&o.jsxs("p",{className:`text-sm ${t?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"} flex items-center`,children:[t?o.jsx(ta,{className:"mr-1 h-4 w-4"}):o.jsx(Ji,{className:"mr-1 h-4 w-4"}),s]})]})]})},kU=({customerPoints:e,pointsToRedeem:t,setPointsToRedeem:r,subtotal:n,couponDiscount:a,valorRealPorPonto:i,onPointsChange:s})=>{const[l,c]=S.useState(""),[u,d]=S.useState(!1),{toast:f}=ze(),[p,h]=S.useState(0);S.useEffect(()=>{const m=parseInt(t,10);if(!isNaN(m)&&m>0&&m<=e){const x=m*i,b=Math.max(0,n-a);h(Math.min(x,b))}else h(0)},[t,e,i,n,a]);const g=()=>{const m=parseInt(t,10);if(isNaN(m)||m<=0){c("Insira uma quantidade válida de pontos."),f({title:"Pontos Inválidos",description:"Insira uma quantidade válida de pontos.",variant:"destructive"});return}if(m>e){c(`Você possui apenas ${e} pontos.`),f({title:"Pontos Insuficientes",description:`Você possui apenas ${e} pontos.`,variant:"destructive"});return}const x=m*i,b=Math.max(0,n-a);if(x>b){c(`O desconto dos pontos (${R(x)}) não pode exceder o valor restante do pedido (${R(b)}).`),f({title:"Desconto Excede Valor",description:"O desconto dos pontos não pode exceder o valor restante do pedido.",variant:"destructive"});return}h(x),c(`${m} pontos aplicados! Desconto de ${R(x)}.`),f({title:"Pontos Aplicados!",description:`Desconto de ${R(x)} adicionado.`}),s()},v=()=>{r(""),h(0),c(""),s(),f({title:"Desconto por Pontos Removido"})};return S.useEffect(()=>{const m=parseInt(t,10);(isNaN(m)||m<=0||m>e)&&p===0&&l.includes("aplicados")&&c("")},[t,e,p,l]),e<=0?null:o.jsxs(ae,{children:[o.jsxs(ve,{children:[o.jsxs(me,{className:"text-md flex items-center",children:[o.jsx(A1,{className:"mr-2 text-primary"})," Resgatar Pontos"]}),o.jsxs(We,{children:["Você tem ",e," pontos. Cada ponto vale ",R(i),"."]})]}),o.jsxs(ie,{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-end gap-2",children:[o.jsxs("div",{className:"flex-grow grid gap-1.5",children:[o.jsx(re,{htmlFor:"pointsToRedeem",children:"Pontos a Resgatar"}),o.jsx(fe,{id:"pointsToRedeem",type:"number",value:t,onChange:m=>{const x=m.target.value;x===""||/^\d+$/.test(x)&&parseInt(x,10)<=e&&parseInt(x,10)>=0?r(x):/^\d+$/.test(x)&&parseInt(x,10)>e&&r(e.toString())},placeholder:`Máx: ${e}`,disabled:p>0&&t!==""||u,max:e,min:"0"})]}),p>0&&t!==""?o.jsxs(K,{type:"button",variant:"destructive",onClick:v,children:[o.jsx(Ji,{className:"mr-2 h-4 w-4"})," Remover Pontos"]}):o.jsx(K,{type:"button",onClick:g,disabled:u||!t||parseInt(t,10)<=0,children:u?o.jsx(ce,{className:"h-4 w-4 animate-spin"}):"Resgatar"})]}),l&&o.jsxs("p",{className:`text-sm ${p>0&&t!==""?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"} flex items-center`,children:[p>0&&t!==""?o.jsx(ta,{className:"mr-1 h-4 w-4"}):o.jsx(Ji,{className:"mr-1 h-4 w-4"}),l]})]})]})},MU=({value:e,onChange:t,disabled:r=!1})=>{const n=a=>{const i=a.target.value.replace(/[^\d,]/g,"").replace(",","."),s=parseFloat(i)||0;s<=999.99&&t(s)};return o.jsxs("div",{className:"space-y-2",children:[o.jsxs(re,{htmlFor:"delivery-fee",className:"flex items-center gap-2",children:[o.jsx(wr,{className:"h-4 w-4"}),"Taxa de Entrega"]}),o.jsxs("div",{className:"relative",children:[o.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground",children:"R$"}),o.jsx(fe,{id:"delivery-fee",type:"text",value:e>0?e.toFixed(2).replace(".",","):"",onChange:n,placeholder:"0,00",className:"pl-10",disabled:r})]}),e>0&&o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Taxa de entrega: ",R(e)]})]})},IU=({totalValue:e,onPaymentsChange:t,initialPayments:r=[],isMultipleEnabled:n=!1,onMultipleToggle:a})=>{const[i,s]=S.useState([]),[l,c]=S.useState(n),[u,d]=S.useState(!1);S.useEffect(()=>{u||(r.length>0?(s(r),c(r.length>1||n)):(s([{id:1,forma_pagamento:"dinheiro",valor:n?"":e||"",observacoes:""}]),c(n)),d(!0))},[r,n,e,u]),S.useEffect(()=>{var N;if(u&&!l&&i.length===1){const j=parseFloat(((N=i[0])==null?void 0:N.valor)||0),y=parseFloat(e||0);if(Math.abs(j-y)>.01){const w=[{...i[0],valor:e||""}];s(w),t(w)}}},[e,l,u]);const f=S.useCallback(N=>{if(c(N),!N&&i.length>0){const y=[{...i[0],valor:e||""}];s(y),t(y)}a(N)},[i,e,t,a]);S.useCallback(N=>{s(N),t(N)},[t]);const p=S.useCallback(()=>{const N={id:Date.now(),forma_pagamento:"dinheiro",valor:"",observacoes:""},j=[...i,N];s(j),t(j)},[i,t]),h=S.useCallback(N=>{if(i.length<=1)return;const j=i.filter(y=>y.id!==N);s(j),t(j)},[i,t]),g=S.useCallback((N,j,y)=>{const w=i.map(_=>_.id===N?{..._,[j]:y}:_);s(w),t(w)},[i,t]),v=S.useCallback(()=>i.reduce((N,j)=>{const y=parseFloat(j.valor)||0;return N+y},0),[i]),m=S.useCallback(()=>e-v(),[e,v]),x=S.useCallback(()=>Math.abs(m())<.01,[m]),b=N=>{switch(N){case"dinheiro":return o.jsx(Fr,{className:"h-4 w-4"});case"cartao":return o.jsx(Oo,{className:"h-4 w-4"});case"pix":return o.jsx(Xv,{className:"h-4 w-4"});default:return o.jsx(Oo,{className:"h-4 w-4"})}};return o.jsxs(ae,{className:"w-full",children:[o.jsx(ve,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(me,{className:"text-lg font-semibold",children:"Forma de Pagamento"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(re,{htmlFor:"multiple-payment",className:"text-sm",children:"Múltiplas formas"}),o.jsx(Za,{id:"multiple-payment",checked:l,onCheckedChange:f})]})]})}),o.jsxs(ie,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4 p-3 bg-muted/50 rounded-lg",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Pedido"}),o.jsx("div",{className:"font-semibold text-primary",children:R(e)})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Pago"}),o.jsx("div",{className:`font-semibold ${x()?"text-green-600":"text-orange-600"}`,children:R(v())})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-sm text-muted-foreground",children:"Restante"}),o.jsx("div",{className:`font-semibold ${x()?"text-green-600":m()>0?"text-red-600":"text-blue-600"}`,children:R(Math.abs(m()))})]})]}),!x()&&o.jsxs("div",{className:`flex items-center gap-2 p-3 rounded-lg ${m()>0?"bg-red-50 text-red-700":"bg-blue-50 text-blue-700"}`,children:[o.jsx(Od,{className:"h-4 w-4"}),o.jsx("span",{className:"text-sm",children:m()>0?`Faltam ${R(m())} para completar o pagamento`:`Excesso de ${R(Math.abs(m()))} no pagamento`})]}),o.jsx("div",{className:"space-y-3",children:i.map((N,j)=>o.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg",children:[o.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-3 gap-3",children:[o.jsxs("div",{children:[o.jsx(re,{className:"text-sm font-medium",children:"Forma"}),o.jsxs(Et,{value:N.forma_pagamento,onValueChange:y=>g(N.id,"forma_pagamento",y),children:[o.jsx(jt,{children:o.jsxs("div",{className:"flex items-center gap-2",children:[b(N.forma_pagamento),o.jsx(Ct,{})]})}),o.jsx(Nt,{children:pt.map(y=>o.jsx(Me,{value:y.id,children:o.jsxs("div",{className:"flex items-center gap-2",children:[b(y.id),y.name]})},y.id))})]})]}),o.jsxs("div",{children:[o.jsx(re,{className:"text-sm font-medium",children:"Valor"}),o.jsx(fe,{type:"number",step:"0.01",min:"0",placeholder:"0,00",value:N.valor,onChange:y=>g(N.id,"valor",y.target.value),disabled:!l&&i.length===1})]}),o.jsxs("div",{children:[o.jsx(re,{className:"text-sm font-medium",children:"Observações"}),o.jsx(fe,{placeholder:"Observações (opcional)",value:N.observacoes,onChange:y=>g(N.id,"observacoes",y.target.value)})]})]}),l&&o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsxs(nt,{variant:"outline",className:"text-xs",children:["#",j+1]}),i.length>1&&o.jsx(K,{type:"button",variant:"outline",size:"icon",className:"h-8 w-8 text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>h(N.id),children:o.jsx(dr,{className:"h-4 w-4"})})]})]},N.id))}),l&&o.jsxs(K,{type:"button",variant:"outline",onClick:p,className:"w-full border-dashed",children:[o.jsx(Lc,{className:"h-4 w-4 mr-2"}),"Adicionar Forma de Pagamento"]}),l&&i.length>1&&o.jsxs("div",{className:"mt-4 p-3 bg-muted rounded-lg",children:[o.jsx("h4",{className:"font-semibold text-sm mb-2",children:"Resumo do Pagamento:"}),o.jsxs("div",{className:"space-y-1",children:[i.map((N,j)=>{const y=pt.find(_=>_.id===N.forma_pagamento),w=parseFloat(N.valor)||0;return w<=0?null:o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsxs("span",{className:"flex items-center gap-2",children:[b(N.forma_pagamento),y==null?void 0:y.name,N.observacoes&&o.jsxs("span",{className:"text-muted-foreground",children:["(",N.observacoes,")"]})]}),o.jsx("span",{className:"font-medium",children:R(w)})]},N.id)}),o.jsx("div",{className:"border-t pt-1 mt-1",children:o.jsxs("div",{className:"flex justify-between text-sm font-semibold",children:[o.jsx("span",{children:"Total:"}),o.jsx("span",{className:x()?"text-green-600":"text-red-600",children:R(v())})]})})]})]})]})]})},hd={async getByPhone(e){const t=e.replace(/\D/g,"");console.log("[CustomerService] Buscando cliente por telefone:",t);try{const r=await Y.get(`/customers/phone/${t}`);return console.log("[CustomerService] Cliente encontrado:",r.customer),r.customer}catch(r){throw r.message.includes("404")?console.log("[CustomerService] Cliente não encontrado (normal para novos clientes)"):console.error("[CustomerService] Erro ao buscar cliente por telefone:",r.message),r}},async getAllCustomers(){try{return(await Y.get("/customers")).customers}catch(e){throw console.error("[CustomerService] Erro ao buscar todos os clientes:",e.message),e}},async getById(e){try{return(await Y.get(`/customers/${e}`)).customer}catch(t){throw console.error(`[CustomerService] Erro ao buscar cliente por ID ${e}:`,t.message),t}},async createCustomer(e){try{const t=await Y.post("/customers",e);return console.log("[CustomerService] Cliente criado:",t.customer),t.customer}catch(t){throw console.error("[CustomerService] Erro ao criar cliente:",t.message),t}},async updateCustomer(e,t){try{const r=await Y.patch(`/customers/${e}`,t);return console.log("[CustomerService] Cliente atualizado:",r.customer),r.customer}catch(r){throw console.error(`[CustomerService] Erro ao atualizar cliente ${e}:`,r.message),r}},async deleteCustomer(e){try{return await Y.delete(`/customers/${e}`),console.log("[CustomerService] Cliente deletado:",e),{success:!0}}catch(t){throw console.error(`[CustomerService] Erro ao deletar cliente ${e}:`,t.message),t}},async getCustomerPoints(e){try{return(await Y.get(`/customers/${e}/points`)).points||0}catch(t){return console.error(`[CustomerService] Erro ao buscar pontos do cliente ${e}:`,t.message),0}},async manageCustomer(e){console.log("[CustomerService] manageCustomer chamado com:",e);try{const t=await Y.post("/customers/manage",e);return console.log("[CustomerService] Cliente gerenciado com sucesso:",t.customer),t.customer.id}catch(t){throw console.error("[CustomerService] Erro em manageCustomer:",t),new Error(`Falha ao gerenciar cliente: ${t.message}`)}}},DU=({isOpen:e,onOpenChange:t,onSubmit:r,initialOrderData:n,allProductsData:a,isSubmittingOrder:i})=>{var Qf,ep;const[s,l]=S.useState(""),[c,u]=S.useState(""),[d,f]=S.useState(""),[p,h]=S.useState(null),[g,v]=S.useState(0),[m,x]=S.useState(!1),[b,N]=S.useState("mesa"),[j,y]=S.useState("1"),[w,_]=S.useState([{itemType:"pizza",flavor:"",size:"",border:"none",borderPrice:0,quantity:1,unitPrice:0,totalPrice:0,productId:null}]),[P,O]=S.useState(!1),[k,A]=S.useState([]),[T,z]=S.useState(((Qf=pt[0])==null?void 0:Qf.id)||""),[$,M]=S.useState(""),[L,V]=S.useState(((ep=Cr.find(je=>je.id==="pendente"))==null?void 0:ep.id)||"pendente"),[H,C]=S.useState(""),[X,I]=S.useState(0),[W,B]=S.useState(0),[Q,ee]=S.useState(0),[ge,we]=S.useState(0),[pe,D]=S.useState(0),[q,G]=S.useState(null),[F,he]=S.useState(""),[le,be]=S.useState(!1),{toast:ue}=ze(),Ee=S.useRef(null),Ze=S.useRef(null),_t=S.useRef(null),Pr=.1,Dt=.5;S.useEffect(()=>{const je=()=>{const Ce=Ee.current,dt=Ze.current,Qt=_t.current;Ce&&Ce.value&&!s&&(console.log("[Autofill Detected] Name:",Ce.value),l(Ce.value)),dt&&dt.value&&!c&&(console.log("[Autofill Detected] Phone:",dt.value),u(dt.value)),Qt&&Qt.value&&!d&&(console.log("[Autofill Detected] Address:",Qt.value),f(Qt.value))},Pe=setTimeout(je,100),Be=setInterval(je,500),et=Ce=>{console.log("[Autofill Animation] Started on:",Ce.target.name),setTimeout(je,50)},Or=[Ee.current,Ze.current,_t.current].filter(Boolean);return Or.forEach(Ce=>{Ce&&Ce.addEventListener("animationstart",et)}),()=>{clearTimeout(Pe),clearInterval(Be),Or.forEach(Ce=>{Ce&&Ce.removeEventListener("animationstart",et)})}},[s,c,d]);const st=S.useCallback(()=>{const je=w.reduce((Ce,dt)=>Ce+(dt.totalPrice||0),0),Pe=b==="delivery"&&parseFloat(W)||0;let Be=0;q&&je>0&&(q.tipo_desconto==="percentual"?Be=je*(parseFloat(q.valor_desconto)/100):Be=parseFloat(q.valor_desconto));let et=0;if(F&&g>0){const Ce=parseInt(F,10);if(Ce>0&&Ce<=g){const dt=je-Be,Qt=Ce*Dt;et=Math.min(dt,Qt)}}const Or=je+Pe-Be-et;I(je),ee(Be),we(et),D(Or>0?Or:0)},[w,W,q,F,g,b]),Xr=S.useCallback(()=>{if(!P)return!0;const je=k.reduce((Pe,Be)=>Pe+(parseFloat(Be.valor)||0),0);return Math.abs(je-pe)<.01},[P,k,pe]),Pt=S.useCallback(je=>{var Pe;A(je),je.length===1&&(z(je[0].forma_pagamento),M(((Pe=je[0].valor)==null?void 0:Pe.toString())||""))},[]),Yr=S.useCallback(je=>{var Pe;if(O(je),!je){const Be=k.length>0?k[0]:{id:1,forma_pagamento:T,valor:pe,observacoes:""};A([Be]),z(Be.forma_pagamento),M(((Pe=Be.valor)==null?void 0:Pe.toString())||pe.toString())}},[k,T,pe]);S.useEffect(()=>{st()},[w,q,F,W,st]);const Jf=S.useCallback(()=>{var je,Pe,Be;l(""),u(""),f(""),h(null),v(0),N("delivery"),y(""),_([{itemType:"pizza",flavor:"",size:"",border:"none",borderPrice:0,quantity:1,unitPrice:0,totalPrice:0,productId:null}]),V(((je=Cr.find(et=>et.id==="pendente"))==null?void 0:je.id)||"pendente"),z(((Pe=pt[0])==null?void 0:Pe.id)||""),C(""),I(0),B(0),ee(0),we(0),D(0),G(null),he(""),M(""),O(!1),A([{id:1,forma_pagamento:((Be=pt[0])==null?void 0:Be.id)||"dinheiro",valor:"",observacoes:""}]),be(!1)},[]);S.useEffect(()=>{var je,Pe,Be;if(e)if(n){l(n.customerName||""),u(n.customerPhone||""),f(n.customerAddress||""),h(n.customerId||null),C(n.entregador_nome||""),N(n.tipo_pedido||"delivery"),y(n.numero_mesa?n.numero_mesa.toString():"");const et=n.multiplos_pagamentos||!1;if(O(et),et&&n.pagamentos&&n.pagamentos.length>0){const Ce=n.pagamentos.map((dt,Qt)=>{var Qa;return{id:dt.id||Date.now()+Qt,forma_pagamento:dt.forma_pagamento||"dinheiro",valor:((Qa=dt.valor)==null?void 0:Qa.toString())||"",observacoes:dt.observacoes||""}});A(Ce)}else A([{id:1,forma_pagamento:n.forma_pagamento||"dinheiro",valor:((je=n.valor_pago)==null?void 0:je.toString())||"",observacoes:""}]);n.customerId?Gj(n.customerId):v(0);const Or=n.items&&n.items.length>0?n.items.map(Ce=>({...Ce,itemType:Ce.itemType||(Ce.flavor?"pizza":"other"),unitPrice:parseFloat(Ce.unitPrice)||0,totalPrice:parseFloat(Ce.totalPrice)||0})):[{itemType:"pizza",flavor:"",size:"",quantity:1,unitPrice:0,totalPrice:0,productId:null}];_(Or),V(n.status_pedido||((Pe=Cr.find(Ce=>Ce.id==="pendente"))==null?void 0:Pe.id)||"pendente"),z(n.forma_pagamento||((Be=pt[0])==null?void 0:Be.id)||""),M(n.valor_pago?n.valor_pago.toString():""),n.cupom_id&&n.cupom_codigo?G({id:n.cupom_id,codigo:n.cupom_codigo,tipo_desconto:n.cupom_tipo_desconto,valor_desconto:n.cupom_valor_desconto}):G(null),n.pontos_resgatados>0?he(n.pontos_resgatados.toString()):he(""),B(n.taxa_entrega||0)}else Jf(),setTimeout(()=>{var et;return(et=Ee.current)==null?void 0:et.focus()},100)},[n,e,Jf]);const Wj=async()=>{if(!c)return;const je=c.replace(/\D/g,"");if(!(!je||je.length<8)){be(!0);try{const Pe=await hd.getByPhone(je);Pe&&(l(Pe.nome),f(Pe.endereco||""),h(Pe.id),v(Pe.pontos_atuais||0),x(!1),ue({title:"Cliente Encontrado",description:`Dados de ${Pe.nome} carregados.`}))}catch{console.log("[CustomerService] Cliente não encontrado, será cadastrado como novo"),f(""),h(null),v(0),x(!0)}finally{be(!1)}}},Gj=async je=>{if(!je){v(0);return}try{const Pe=await hd.getCustomerPoints(je);v(Pe||0)}catch(Pe){console.error("Erro ao buscar pontos do cliente:",Pe),v(0)}},Hj=async je=>{var Ce,dt,Qt,Qa,tp;je.preventDefault();const Pe=((Ce=Ee.current)==null?void 0:Ce.value)||s,Be=((dt=Ze.current)==null?void 0:dt.value)||c,et=((Qt=_t.current)==null?void 0:Qt.value)||d;if(console.log("[Submit Debug] State vs DOM:",{stateName:s,domName:(Qa=Ee.current)==null?void 0:Qa.value,syncedName:Pe,statePhone:c,domPhone:(tp=Ze.current)==null?void 0:tp.value,syncedPhone:Be}),Pe!==s&&l(Pe),Be!==c&&u(Be),et!==d&&f(et),!Pe){ue({title:"Erro de Validação",description:"Nome do cliente é obrigatório.",variant:"destructive"});return}const Or=Be?Be.replace(/\D/g,""):"";if(b==="delivery"&&!et){ue({title:"Erro de Validação",description:"Endereço é obrigatório para pedidos de delivery.",variant:"destructive"});return}if(b==="mesa"&&(!j||j==="")){ue({title:"Erro de Validação",description:"Número da mesa é obrigatório para pedidos de mesa.",variant:"destructive"});return}if(w.length===0||w.every(Xe=>!Xe.productId&&!Xe.flavor)){ue({title:"Erro de Validação",description:"Adicione pelo menos um item válido ao pedido.",variant:"destructive"});return}if(w.some(Xe=>{if(Xe.itemType!=="pizza")return!1;const Ql=!Xe.useMultipleFlavors&&!Xe.flavor,ec=Xe.useMultipleFlavors&&(!Xe.multipleFlavors||Xe.multipleFlavors.filter(Kj=>Kj.nome).length===0);return Ql||ec||!Xe.size||!Xe.quantity||Xe.quantity<1})){ue({title:"Erro de Validação",description:"Todas as pizzas devem ter sabor, tamanho e quantidade válidos.",variant:"destructive"});return}if(w.some(Xe=>Xe.itemType!=="pizza"&&(!Xe.productId||Xe.quantity<1))){ue({title:"Erro de Validação",description:"Todos os outros itens (bebidas, etc.) devem ser selecionados e ter quantidade válida.",variant:"destructive"});return}if(!Xr()){ue({title:"Erro de Validação",description:"A soma dos valores dos pagamentos deve ser igual ao total do pedido.",variant:"destructive"});return}try{const Xe=parseFloat($)||0,Ql=Xe>pe?Xe-pe:0,ec=Math.floor(pe*Pr),rp=ge>0?parseInt(F,10):0;await r({customerName:Pe,customerPhone:Or,customerAddress:b==="delivery"?et:null,customerId:p,tipo_pedido:b,numero_mesa:b==="mesa"?parseInt(j,10):null,items:w,status_pedido:L,forma_pagamento:T,entregador_nome:H,subtotal:X,taxa_entrega:W,cupom_id:(q==null?void 0:q.id)||null,desconto_aplicado:Q,pontos_resgatados:rp,total:pe,pontos_ganhos:ec,valor_pago:Xe,troco_calculado:Ql,multiplos_pagamentos:P,pagamentos:k})}catch{}};return o.jsx(Nr,{open:e,onOpenChange:je=>{i||(t(je),je||x(!1))},children:o.jsxs(sr,{className:"max-w-3xl bg-card",children:[o.jsxs(lr,{children:[o.jsxs(cr,{className:"text-2xl text-primary",children:[n?"Editar Pedido":"Registrar Novo Pedido",m&&o.jsxs("span",{className:"ml-2 text-sm text-green-600 font-normal inline-flex items-center",children:[o.jsx(Zi,{className:"h-4 w-4 mr-1"}),"Novo Cliente"]})]}),o.jsxs(ur,{children:["Preencha os detalhes do pedido.",m&&" O cliente será cadastrado automaticamente ao salvar."]})]}),o.jsxs("form",{onSubmit:Hj,className:"space-y-6 py-4 max-h-[80vh] overflow-y-auto pr-2",children:[o.jsx(PU,{tipoPedido:b,setTipoPedido:N,numeroMesa:j,setNumeroMesa:y}),o.jsx(_U,{customerName:s,setCustomerName:l,customerPhone:c,setCustomerPhone:u,customerAddress:d,setCustomerAddress:f,onPhoneBlur:Wj,isLoading:le,nameInputRef:Ee,phoneInputRef:Ze,addressInputRef:_t,showAddress:b==="delivery"}),o.jsx(EU,{items:w,setItems:_,allProductsData:a,onItemsChange:st}),o.jsx("hr",{className:"my-6 border-border/50"}),o.jsx(CU,{items:w,setItems:_,allProductsData:a,onItemsChange:st}),b==="delivery"&&o.jsx(TU,{paymentMethod:T,setPaymentMethod:z,delivererName:H,setDelivererName:C}),b==="delivery"&&o.jsx(MU,{value:W,onChange:B}),o.jsx($U,{subtotal:X,appliedCoupon:q,setAppliedCoupon:G,onCouponChange:st}),p&&o.jsx(kU,{customerId:p,customerPoints:g,pointsToRedeem:F,setPointsToRedeem:he,subtotal:X,couponDiscount:Q,valorRealPorPonto:Dt,onPointsChange:st}),o.jsx(IU,{totalValue:pe,onPaymentsChange:Pt,initialPayments:k,isMultipleEnabled:P,onMultipleToggle:Yr}),o.jsxs(Sr,{className:"mt-6 sticky bottom-0 bg-card py-4 border-t",children:[o.jsx(Vn,{asChild:!0,children:o.jsx(K,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:i,children:"Cancelar"})}),o.jsxs(K,{type:"submit",className:"bg-primary hover:bg-primary/90",disabled:i||le,children:[(i||le)&&o.jsx(ce,{className:"mr-2 h-4 w-4 animate-spin"}),n?"Salvar Alterações":"Registrar Pedido"]})]})]})]})})},RU=({orders:e=[],onEdit:t=()=>{},onDelete:r=()=>{},onPrint:n=()=>{},onPrintDelivery:a=()=>{},onPrintKitchen:i=()=>{},actionsComponent:s=null})=>{const l=d=>{const f=Cr.find(p=>p.id===d);return f?o.jsx("span",{className:`px-2 py-1 text-xs font-semibold text-white rounded-full ${f.color}`,children:f.name}):o.jsx("span",{className:"px-2 py-1 text-xs font-semibold text-white rounded-full bg-gray-400",children:"Desconhecido"})},c=d=>d.tipo_pedido==="mesa"?o.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 text-xs font-semibold text-amber-700 bg-amber-100 rounded-full dark:bg-amber-900/30 dark:text-amber-400",children:[o.jsx(Uv,{className:"h-3 w-3"}),"Mesa ",d.numero_mesa]}):o.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 text-xs font-semibold text-blue-700 bg-blue-100 rounded-full dark:bg-blue-900/30 dark:text-blue-400",children:[o.jsx(wr,{className:"h-3 w-3"}),"Delivery"]}),u=d=>{if(d.multiplos_pagamentos&&d.pagamentos&&d.pagamentos.length>0)return o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 text-xs font-semibold text-purple-700 bg-purple-100 rounded-full dark:bg-purple-900/30 dark:text-purple-400",children:[o.jsx(E1,{className:"h-3 w-3"}),d.pagamentos.length," formas"]}),o.jsx("div",{className:"text-xs text-muted-foreground",children:d.pagamentos.map((f,p)=>{const h=f.forma_pagamento==="dinheiro"?"💵":f.forma_pagamento==="cartao"?"💳":f.forma_pagamento==="pix"?"📱":"💰";return o.jsxs("div",{className:"flex justify-between",children:[o.jsxs("span",{children:[h," ",f.forma_pagamento]}),o.jsx("span",{children:R(f.valor)})]},p)})})]});{const f=pt.find(h=>h.id===d.paymentMethod),p=d.paymentMethod==="dinheiro"?o.jsx(Fr,{className:"h-3 w-3"}):d.paymentMethod==="cartao"?o.jsx(Oo,{className:"h-3 w-3"}):d.paymentMethod==="pix"?o.jsx(Xv,{className:"h-3 w-3"}):o.jsx(Oo,{className:"h-3 w-3"});return o.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 text-xs font-semibold text-green-700 bg-green-100 rounded-full dark:bg-green-900/30 dark:text-green-400",children:[p,(f==null?void 0:f.name)||d.paymentMethodName||"N/A"]})}};return o.jsx("div",{className:"overflow-x-auto",children:o.jsxs($t,{children:[o.jsx(kt,{children:o.jsxs(Le,{className:"hover:bg-muted/20",children:[o.jsx(te,{className:"text-foreground/90",children:"ID"}),o.jsx(te,{className:"text-foreground/90",children:"Tipo"}),o.jsx(te,{className:"text-foreground/90",children:"Cliente"}),o.jsx(te,{className:"text-foreground/90",children:"Valor Total"}),o.jsx(te,{className:"text-foreground/90",children:"Pagamento"}),o.jsx(te,{className:"text-foreground/90",children:"Entregador"}),o.jsx(te,{className:"text-foreground/90",children:"Status"}),o.jsx(te,{className:"text-foreground/90",children:"Data"}),o.jsx(te,{className:"text-right text-foreground/90",children:"Ações"})]})}),o.jsx(Mt,{children:e.map(d=>o.jsxs("tr",{className:"hover:bg-muted/30 transition-colors",children:[o.jsxs(J,{className:"font-mono text-xs text-foreground/80",children:["#",String(d.id).slice(-5).toUpperCase()]}),o.jsx(J,{children:c(d)}),o.jsx(J,{className:"font-medium text-foreground",children:d.customerName}),o.jsx(J,{className:"text-foreground/90",children:R(d.totalValue)}),o.jsx(J,{children:u(d)}),o.jsx(J,{className:"text-foreground/90",children:d.tipo_pedido==="mesa"?"-":d.delivererName||d.entregador_nome||"N/A"}),o.jsx(J,{children:l(d.status)}),o.jsx(J,{className:"text-foreground/80 text-sm",children:new Date(d.createdAt).toLocaleDateString()}),o.jsx(J,{className:"text-right",children:d.actions?d.actions:o.jsxs("div",{className:"flex space-x-2",children:[o.jsx(K,{onClick:()=>t(d),size:"sm",variant:"outline",className:"h-8",children:o.jsx(Hv,{className:"h-4 w-4"})}),o.jsx(K,{onClick:()=>n(d),size:"sm",variant:"outline",className:"h-8",children:o.jsx(tl,{className:"h-4 w-4"})}),o.jsx(K,{onClick:()=>a(d),size:"sm",variant:"outline",className:"h-8 bg-blue-50 hover:bg-blue-100 border-blue-200 text-blue-700",title:"Imprimir para entregador",children:o.jsx(wr,{className:"h-4 w-4"})}),o.jsx(K,{onClick:()=>i(d),size:"sm",variant:"outline",className:"h-8 bg-orange-50 hover:bg-orange-100 border-orange-200 text-orange-700",title:"Imprimir para cozinha",children:o.jsx(qv,{className:"h-4 w-4"})}),o.jsx(K,{onClick:()=>r(d.id),size:"sm",variant:"outline",className:"h-8 border-red-200 text-red-600 hover:bg-red-50",children:o.jsx(dr,{className:"h-4 w-4"})})]})})]},d.id))}),e.length===0&&o.jsx(En,{children:"Nenhum pedido encontrado."}),e.length>5&&o.jsxs(En,{children:["Total de ",e.length," pedidos registrados."]})]})})},LU=({order:e,onEdit:t,onDelete:r,onPrint:n,onPrintDelivery:a,onPrintKitchen:i})=>{const s=()=>{console.log("[DefaultActionsComponent] Botão deletar clicado, pedido:",e.id),r(e.id)};return o.jsxs(o.Fragment,{children:[o.jsx(K,{variant:"ghost",size:"icon",onClick:()=>n(e),className:"text-sky-500 hover:text-sky-700 hover:bg-sky-100 dark:hover:bg-sky-800/50",title:"Imprimir cupom",children:o.jsx(tl,{className:"h-4 w-4"})}),o.jsx(K,{variant:"ghost",size:"icon",onClick:()=>a(e),className:"text-blue-500 hover:text-blue-700 hover:bg-blue-100 dark:hover:bg-blue-800/50",title:"Imprimir para entregador",children:o.jsx(wr,{className:"h-4 w-4"})}),o.jsx(K,{variant:"ghost",size:"icon",onClick:()=>i(e),className:"text-orange-500 hover:text-orange-700 hover:bg-orange-100 dark:hover:bg-orange-800/50",title:"Imprimir para cozinha",children:o.jsx(qv,{className:"h-4 w-4"})}),o.jsx(K,{variant:"ghost",size:"icon",onClick:()=>t(e),className:"text-green-500 hover:text-green-700 hover:bg-green-100 dark:hover:bg-green-800/50",title:"Editar pedido",children:o.jsx(Dn,{className:"h-4 w-4"})}),o.jsx(K,{variant:"ghost",size:"icon",onClick:s,className:"text-red-500 hover:text-red-700 hover:bg-red-100 dark:hover:bg-red-800/50",title:"Deletar pedido",children:o.jsx(dr,{className:"h-4 w-4"})})]})},FU=({orders:e,searchTerm:t,setSearchTerm:r,onEdit:n,onDelete:a,onPrint:i,onPrintDelivery:s,onPrintKitchen:l,isLoading:c,fetchOrders:u})=>{const[d,f]=S.useState(null),{toast:p}=ze(),h=async m=>{f(m);try{const x=e.find(b=>b.id===m);await Lr.updateOrderStatus(m,"entregue"),p({title:"Sucesso!",description:"Pedido marcado como entregue."}),u(),window.dispatchEvent(new CustomEvent("orderStatusChanged",{detail:{orderId:m,newStatus:"entregue",orderType:(x==null?void 0:x.tipo_pedido)||"delivery",orderValue:(x==null?void 0:x.total)||0}})),window.dispatchEvent(new CustomEvent("orderDelivered",{detail:{orderId:m,orderType:(x==null?void 0:x.tipo_pedido)||"delivery",orderValue:(x==null?void 0:x.total)||0}})),window.dispatchEvent(new CustomEvent("orderSaved")),window.dispatchEvent(new CustomEvent("cashUpdated",{detail:{tipo:(x==null?void 0:x.tipo_pedido)||"delivery",action:"order_delivered"}})),console.log("✅ [OrdersList] Pedido marcado como entregue:",{orderId:m,orderType:x==null?void 0:x.tipo_pedido,events:["orderStatusChanged","orderDelivered","orderSaved","cashUpdated"]})}catch(x){p({title:"Erro ao atualizar status",description:x.message,variant:"destructive"})}finally{f(null)}},g=async m=>{f(m);try{const x=e.find(b=>b.id===m);await Lr.updateOrderStatus(m,"retirado"),p({title:"Sucesso!",description:"Pedido marcado como retirado."}),u(),window.dispatchEvent(new CustomEvent("orderStatusChanged",{detail:{orderId:m,newStatus:"retirado",orderType:(x==null?void 0:x.tipo_pedido)||"mesa",orderValue:(x==null?void 0:x.total)||0}})),window.dispatchEvent(new CustomEvent("orderSaved")),console.log("✅ [OrdersList] Pedido marcado como retirado:",{orderId:m,orderType:x==null?void 0:x.tipo_pedido,events:["orderStatusChanged","orderSaved"]})}catch(x){p({title:"Erro ao atualizar status",description:x.message,variant:"destructive"})}finally{f(null)}},v=e.map(m=>({...m,actions:o.jsxs("div",{className:"flex items-center justify-end space-x-1",children:[m.tipo_pedido!=="mesa"&&m.status!=="entregue"&&m.status!=="retirado"&&m.status!=="cancelado"&&o.jsxs(K,{variant:"outline",size:"sm",onClick:()=>h(m.id),disabled:d===m.id,className:"text-green-600 border-green-600 hover:bg-green-100 hover:text-green-700 dark:hover:bg-green-700/20",children:[d===m.id?o.jsx(ce,{className:"h-4 w-4 animate-spin mr-1"}):o.jsx(op,{className:"h-4 w-4 mr-1"}),"Entregue"]}),m.tipo_pedido==="mesa"&&m.status!=="entregue"&&m.status!=="retirado"&&m.status!=="fechada"&&m.status!=="cancelado"&&o.jsxs(K,{variant:"outline",size:"sm",onClick:()=>g(m.id),disabled:d===m.id,className:"text-purple-600 border-purple-600 hover:bg-purple-100 hover:text-purple-700 dark:hover:bg-purple-700/20",children:[d===m.id?o.jsx(ce,{className:"h-4 w-4 animate-spin mr-1"}):o.jsx(op,{className:"h-4 w-4 mr-1"}),"Retirado"]}),o.jsx(LU,{order:m,onEdit:n,onDelete:a,onPrint:i,onPrintDelivery:s,onPrintKitchen:l})]})}));return o.jsxs(ae,{className:"shadow-xl bg-card/80 backdrop-blur-sm",children:[o.jsx(ve,{children:o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[o.jsxs("div",{children:[o.jsx(me,{className:"text-2xl font-bold text-primary",children:"Lista de Pedidos"}),o.jsx(We,{children:"Visualize e gerencie todos os pedidos registrados."})]}),o.jsxs("div",{className:"relative w-full md:w-1/3",children:[o.jsx(An,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),o.jsx(fe,{type:"search",placeholder:"Buscar por cliente ou ID...",value:t,onChange:m=>r(m.target.value),className:"pl-10 bg-background/70"})]})]})}),o.jsx(ie,{children:c&&e.length===0?o.jsxs("div",{className:"flex justify-center items-center h-64",children:[o.jsx(ce,{className:"h-12 w-12 animate-spin text-primary"}),o.jsx("p",{className:"ml-4 text-lg text-muted-foreground",children:"Carregando pedidos..."})]}):!c&&e.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center",children:[o.jsx(vt,{className:"w-16 h-16 text-yellow-500 mb-4"}),o.jsx("h2",{className:"text-xl font-semibold text-foreground mb-2",children:"Nenhum pedido encontrado"}),o.jsx("p",{className:"text-muted-foreground max-w-md",children:t?`Nenhum pedido corresponde à sua busca por "${t}".`:'Ainda não há pedidos registrados. Clique em "Novo Pedido" para começar.'})]}):o.jsx(RU,{orders:v,onEdit:n,onDelete:a,onPrint:i,onPrintDelivery:s,onPrintKitchen:l})})]})},zU=()=>o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold tracking-tight text-foreground",children:"Gerenciamento de Pedidos"}),o.jsx("p",{className:"text-muted-foreground",children:"Registre, acompanhe e gerencie os pedidos dos clientes."})]}),bv=(e,t)=>{try{const r=u=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(u||0),n=u=>u?new Date(u).toLocaleString("pt-BR"):"N/A";let a=`
PIT STOP PIZZARIA
------------------------------
PEDIDO: #${String(e.id||"").slice(-5).toUpperCase()||"N/A"}
DATA: ${n(e.orderDate||e.createdAt)}
CLIENTE: ${e.customerName||"N/A"}
TELEFONE: ${e.customerPhone||"N/A"}${e.tipo_pedido==="mesa"?`
MESA: ${e.numero_mesa||"N/A"}`:`
ENDEREÇO: ${e.customerAddress||"Rua casa"}`}
------------------------------
ITENS DO PEDIDO:

`;const i=[],s=[],l=[],c=[];if(e.items&&e.items.length>0?(e.items.forEach(u=>{var d,f;u.itemType==="pizza"?(i.push(u),u.border&&u.border!=="none"&&u.borderPrice>0&&s.push({...u,borderName:u.border==="salgada"?"Borda Salgada":u.border==="doce"?"Borda Doce":u.border,borderPrice:u.borderPrice})):u.category==="bebida"||(d=u.productName)!=null&&d.toLowerCase().includes("refrigerante")||(f=u.productName)!=null&&f.toLowerCase().includes("coca")?l.push(u):c.push(u)}),i.length>0&&(a+=`🍕 PIZZAS:
`,i.forEach(u=>{const d=`${u.flavor} (${u.sizeName||u.size})`,f=`${u.quantity}x ${d}`,p=r(u.totalPrice);a+=`${f}
   Unit.: ${r(u.unitPrice)}  Total: ${p}
`}),a+=`
`),s.length>0&&(a+=`🧀 BORDAS RECHEADAS:
`,s.forEach(u=>{const d=u.quantity*u.borderPrice;a+=`${u.quantity}x ${u.borderName}
`,a+=`   Unit.: ${r(u.borderPrice)}  Total: ${r(d)}
`}),a+=`
`),l.length>0&&(a+=`🥤 BEBIDAS:
`,l.forEach(u=>{const d=`${u.quantity}x ${u.productName}`,f=r(u.totalPrice);a+=`${d}
   Unit.: ${r(u.unitPrice)}  Total: ${f}
`}),a+=`
`),c.length>0&&(a+=`📦 OUTROS ITENS:
`,c.forEach(u=>{const d=`${u.quantity}x ${u.productName}`,f=r(u.totalPrice);a+=`${d}
   Unit.: ${r(u.unitPrice)}  Total: ${f}
`}),a+=`
`)):a+=`Nenhum item no pedido
`,a+=`
------------------------------
SUBTOTAL: ${r(e.subtotal||e.totalValue)}
`,e.desconto_aplicado>0&&(a+=`DESCONTO: -${r(e.desconto_aplicado)}
`,e.cupom_codigo&&(a+=`CUPOM: ${e.cupom_codigo}
`)),e.taxa_entrega>0&&(a+=`TAXA DE ENTREGA: ${r(e.taxa_entrega)}
`),a+=`
TOTAL A PAGAR: ${r(e.totalValue||e.total)}
------------------------------
`,e.multiplos_pagamentos&&e.pagamentos&&e.pagamentos.length>0){a+=`FORMAS DE PAGAMENTO:
`,e.pagamentos.forEach((f,p)=>{const h=parseFloat(f.valor||0);if(h>0){const g=f.forma_pagamento==="dinheiro"?"DINHEIRO":f.forma_pagamento==="cartao"?"CARTÃO":f.forma_pagamento==="pix"?"PIX":f.forma_pagamento.toUpperCase();a+=`${p+1}. ${g}: ${r(h)}`,f.observacoes&&(a+=` (${f.observacoes})`),a+=`
`}});const u=e.pagamentos.reduce((f,p)=>f+parseFloat(p.valor||0),0);if(a+=`TOTAL PAGO: ${r(u)}
`,e.pagamentos.find(f=>f.forma_pagamento==="dinheiro")&&u>(e.totalValue||e.total)){const f=u-(e.totalValue||e.total);a+=`TROCO: ${r(f)}
`}}else a+=`FORMA DE PAGAMENTO: ${e.paymentMethodName||"N/A"}
`,e.amountPaid>0&&(a+=`VALOR PAGO: ${r(e.amountPaid)}
`,e.calculatedChange>0&&(a+=`TROCO: ${r(e.calculatedChange)}
`));return e.tipo_pedido!=="mesa"?a+=`
------------------------------
ENTREGADOR: ${e.delivererName||"Não atribuído"}
`:a+=`
------------------------------`,e.observacoes&&(a+=`OBSERVAÇÕES: ${e.observacoes}
`),a+=`------------------------------
OBRIGADO PELA PREFERÊNCIA!
`,a}catch(r){throw console.error("[PRINT-FORMAT] Erro na formatação:",r),r}},BU=(e,t)=>{var r;try{const n=d=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(d||0),a=d=>d?new Date(d).toLocaleString("pt-BR"):"N/A";let i=`
PIT STOP PIZZARIA
CUPOM PARA ENTREGADOR
==============================
PEDIDO: #${String(e.id||"").slice(-5).toUpperCase()||"N/A"}
DATA: ${a(e.orderDate||e.createdAt)}
==============================

📋 DADOS DO CLIENTE:
Nome: ${e.customerName||"N/A"}
Telefone: ${e.customerPhone||"N/A"}

🏠 ENDEREÇO DE ENTREGA:
${e.customerAddress||"N/A"}

==============================
📦 ITENS PARA ENTREGA:

`;const s=[],l=[],c=[],u=[];if(e.items&&e.items.length>0?(e.items.forEach(d=>{var f,p;d.itemType==="pizza"?(s.push(d),d.border&&d.border!=="none"&&d.borderPrice>0&&l.push({...d,borderName:d.border==="salgada"?"Borda Salgada":d.border==="doce"?"Borda Doce":d.border,borderPrice:d.borderPrice})):d.category==="bebida"||(f=d.productName)!=null&&f.toLowerCase().includes("refrigerante")||(p=d.productName)!=null&&p.toLowerCase().includes("coca")?c.push(d):u.push(d)}),s.length>0&&(i+=`🍕 PIZZAS:
`,s.forEach(d=>{const f=`${d.flavor} (${d.sizeName||d.size})`;i+=`• ${d.quantity}x ${f}
`}),i+=`
`),l.length>0&&(i+=`🧀 BORDAS RECHEADAS:
`,l.forEach(d=>{i+=`• ${d.quantity}x ${d.borderName}
`}),i+=`
`),c.length>0&&(i+=`🥤 BEBIDAS:
`,c.forEach(d=>{i+=`• ${d.quantity}x ${d.productName}
`}),i+=`
`),u.length>0&&(i+=`📦 OUTROS ITENS:
`,u.forEach(d=>{i+=`• ${d.quantity}x ${d.productName}
`}),i+=`
`)):i+=`Nenhum item no pedido

`,i+=`==============================
💰 INFORMAÇÕES DE PAGAMENTO:

TOTAL A COBRAR: ${n(e.totalValue||e.total)}
`,e.taxa_entrega>0&&(i+=`(Inclui taxa de entrega: ${n(e.taxa_entrega)})
`),e.multiplos_pagamentos&&e.pagamentos&&e.pagamentos.length>0){i+=`
FORMAS DE PAGAMENTO:
`,e.pagamentos.forEach((p,h)=>{const g=parseFloat(p.valor||0);if(g>0){const v=p.forma_pagamento==="dinheiro"?"DINHEIRO":p.forma_pagamento==="cartao"?"CARTÃO":p.forma_pagamento==="pix"?"PIX":p.forma_pagamento.toUpperCase();i+=`${h+1}. ${v}: ${n(g)}
`}});const d=e.pagamentos.find(p=>p.forma_pagamento==="dinheiro"),f=e.pagamentos.reduce((p,h)=>p+parseFloat(h.valor||0),0);if(d&&f>(e.totalValue||e.total)){const p=f-(e.totalValue||e.total);i+=`
💸 TROCO A DAR: ${n(p)}
`,i+=`💵 Cliente pagou: ${n(f)}
`}else d&&(i+=`
✅ NÃO PRECISA DE TROCO
`)}else{const d=((r=e.paymentMethodName)==null?void 0:r.toUpperCase())||"N/A";i+=`FORMA DE PAGAMENTO: ${d}
`,e.paymentMethod==="dinheiro"||d.includes("DINHEIRO")?e.amountPaid>0?(i+=`💵 Cliente pagou: ${n(e.amountPaid)}
`,e.calculatedChange>0?i+=`💸 TROCO A DAR: ${n(e.calculatedChange)}
`:i+=`✅ NÃO PRECISA DE TROCO
`):i+=`⚠️  CONFIRMAR VALOR PAGO
`:i+=`✅ PAGAMENTO JÁ REALIZADO
`}return e.observacoes&&(i+=`
📝 OBSERVAÇÕES:
${e.observacoes}
`),i+=`
==============================
⏰ ENTREGUE COM CUIDADO!

Status: SAIU PARA ENTREGA
Entregador: ${e.delivererName||e.entregador_nome||"N/A"}
==============================
`,i}catch(n){throw console.error("[DELIVERY-PRINT-FORMAT] Erro na formatação:",n),n}},qU=(e,t,r=null)=>{try{const n=d=>d?new Date(d).toLocaleString("pt-BR"):"N/A";let a=`
PIT STOP PIZZARIA - PEDIDO PARA PREPARO
========================================
CLIENTE: ${e.customerName||"N/A"}
DATA: ${n(e.orderDate||e.createdAt)}
========================================

`;const i=[],s=[],l=[];e.items&&e.items.length>0?(e.items.forEach(d=>{var f,p;d.itemType==="pizza"?(i.push(d),d.border&&d.border!=="none"&&d.borderPrice>0&&s.push({...d,borderName:d.border==="salgada"?"Salty":d.border==="doce"?"Doce":d.border,borderPrice:d.borderPrice})):d.category!=="bebida"&&!((f=d.productName)!=null&&f.toLowerCase().includes("refrigerante"))&&!((p=d.productName)!=null&&p.toLowerCase().includes("coca"))&&l.push(d)}),i.length>0&&(a+=`🍕 PIZZAS:
`,i.forEach(d=>{var g,v;const f={pequena:"P",pequeno:"P",small:"P",media:"M",médio:"M",medio:"M",medium:"M",grande:"G",large:"G",familia:"F",família:"F",family:"F",gigante:"F"},h=`${f[(g=d.sizeName)==null?void 0:g.toLowerCase()]||f[(v=d.size)==null?void 0:v.toLowerCase()]||d.sizeName||d.size||"M"} ${d.flavor}`;a+=`${d.quantity}x ${h}
`,d.observacoes&&(a+=`OBSERVAÇÕES: ${d.observacoes}
`)}),a+=`
`),s.length>0&&(a+=`🧀 BORDA RECHEADA:
`,s.forEach(d=>{a+=`${d.quantity}x ${d.borderName}
`,d.borderObservacoes&&(a+=`OBSERVAÇÕES: ${d.borderObservacoes}
`)}),a+=`
`),l.length>0&&(a+=`📦 OUTROS ITENS:
`,l.forEach(d=>{a+=`${d.quantity}x ${d.productName}
`,d.observacoes&&(a+=`OBSERVAÇÕES: ${d.observacoes}
`)}),a+=`
`)):a+=`Nenhum item para preparo

`,e.observacoes&&(a+=`📝 OBSERVAÇÕES GERAIS:
${e.observacoes}

`);const u=((d,f)=>{var x;if(f)return{normal:"🚚 PEDIDO DELIVERY",balcao:"🏪 PEDIDO BALCÃO",urgente:"⚡ PEDIDO URGENTE",atrasado:"🚨 PEDIDO ATRASADO"}[f]||"🚚 PEDIDO DELIVERY";if(d.tipo_pedido==="mesa")return"🏪 PEDIDO BALCÃO";const p=new Date(d.orderDate||d.createdAt);if((new Date-p)/(1e3*60)>30)return"🚨 PEDIDO ATRASADO";const v=["urgente","rápido","pressa","emergência"];return((x=d.observacoes)==null?void 0:x.toLowerCase().includes("urgente"))||v.some(b=>{var N;return(N=d.observacoes)==null?void 0:N.toLowerCase().includes(b)})?"⚡ PEDIDO URGENTE":"🚚 PEDIDO DELIVERY"})(e,r);return a+=`========================================
${u}
========================================
`,a}catch(n){throw console.error("[KITCHEN-PRINT-FORMAT] Erro na formatação:",n),n}},wv=(e,t)=>{var r;try{const n=s=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(s||0),a=s=>s?new Date(s).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):new Date().toLocaleString("pt-BR");let i=`PIT STOP PIZZARIA
==============================
Mesa: ${e.numero_mesa}
Data: ${a(e.data_fechamento||new Date)}
`;if((e.cliente_nome||(r=e.cliente)!=null&&r.nome)&&(i+=`Cliente: ${e.cliente_nome||e.cliente.nome}
`),i+=`==============================
`,e.itens&&e.itens.length>0&&(i+=`ITENS CONSUMIDOS:

`,e.itens.forEach(s=>{const l=parseInt(s.quantidade)||1,c=s.sabor_registrado||s.produto_nome||"Item",u=s.tamanho_registrado?` (${s.tamanho_registrado})`:"",d=parseFloat(s.valor_unitario||0),f=d*l;i+=`${l}x ${c}${u}
`,i+=`   Unit: ${n(d)} | Total: ${n(f)}

`}),i+=`------------------------------
`,e.desconto_aplicado&&e.desconto_aplicado>0&&(i+=`Subtotal: ${n(parseFloat(e.total)+parseFloat(e.desconto_aplicado))}
`,i+=`Desconto: -${n(e.desconto_aplicado)}
`,i+=`------------------------------
`),i+=`TOTAL: ${n(e.total)}
`,i+=`==============================
`),e.forma_pagamento){const s=e.forma_pagamento==="dinheiro"?"Dinheiro":e.forma_pagamento==="cartao"?"Cartão":e.forma_pagamento==="pix"?"PIX":e.forma_pagamento;i+=`
Forma de Pagamento: ${s}
`,e.forma_pagamento==="pix"&&(t!=null&&t.pix_chave)&&(i+=`
------------------------------
`,i+=`PAGAMENTO PIX:
`,i+=`Chave: ${t.pix_chave}
`,i+=`Valor: ${n(e.total)}
`,i+=`------------------------------
`)}return i+=`
==============================
`,i+=`Obrigado pela preferência!
`,i+=`==============================
`,i}catch(n){throw console.error("[TABLE-CLOSING-PRINT] Erro na formatação:",n),n}},VU=(e,t,r)=>`
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Pagamento PIX - Mesa ${r}</title>
    <style>
        body { 
            font-family: monospace; 
            font-size: 12pt; 
            margin: 10px;
            text-align: center;
        }
        .header { 
            font-size: 14pt; 
            font-weight: bold; 
            margin-bottom: 20px;
        }
        .qr-container {
            margin: 20px 0;
            border: 2px solid #000;
            padding: 10px;
            display: inline-block;
        }
        .qr-code {
            width: 200px;
            height: 200px;
            margin: 10px auto;
            display: block;
        }
        .pix-info {
            margin: 15px 0;
            font-size: 11pt;
        }
        .instructions {
            margin-top: 20px;
            font-size: 10pt;
            text-align: left;
            max-width: 300px;
            margin-left: auto;
            margin-right: auto;
        }
        .footer {
            margin-top: 30px;
            font-size: 10pt;
            border-top: 1px solid #000;
            padding-top: 10px;
        }
    </style>
</head>
<body>
    <div class="header">
        🍕 PIT STOP PIZZARIA<br>
        PAGAMENTO PIX - MESA ${r}
    </div>
    
    <div class="qr-container">
        <div class="pix-info">
            <strong>💰 Valor a Pagar: R$ ${t}</strong><br>
            Mesa: ${r}
        </div>
        
        ${e?`<img src="${e}" alt="QR Code PIX" class="qr-code" />`:'<div class="qr-code" style="border: 1px dashed #ccc; display: flex; align-items: center; justify-content: center;">QR CODE SERÁ INSERIDO AQUI</div>'}
        
        <div class="pix-info">
            📱 Escaneie com seu app do banco
        </div>
    </div>
    
    <div class="instructions">
        <strong>Instruções:</strong><br>
        1. Abra o app do seu banco<br>
        2. Escaneie o QR Code acima<br>
        3. Confirme o valor e efetue o pagamento<br>
        4. Apresente o comprovante ao garçom<br>
        5. Aguarde a confirmação do recebimento
    </div>
    
    <div class="footer">
        Após o pagamento, informe o garçom<br>
        para liberar a mesa.<br><br>
        <strong>Obrigado pela preferência!</strong>
    </div>
</body>
</html>`,UU=()=>{const[e,t]=S.useState([]),[r,n]=S.useState([]),[a,i]=S.useState(""),[s,l]=S.useState(!1),[c,u]=S.useState(null),[d,f]=S.useState(!1),[p,h]=S.useState(!1),[g,v]=S.useState(!1),[m,x]=S.useState(!1),[b,N]=S.useState(!1),[j,y]=S.useState(null),{toast:w}=ze(),_=S.useCallback(async()=>{v(!0);try{const C=await tn.getAllActiveProducts();n(C||[])}catch(C){w({title:"Erro ao carregar produtos",description:C.message,variant:"destructive"})}finally{v(!1)}},[w]),P=S.useCallback(async()=>{x(!0);try{const X=(await Lr.getAllOrders()).map(I=>{var B,Q,ee,ge,we,pe,D;const W=(I.itens_pedido||[]).reduce((q,G)=>q+parseFloat(G.valor_unitario||0)*parseInt(G.quantidade||0),0);return{id:I.id,customerName:((B=I.cliente_id)==null?void 0:B.nome)||"Cliente não encontrado",customerPhone:((Q=I.cliente_id)==null?void 0:Q.telefone)||"N/A",customerAddress:((ee=I.cliente_id)==null?void 0:ee.endereco)||I.endereco_entrega||"N/A",deliverer:"none",delivererName:I.entregador_nome||"N/A",delivererPhone:null,status:I.status_pedido,paymentMethod:I.forma_pagamento,paymentMethodName:((ge=pt.find(q=>q.id===I.forma_pagamento))==null?void 0:ge.name)||I.forma_pagamento,totalValue:I.total,subtotal:W,taxa_entrega:I.taxa_entrega||0,amountPaid:I.valor_pago,calculatedChange:I.troco_calculado,createdAt:I.created_at,updatedAt:I.updated_at,orderDate:I.data_pedido,cupom_id:I.cupom_id,cupom_codigo:(we=I.cupom_id_data)==null?void 0:we.codigo,cupom_tipo_desconto:(pe=I.cupom_id_data)==null?void 0:pe.tipo_desconto,cupom_valor_desconto:(D=I.cupom_id_data)==null?void 0:D.valor_desconto,desconto_aplicado:I.desconto_aplicado,pontos_ganhos:I.pontos_ganhos,pontos_resgatados:I.pontos_resgatados,observacoes:I.observacoes,tipo_pedido:I.tipo_pedido||"delivery",numero_mesa:I.numero_mesa,entregador_nome:I.entregador_nome,items:I.itens_pedido.map(q=>{var be,ue,Ee,Ze,_t,Pr,Dt,st,Xr;const G=((be=q.produto_id_ref)==null?void 0:be.tipo_produto)==="pizza"||q.sabor_registrado&&q.tamanho_registrado||q.sabores_registrados;let F=q.tamanho_registrado,he=q.valor_unitario;const le=q.sabores_registrados&&Array.isArray(q.sabores_registrados)&&q.sabores_registrados.length>1;if(G)if((ue=q.produto_id_ref)!=null&&ue.tamanhos_precos){const Pt=q.produto_id_ref.tamanhos_precos.find(Yr=>Yr.id_tamanho===q.tamanho_registrado);F=(Pt==null?void 0:Pt.nome_tamanho)||q.tamanho_registrado}else{const Pt=Co.find(Yr=>Yr.id===q.tamanho_registrado);F=(Pt==null?void 0:Pt.name)||q.tamanho_registrado}return{id:q.id,itemType:G?"pizza":((Ee=q.produto_id_ref)==null?void 0:Ee.tipo_produto)||"other",productId:((Ze=q.produto_id_ref)==null?void 0:Ze.id)||null,flavor:G?le?null:((_t=q.produto_id_ref)==null?void 0:_t.nome)||q.sabor_registrado:null,size:q.tamanho_registrado,sizeName:F,productName:G?null:((Pr=q.produto_id_ref)==null?void 0:Pr.nome)||q.sabor_registrado,category:(Dt=q.produto_id_ref)==null?void 0:Dt.categoria,quantity:q.quantidade,unitPrice:he,totalPrice:he*q.quantidade,useMultipleFlavors:le,multipleFlavors:le?q.sabores_registrados:[],displayName:G?le?q.sabores_registrados.map(Pt=>Pt.nome).join(" + "):((st=q.produto_id_ref)==null?void 0:st.nome)||q.sabor_registrado:((Xr=q.produto_id_ref)==null?void 0:Xr.nome)||q.sabor_registrado}}),cliente_id:I.cliente_id,entregador_id:I.entregador_id}});t(X)}catch(C){w({title:"Erro ao buscar pedidos",description:C.message,variant:"destructive"})}finally{x(!1)}},[w]);S.useEffect(()=>{_(),P();const C=()=>P();window.addEventListener("orderStatusChanged",C);const X=()=>P();return window.addEventListener("orderSaved",X),()=>{window.removeEventListener("orderStatusChanged",C),window.removeEventListener("orderSaved",X)}},[_,P]);const O=S.useCallback(()=>{u(null)},[]),k=S.useCallback(C=>{l(C),C||O()},[O]),A=S.useCallback(async C=>{var B,Q,ee,ge,we;f(!0);let X=null,I=!1,W="";try{if(!C.customerName)throw new Error("Nome do cliente é obrigatório.");console.log("[OrdersPage] Iniciando processo de salvar pedido:",C),C.customerId||w({title:"Processando...",description:"Verificando dados do cliente..."});const pe=await hd.manageCustomer({nome:C.customerName,telefone:C.customerPhone||"",endereco:C.customerAddress||""});console.log("[OrdersPage] Cliente gerenciado com sucesso, ID:",pe),W=C.customerId?c?"Pedido atualizado com sucesso!":"Pedido salvo para cliente existente!":"Novo cliente cadastrado e pedido salvo com sucesso!",c&&C.customerId&&C.customerId!==pe&&(W="Cliente atualizado e pedido salvo!");const D={cliente_id:pe,entregador_nome:C.entregador_nome||null,status_pedido:C.status_pedido,total:C.total,forma_pagamento:C.forma_pagamento,observacoes:C.observacoes||"",data_pedido:(c==null?void 0:c.orderDate)||new Date().toISOString(),valor_pago:C.valor_pago,troco_calculado:C.troco_calculado,cupom_id:C.cupom_id,desconto_aplicado:C.desconto_aplicado,pontos_ganhos:C.pontos_ganhos,pontos_resgatados:C.pontos_resgatados,updated_at:new Date().toISOString(),tipo_pedido:C.tipo_pedido,numero_mesa:C.tipo_pedido==="mesa"&&C.numero_mesa?parseInt(C.numero_mesa,10):null,endereco_entrega:C.tipo_pedido==="delivery"?C.customerAddress:null,taxa_entrega:C.taxa_entrega||0,multiplos_pagamentos:C.multiplos_pagamentos||!1,pagamentos:C.pagamentos||[]};c!=null&&c.id||(D.created_at=new Date().toISOString());const q=C.items.map(F=>{let he=null;if(F.itemType==="pizza")if(F.useMultipleFlavors&&F.multipleFlavors&&F.multipleFlavors.length>0){const ue=F.multipleFlavors[0],Ee=r.find(Ze=>Ze.nome===ue.nome&&Ze.tipo_produto==="pizza");he=(Ee==null?void 0:Ee.id)||null}else{const ue=r.find(Ee=>Ee.nome===F.flavor&&Ee.tipo_produto==="pizza");he=(ue==null?void 0:ue.id)||null}else he=F.productId||null;const le=F.itemType==="pizza"?F.unitPrice+(F.borderPrice||0):F.unitPrice,be={produto_id_ref:he,quantidade:F.quantity,valor_unitario:le,itemType:F.itemType};return F.itemType==="pizza"?(be.tamanho_registrado=F.size,F.useMultipleFlavors&&F.multipleFlavors&&F.multipleFlavors.length>1?be.sabores_registrados=F.multipleFlavors:be.sabor_registrado=F.flavor):(be.sabor_registrado=F.productName,be.tamanho_registrado=null),be});console.log("[OrdersPage] Salvando pedido:",D),console.log("[OrdersPage] Itens a persistir:",q),console.log("[OrdersPage] Tipo de pedido:",D.tipo_pedido),console.log("[OrdersPage] Número da mesa:",D.numero_mesa);const G=await Lr.saveOrder(D,q,c);console.log("[OrdersPage] Pedido salvo com sucesso:",G),X={...G,customerName:((B=G.cliente_id)==null?void 0:B.nome)||C.customerName,customerPhone:((Q=G.cliente_id)==null?void 0:Q.telefone)||C.customerPhone,customerAddress:((ee=G.cliente_id)==null?void 0:ee.endereco)||C.customerAddress,items:C.items,delivererName:C.entregador_nome||"Não atribuído",paymentMethodName:((ge=pt.find(F=>F.id===G.forma_pagamento))==null?void 0:ge.name)||"Não informado",cupom_codigo:(we=G.cupom_id_data)==null?void 0:we.codigo,observacoes:G.observacoes,amountPaid:G.valor_pago,calculatedChange:G.troco_calculado,orderDate:G.data_pedido||G.created_at,subtotal:C.subtotal,totalValue:C.total,desconto_aplicado:C.desconto_aplicado||0,taxa_entrega:C.taxa_entrega||0,multiplos_pagamentos:C.multiplos_pagamentos||!1,pagamentos:C.pagamentos||[]},I=!0,l(!1),O(),w({title:"Sucesso!",description:W}),await P(),window.dispatchEvent(new CustomEvent("orderSaved",{detail:{orderId:G.id}})),((c==null?void 0:c.status_pedido)!==G.status_pedido||!c)&&window.dispatchEvent(new CustomEvent("orderStatusChanged",{detail:{orderId:G.id,newStatus:G.status_pedido}}))}catch(pe){console.error("[OrdersPage] Erro ao salvar pedido:",pe),w({title:`Erro ao ${c?"atualizar":"salvar"} pedido`,description:pe.message,variant:"destructive"}),I=!1}finally{f(!1)}},[c,w,O,P,r,k]),T=S.useCallback(C=>{var I;const X={...C,customerId:((I=C.cliente_id)==null?void 0:I.id)||null,customerName:C.customerName,customerPhone:C.customerPhone,customerAddress:C.customerAddress,entregador_nome:C.entregador_nome||"",status_pedido:C.status,forma_pagamento:C.paymentMethod||pt[0].id,valor_pago:C.amountPaid||"",cupom_id:C.cupom_id,cupom_codigo:C.cupom_codigo,cupom_tipo_desconto:C.cupom_tipo_desconto,cupom_valor_desconto:C.cupom_valor_desconto,pontos_resgatados:C.pontos_resgatados,total:C.totalValue,troco_calculado:C.calculatedChange,observacoes:C.observacoes,items:C.items,tipo_pedido:C.tipo_pedido||"delivery",numero_mesa:C.numero_mesa,endereco_entrega:C.endereco_entrega,taxa_entrega:C.taxa_entrega||0,multiplos_pagamentos:C.multiplos_pagamentos||!1,pagamentos:C.pagamentos||[]};u(X),l(!0)},[]),z=S.useCallback(async C=>{if(!window.confirm("Tem certeza que deseja excluir este pedido? Esta ação não pode ser desfeita.")){console.log("[OrdersPage] Exclusão cancelada pelo usuário");return}h(!0);try{console.log("[OrdersPage] Deletando pedido:",C),await Lr.deleteOrder(C),w({title:"Sucesso!",description:"Pedido removido com sucesso."}),P(),window.dispatchEvent(new CustomEvent("orderSaved",{detail:{orderId:C,action:"delete"}}))}catch(I){console.error("[OrdersPage] Erro ao deletar pedido:",I),w({title:"Erro ao remover pedido",description:I.message,variant:"destructive"})}finally{h(!1)}},[P,w]),$=S.useCallback((C,X=!1)=>{var I,W;try{if(!C){console.error("[PRINT] Dados do pedido inválidos para impressão"),w({title:"Erro",description:"Dados do pedido inválidos para impressão",variant:"destructive"});return}if(C.tipo_pedido==="mesa"){const ee={...C,delivererName:C.delivererName||C.entregador_nome||"Não atribuído",paymentMethodName:C.paymentMethodName||((I=pt.find(D=>D.id===C.forma_pagamento))==null?void 0:I.name)||"Não informado"};let ge;try{ge=bv(ee,r)}catch(D){console.error("[PRINT] Erro ao formatar ticket:",D),w({title:"Erro",description:"Erro ao formatar cupom para impressão",variant:"destructive"});return}const we=document.createElement("iframe");we.style.position="absolute",we.style.width="0px",we.style.height="0px",we.style.border="none",we.style.left="-9999px",document.body.appendChild(we);const pe=we.contentDocument||we.contentWindow.document;pe.open(),pe.write("<html><head><title>Cupom Mesa</title>"),pe.write("<style>body { font-family: monospace; font-size: 10pt; margin: 5px; } pre { white-space: pre-wrap; word-wrap: break-word; } </style>"),pe.write("</head><body>"),pe.write("<pre>"+ge+"</pre>"),pe.write("</body></html>"),pe.close(),setTimeout(()=>{try{we.contentWindow.focus(),we.contentWindow.print(),setTimeout(()=>{document.body.removeChild(we)},1e3)}catch(D){console.error("[PRINT] Erro ao imprimir pedido de mesa:",D),document.body.removeChild(we)}},250),w({title:"Impressão Mesa",description:`Cupom da mesa ${C.numero_mesa} enviado para impressão.`});return}const B={...C,delivererName:C.delivererName||C.entregador_nome||"Não atribuído",paymentMethodName:C.paymentMethodName||((W=pt.find(ee=>ee.id===C.forma_pagamento))==null?void 0:W.name)||"Não informado"};let Q;try{Q=bv(B,r)}catch(ee){console.error("[PRINT] Erro ao formatar ticket:",ee),w({title:"Erro",description:"Erro ao formatar cupom para impressão",variant:"destructive"});return}Q&&Q.length>1e4&&console.warn("[PRINT] Conteúdo do ticket muito grande:",Q.length),setTimeout(()=>{try{const ee=window.open("","_blank","width=300,height=500");if(!ee){console.error("[PRINT] Não foi possível abrir janela de impressão"),w({title:"Erro de Impressão",description:"Não foi possível abrir a janela de impressão. Verifique se pop-ups estão bloqueados.",variant:"destructive"});return}ee.document.write("<html><head><title>Cupom</title>"),ee.document.write("<style>body { font-family: monospace; font-size: 10pt; margin: 5px; } pre { white-space: pre-wrap; word-wrap: break-word; } </style>"),ee.document.write("</head><body>"),ee.document.write("<pre>"+Q+"</pre>"),ee.document.write("</body></html>"),ee.document.close(),ee.onload=function(){try{ee.focus(),X&&ee.print()}catch(we){console.error("[PRINT] Erro ao chamar print():",we)}};const ge=X?"enviado para impressão":"aberto para impressão";w({title:"Cupom Preparado",description:`Cupom do pedido #${String(C.id||"").slice(-5).toUpperCase()||"N/A"} ${ge}.`})}catch(ee){console.error("[PRINT] Erro geral:",ee),w({title:"Erro de Impressão",description:"Erro inesperado durante a impressão",variant:"destructive"})}},100)}catch(B){console.error("[PRINT] Erro crítico:",B),w({title:"Erro Crítico",description:"Falha crítica no sistema de impressão",variant:"destructive"})}},[r,w]),M=S.useCallback(C=>{var X;try{if(!C){console.error("[DELIVERY-PRINT] Dados do pedido inválidos para impressão"),w({title:"Erro",description:"Dados do pedido inválidos para impressão de entregador",variant:"destructive"});return}const I={...C,delivererName:C.delivererName||C.entregador_nome||"Não atribuído",paymentMethodName:C.paymentMethodName||((X=pt.find(B=>B.id===C.forma_pagamento))==null?void 0:X.name)||"Não informado"};let W;try{W=BU(I,r)}catch(B){console.error("[DELIVERY-PRINT] Erro ao formatar cupom do entregador:",B),w({title:"Erro",description:"Erro ao formatar cupom do entregador",variant:"destructive"});return}setTimeout(()=>{try{const B=window.open("","_blank","width=300,height=500");if(!B){console.error("[DELIVERY-PRINT] Não foi possível abrir janela de impressão"),w({title:"Erro de Impressão",description:"Não foi possível abrir a janela de impressão. Verifique se pop-ups estão bloqueados.",variant:"destructive"});return}B.document.write("<html><head><title>Cupom Entregador</title>"),B.document.write("<style>body { font-family: monospace; font-size: 10pt; margin: 5px; } pre { white-space: pre-wrap; word-wrap: break-word; } </style>"),B.document.write("</head><body>"),B.document.write("<pre>"+W+"</pre>"),B.document.write("</body></html>"),B.document.close(),B.onload=function(){try{B.focus(),B.print()}catch(Q){console.error("[DELIVERY-PRINT] Erro ao chamar print():",Q)}},w({title:"Impressão Entregador",description:`Cupom para entregador #${String(C.id||"").slice(-5).toUpperCase()||"N/A"} preparado.`})}catch(B){console.error("[DELIVERY-PRINT] Erro geral:",B),w({title:"Erro de Impressão",description:"Erro inesperado durante a impressão para entregador",variant:"destructive"})}},100)}catch(I){console.error("[DELIVERY-PRINT] Erro crítico:",I),w({title:"Erro Crítico",description:"Falha crítica no sistema de impressão para entregador",variant:"destructive"})}},[r,w]),L=S.useCallback((C,X=null)=>{var I;try{if(!C){console.error("[KITCHEN-PRINT] Dados do pedido inválidos para impressão"),w({title:"Erro",description:"Dados do pedido inválidos para impressão de cozinha",variant:"destructive"});return}if(C.tipo_pedido!=="mesa"&&X===null){y(C),N(!0);return}C.tipo_pedido==="mesa"&&X===null&&(X=2);const W={...C,delivererName:C.delivererName||C.entregador_nome||"Não atribuído",paymentMethodName:C.paymentMethodName||((I=pt.find(Q=>Q.id===C.forma_pagamento))==null?void 0:I.name)||"Não informado"};let B;try{B=qU(W,r,X)}catch(Q){console.error("[KITCHEN-PRINT] Erro ao formatar cupom da cozinha:",Q),w({title:"Erro",description:"Erro ao formatar cupom da cozinha",variant:"destructive"});return}setTimeout(()=>{try{const Q=window.open("","_blank","width=300,height=500");if(!Q){console.error("[KITCHEN-PRINT] Não foi possível abrir janela de impressão"),w({title:"Erro de Impressão",description:"Não foi possível abrir a janela de impressão. Verifique se pop-ups estão bloqueados.",variant:"destructive"});return}Q.document.write("<html><head><title>Cupom Cozinha</title>"),Q.document.write("<style>body { font-family: monospace; font-size: 10pt; margin: 5px; } pre { white-space: pre-wrap; word-wrap: break-word; } </style>"),Q.document.write("</head><body>"),Q.document.write("<pre>"+B+"</pre>"),Q.document.write("</body></html>"),Q.document.close(),Q.onload=function(){try{Q.focus(),Q.print()}catch(ee){console.error("[KITCHEN-PRINT] Erro ao chamar print():",ee)}},w({title:"Impressão Cozinha",description:`Cupom para cozinha #${String(C.id||"").slice(-5).toUpperCase()||"N/A"} preparado.`})}catch(Q){console.error("[KITCHEN-PRINT] Erro geral:",Q),w({title:"Erro de Impressão",description:"Erro inesperado durante a impressão para cozinha",variant:"destructive"})}},100)}catch(W){console.error("[KITCHEN-PRINT] Erro crítico:",W),w({title:"Erro Crítico",description:"Falha crítica no sistema de impressão para cozinha",variant:"destructive"})}},[r,w]),V=S.useCallback(C=>{j&&(N(!1),L(j,C),y(null))},[j,L]),H=S.useMemo(()=>e.filter(C=>{var X,I;return(((X=C.customerName)==null?void 0:X.toLowerCase())||"").includes(a.toLowerCase())||(((I=C.id)==null?void 0:I.toLowerCase())||"").includes(a.toLowerCase())}),[e,a]);return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[o.jsx(zU,{}),o.jsxs(K,{onClick:()=>{u(null),l(!0)},className:"bg-gradient-to-r from-primary to-red-400 hover:from-primary/90 hover:to-red-400/90 text-white shadow-md hover:shadow-lg transition-shadow",disabled:d||g||m,children:[g||m?o.jsx(ce,{className:"mr-2 h-5 w-5 animate-spin"}):o.jsx(Ur,{className:"mr-2 h-5 w-5"}),"Novo Pedido"]})]}),o.jsx(DU,{isOpen:s,onOpenChange:k,onSubmit:A,initialOrderData:c,allProductsData:r,isSubmittingOrder:d}),o.jsx(FU,{orders:H,searchTerm:a,setSearchTerm:i,onEdit:T,onDelete:z,onPrint:C=>$(C,!1),onPrintDelivery:M,onPrintKitchen:L,isLoading:m,fetchOrders:P}),o.jsx(Nr,{open:b,onOpenChange:N,children:o.jsxs(sr,{className:"sm:max-w-md",children:[o.jsxs(lr,{children:[o.jsx(cr,{children:"🧑‍🍳 Selecionar Prioridade do Pedido"}),o.jsxs(ur,{children:["Escolha a prioridade para o cupom da cozinha do pedido #",String((j==null?void 0:j.id)||"").slice(-5).toUpperCase()||"N/A"]})]}),o.jsxs("div",{className:"grid grid-cols-1 gap-3 py-4",children:[o.jsxs(K,{onClick:()=>V("normal"),variant:"outline",className:"h-16 text-left flex items-center gap-3 hover:bg-blue-50",children:[o.jsx("span",{className:"text-2xl",children:"🚚"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-semibold",children:"PEDIDO DELIVERY"}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Prioridade normal de entrega"})]})]}),o.jsxs(K,{onClick:()=>V("balcao"),variant:"outline",className:"h-16 text-left flex items-center gap-3 hover:bg-amber-50",children:[o.jsx("span",{className:"text-2xl",children:"🏪"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-semibold",children:"PEDIDO BALCÃO"}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Cliente aguardando no balcão"})]})]}),o.jsxs(K,{onClick:()=>V("urgente"),variant:"outline",className:"h-16 text-left flex items-center gap-3 hover:bg-yellow-50",children:[o.jsx("span",{className:"text-2xl",children:"⚡"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-semibold",children:"PEDIDO URGENTE"}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Preparar com prioridade máxima"})]})]}),o.jsxs(K,{onClick:()=>V("atrasado"),variant:"outline",className:"h-16 text-left flex items-center gap-3 hover:bg-red-50",children:[o.jsx("span",{className:"text-2xl",children:"🚨"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-semibold",children:"PEDIDO ATRASADO"}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Pedido que passou do prazo"})]})]})]})]})})]})},vo={getAll:async()=>(await Y.get("/deliverers")).data,getAllDeliverers:async()=>(await Y.get("/deliverers")).data,getActiveDeliverers:async()=>(await Y.get("/deliverers?active=true")).data,getById:async e=>(await Y.get(`/deliverers/${e}`)).data,create:async e=>(await Y.post("/deliverers",e)).data,createDeliverer:async e=>(await Y.post("/deliverers",e)).data,update:async(e,t)=>(await Y.patch(`/deliverers/${e}`,t)).data,updateDeliverer:async(e,t)=>(await Y.patch(`/deliverers/${e}`,t)).data,delete:async e=>(await Y.delete(`/deliverers/${e}`)).data,deleteDeliverer:async e=>(await Y.delete(`/deliverers/${e}`)).data,getDeliveries:async e=>(await Y.get(`/deliverers/${e}/deliveries`)).data},WU=({isOpen:e,onOpenChange:t,onSave:r,initialData:n,isLoading:a})=>{const[i,s]=S.useState(""),[l,c]=S.useState(""),[u,d]=S.useState(!0),[f,p]=S.useState(!1),h=a||f;S.useEffect(()=>{n?(s(n.nome||""),c(n.telefone||""),d(n.ativo===void 0?!0:n.ativo)):(s(""),c(""),d(!0))},[n,e]);const g=async m=>{if(m.preventDefault(),!i){alert("O nome do entregador é obrigatório.");return}p(!0);try{await r({nome:i,telefone:l,ativo:u})}catch(x){console.error("Error in handleSubmit of DelivererFormModal:",x)}finally{p(!1)}},v=()=>{h||t(!1)};return o.jsx(Nr,{open:e,onOpenChange:v,children:o.jsxs(sr,{className:"sm:max-w-[425px] bg-card",children:[o.jsxs(lr,{children:[o.jsxs(cr,{className:"flex items-center",children:[n?o.jsx(Hv,{className:"mr-2 text-primary"}):o.jsx(Zi,{className:"mr-2 text-primary"}),n?"Editar Entregador":"Cadastrar Novo Entregador"]}),o.jsx(ur,{children:n?"Atualize os dados do entregador.":"Preencha os dados para adicionar um novo entregador."})]}),o.jsxs("form",{onSubmit:g,children:[o.jsxs("div",{className:"grid gap-4 py-4",children:[o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(re,{htmlFor:"deliverer-name",className:"text-right",children:"Nome"}),o.jsx(fe,{id:"deliverer-name",value:i,onChange:m=>s(m.target.value),className:"col-span-3",placeholder:"Nome completo",required:!0,disabled:h})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(re,{htmlFor:"deliverer-phone",className:"text-right",children:"Telefone"}),o.jsx(fe,{id:"deliverer-phone",value:l,onChange:m=>c(m.target.value),className:"col-span-3",placeholder:"(Opcional)",type:"tel",disabled:h})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(re,{htmlFor:"deliverer-active",className:"text-right",children:"Ativo"}),o.jsx("div",{className:"col-span-3 flex items-center",children:o.jsx(Za,{id:"deliverer-active",checked:u,onCheckedChange:d,disabled:h})})]})]}),o.jsxs(Sr,{children:[o.jsx(Vn,{asChild:!0,children:o.jsx(K,{type:"button",variant:"outline",onClick:v,disabled:h,children:"Cancelar"})}),o.jsxs(K,{type:"submit",disabled:h,className:"bg-primary hover:bg-primary/80",children:[h&&o.jsx(ce,{className:"mr-2 h-4 w-4 animate-spin"}),n?"Salvar Alterações":"Adicionar Entregador"]})]})]})]})})};var $w="AlertDialog",[GU,CG]=Vr($w,[Iv]),Kr=Iv(),kw=e=>{const{__scopeAlertDialog:t,...r}=e,n=Kr(t);return o.jsx(wd,{...n,...r,modal:!0})};kw.displayName=$w;var HU="AlertDialogTrigger",Mw=S.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Kr(r);return o.jsx(jd,{...a,...n,ref:t})});Mw.displayName=HU;var KU="AlertDialogPortal",Iw=e=>{const{__scopeAlertDialog:t,...r}=e,n=Kr(t);return o.jsx(bd,{...n,...r})};Iw.displayName=KU;var XU="AlertDialogOverlay",Dw=S.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Kr(r);return o.jsx(pi,{...a,...n,ref:t})});Dw.displayName=XU;var sa="AlertDialogContent",[YU,ZU]=GU(sa),JU=Dv("AlertDialogContent"),Rw=S.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...a}=e,i=Kr(r),s=S.useRef(null),l=Tt(t,s),c=S.useRef(null);return o.jsx(n1,{contentName:sa,titleName:Lw,docsSlug:"alert-dialog",children:o.jsx(YU,{scope:r,cancelRef:c,children:o.jsxs(hi,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:Oe(a.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[o.jsx(JU,{children:n}),o.jsx(eW,{contentRef:s})]})})})});Rw.displayName=sa;var Lw="AlertDialogTitle",Fw=S.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Kr(r);return o.jsx(gi,{...a,...n,ref:t})});Fw.displayName=Lw;var zw="AlertDialogDescription",Bw=S.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Kr(r);return o.jsx(vi,{...a,...n,ref:t})});Bw.displayName=zw;var QU="AlertDialogAction",qw=S.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Kr(r);return o.jsx(mi,{...a,...n,ref:t})});qw.displayName=QU;var Vw="AlertDialogCancel",Uw=S.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:a}=ZU(Vw,r),i=Kr(r),s=Tt(t,a);return o.jsx(mi,{...i,...n,ref:s})});Uw.displayName=Vw;var eW=({contentRef:e})=>{const t=`\`${sa}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${sa}\` by passing a \`${zw}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${sa}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return S.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},tW=kw,rW=Mw,nW=Iw,Ww=Dw,Gw=Rw,Hw=qw,Kw=Uw,Xw=Fw,Yw=Bw;const aW=tW,oW=rW,iW=nW,Zw=E.forwardRef(({className:e,...t},r)=>o.jsx(Ww,{className:se("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));Zw.displayName=Ww.displayName;const Jw=E.forwardRef(({className:e,...t},r)=>o.jsxs(iW,{children:[o.jsx(Zw,{}),o.jsx(Gw,{ref:r,className:se("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Jw.displayName=Gw.displayName;const Qw=({className:e,...t})=>o.jsx("div",{className:se("flex flex-col space-y-2 text-center sm:text-left",e),...t});Qw.displayName="AlertDialogHeader";const ej=({className:e,...t})=>o.jsx("div",{className:se("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});ej.displayName="AlertDialogFooter";const tj=E.forwardRef(({className:e,...t},r)=>o.jsx(Xw,{ref:r,className:se("text-lg font-semibold",e),...t}));tj.displayName=Xw.displayName;const rj=E.forwardRef(({className:e,...t},r)=>o.jsx(Yw,{ref:r,className:se("text-sm text-muted-foreground",e),...t}));rj.displayName=Yw.displayName;const nj=E.forwardRef(({className:e,...t},r)=>o.jsx(Hw,{ref:r,className:se(Td(),e),...t}));nj.displayName=Hw.displayName;const aj=E.forwardRef(({className:e,...t},r)=>o.jsx(Kw,{ref:r,className:se(Td({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));aj.displayName=Kw.displayName;const sW=({deliverers:e,onEdit:t,onDelete:r})=>o.jsx("div",{className:"overflow-x-auto",children:o.jsxs($t,{children:[o.jsx(kt,{children:o.jsxs(Le,{children:[o.jsx(te,{children:"Nome"}),o.jsx(te,{children:"Telefone"}),o.jsx(te,{children:"Status"}),o.jsx(te,{className:"text-right",children:"Ações"})]})}),o.jsx(Mt,{children:e.map(n=>o.jsxs(Le,{className:"hover:bg-muted/10",children:[o.jsx(J,{className:"font-medium",children:n.nome}),o.jsx(J,{children:n.telefone||"N/A"}),o.jsx(J,{children:o.jsx(nt,{variant:n.ativo?"default":"destructive",className:n.ativo?"bg-green-500 hover:bg-green-600":"bg-red-500 hover:bg-red-600",children:n.ativo?"Ativo":"Inativo"})}),o.jsxs(J,{className:"text-right space-x-1",children:[o.jsx(K,{variant:"ghost",size:"icon",onClick:()=>t(n),className:"text-blue-500 hover:text-blue-700 hover:bg-blue-100 dark:hover:bg-blue-800/50",children:o.jsx(Dn,{className:"h-4 w-4"})}),o.jsxs(aW,{children:[o.jsx(oW,{asChild:!0,children:o.jsx(K,{variant:"ghost",size:"icon",className:"text-red-500 hover:text-red-700 hover:bg-red-100 dark:hover:bg-red-800/50",children:o.jsx(dr,{className:"h-4 w-4"})})}),o.jsxs(Jw,{children:[o.jsxs(Qw,{children:[o.jsx(tj,{children:"Confirmar Desativação"}),o.jsxs(rj,{children:['Tem certeza que deseja desativar o entregador "',n.nome,'"? Ele não poderá ser selecionado para novos pedidos, mas o histórico será mantido. Se houver pedidos pendentes associados a ele, reatribua-os antes de desativar.']})]}),o.jsxs(ej,{children:[o.jsx(aj,{children:"Cancelar"}),o.jsx(nj,{onClick:()=>r(n.id),className:"bg-red-500 hover:bg-red-600",children:"Desativar"})]})]})]})]})]},n.id))})]})}),lW=()=>{const[e,t]=S.useState([]),[r,n]=S.useState(!1),[a,i]=S.useState(!1),[s,l]=S.useState(null),{toast:c}=ze(),u=S.useCallback(async()=>{n(!0);try{const g=await vo.getAllDeliverers();t(g)}catch(g){c({title:"Erro ao carregar entregadores",description:g.message,variant:"destructive"})}finally{n(!1)}},[c]);S.useEffect(()=>{u();const g=()=>u();return window.addEventListener("deliverersUpdated",g),()=>{window.removeEventListener("deliverersUpdated",g)}},[u]);const d=()=>{l(null),i(!0)},f=g=>{l(g),i(!0)},p=async g=>{try{await vo.deleteDeliverer(g),c({title:"Sucesso",description:"Entregador removido com sucesso."}),u()}catch(v){c({title:"Erro ao remover entregador",description:v.message,variant:"destructive"})}},h=async g=>{n(!0);try{s?(await vo.updateDeliverer(s.id,g),c({title:"Sucesso",description:"Entregador atualizado com sucesso."})):(await vo.createDeliverer(g),c({title:"Sucesso",description:"Entregador adicionado com sucesso."})),u(),i(!1),l(null)}catch(v){c({title:`Erro ao ${s?"atualizar":"adicionar"} entregador`,description:v.message,variant:"destructive"})}finally{n(!1)}};return o.jsxs(ae,{className:"shadow-lg mt-4",children:[o.jsxs(ve,{className:"flex flex-col md:flex-row justify-between items-start md:items-center",children:[o.jsxs("div",{children:[o.jsxs(me,{className:"flex items-center text-primary",children:[o.jsx(cn,{className:"mr-2 h-6 w-6"}),"Gerenciar Entregadores"]}),o.jsx(We,{children:"Adicione, edite ou remova entregadores do sistema."})]}),o.jsxs(K,{onClick:d,className:"mt-4 md:mt-0 bg-gradient-to-r from-primary to-red-400 hover:from-primary/90 hover:to-red-400/90 text-white",children:[o.jsx(Ur,{className:"mr-2 h-4 w-4"})," Novo Entregador"]})]}),o.jsx(ie,{children:r&&e.length===0?o.jsx("div",{className:"flex justify-center items-center h-32",children:o.jsx(ce,{className:"h-8 w-8 animate-spin text-primary"})}):!r&&e.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center",children:[o.jsx(vt,{className:"w-16 h-16 text-muted-foreground mb-4"}),o.jsx("h2",{className:"text-xl font-semibold text-foreground mb-2",children:"Nenhum entregador cadastrado"}),o.jsx("p",{className:"text-muted-foreground max-w-md",children:'Clique em "Novo Entregador" para adicionar o primeiro.'})]}):o.jsx(sW,{deliverers:e,onEdit:f,onDelete:p})}),a&&o.jsx(WU,{isOpen:a,onOpenChange:i,onSave:h,initialData:s,isLoading:r})]})},cW=({deliveries:e,deliverersList:t,isLoading:r,fetchDeliveries:n,filterStatus:a,setFilterStatus:i})=>{var N;const[s,l]=S.useState(null),[c,u]=S.useState(""),[d,f]=S.useState(""),[p,h]=S.useState(!1),{toast:g}=ze(),v=j=>{var y;l(j.id),u(((y=j.entregador_id)==null?void 0:y.id)||"none"),f(j.status_pedido)},m=()=>{l(null),u(""),f("")},x=async j=>{h(!0);try{const y={entregador_id:c==="none"?null:c,status_pedido:d,updated_at:new Date().toISOString()};await Lr.updateOrder(j,y),g({title:"Sucesso!",description:"Entrega atualizada."}),n(),m(),window.dispatchEvent(new CustomEvent("orderStatusChanged",{detail:{orderId:j,newStatus:d}}))}catch(y){g({title:"Erro ao atualizar entrega",description:y.message,variant:"destructive"})}finally{h(!1)}},b=j=>{const y=Cr.find(w=>w.id===j);return y?o.jsx("span",{className:`px-2 py-1 text-xs font-semibold text-white rounded-full ${y.color}`,children:y.name}):o.jsx("span",{className:"px-2 py-1 text-xs font-semibold text-white rounded-full bg-gray-400",children:"Desconhecido"})};return o.jsxs(ae,{className:"shadow-lg mt-4",children:[o.jsxs(ve,{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-2",children:[o.jsxs("div",{children:[o.jsxs(me,{className:"flex items-center text-primary",children:[o.jsx(wr,{className:"mr-2 h-6 w-6"}),"Pedidos para Entrega"]}),o.jsx(We,{children:"Pedidos prontos para entrega ou em trânsito."})]}),o.jsxs("div",{className:"flex items-center gap-2 w-full md:w-auto",children:[o.jsx(Wv,{className:"h-5 w-5 text-muted-foreground"}),o.jsxs(Et,{value:a,onValueChange:i,children:[o.jsx(jt,{className:"w-full md:w-[180px] bg-background/70",children:o.jsx(Ct,{placeholder:"Filtrar por status"})}),o.jsxs(Nt,{children:[o.jsx(Me,{value:"all",children:"Todos Status"}),Cr.filter(j=>j.id!=="entregue"&&j.id!=="cancelado").map(j=>o.jsx(Me,{value:j.id,children:j.name},j.id)),o.jsx(Me,{value:"entregue",children:"Entregue"}),o.jsx(Me,{value:"cancelado",children:"Cancelado"})]})]})]})]}),o.jsx(ie,{children:r&&e.length===0?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx(ce,{className:"h-12 w-12 animate-spin text-primary"})}):!r&&e.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center",children:[o.jsx(vt,{className:"w-16 h-16 text-yellow-500 mb-4"}),o.jsx("h2",{className:"text-xl font-semibold text-foreground mb-2",children:"Nenhuma entrega encontrada"}),o.jsx("p",{className:"text-muted-foreground max-w-md",children:a==="all"?"Não há pedidos para entrega no momento.":`Não há pedidos com o status "${(N=Cr.find(j=>j.id===a))==null?void 0:N.name}".`})]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs($t,{children:[o.jsx(kt,{children:o.jsxs(Le,{children:[o.jsx(te,{children:"Pedido ID"}),o.jsx(te,{children:"Cliente"}),o.jsx(te,{children:"Endereço"}),o.jsx(te,{children:"Entregador"}),o.jsx(te,{children:"Status"}),o.jsx(te,{className:"text-right",children:"Ações"})]})}),o.jsx(Mt,{children:e.map(j=>{var y,w,_;return o.jsxs(Le,{children:[o.jsxs(J,{className:"font-mono text-xs",children:["#",j.id.slice(-5)]}),o.jsx(J,{children:((y=j.cliente_id)==null?void 0:y.nome)||"N/A"}),o.jsx(J,{children:((w=j.cliente_id)==null?void 0:w.endereco)||"N/A"}),o.jsx(J,{children:s===j.id?o.jsxs(Et,{value:c,onValueChange:u,disabled:p,children:[o.jsx(jt,{children:o.jsx(Ct,{placeholder:"Selecione"})}),o.jsxs(Nt,{children:[o.jsx(Me,{value:"none",children:"Não atribuir"}),t.map(P=>o.jsx(Me,{value:P.id,children:P.nome},P.id))]})]}):((_=j.entregador_id)==null?void 0:_.nome)||"Não atribuído"}),o.jsx(J,{children:s===j.id?o.jsxs(Et,{value:d,onValueChange:f,disabled:p,children:[o.jsx(jt,{children:o.jsx(Ct,{placeholder:"Selecione"})}),o.jsx(Nt,{children:Cr.map(P=>o.jsx(Me,{value:P.id,children:P.name},P.id))})]}):b(j.status_pedido)}),o.jsx(J,{className:"text-right",children:s===j.id?o.jsxs("div",{className:"space-x-2",children:[o.jsxs(K,{size:"sm",onClick:()=>x(j.id),disabled:p,children:[p&&o.jsx(ce,{className:"mr-2 h-4 w-4 animate-spin"}),"Salvar"]}),o.jsx(K,{size:"sm",variant:"outline",onClick:m,disabled:p,children:"Cancelar"})]}):o.jsx(K,{variant:"ghost",size:"icon",onClick:()=>v(j),className:"text-blue-500 hover:text-blue-700",children:o.jsx(Dn,{className:"h-4 w-4"})})})]},j.id)})})]})})})]})},uW=()=>{const[e,t]=S.useState("deliveriesList"),[r,n]=S.useState([]),[a,i]=S.useState([]),[s,l]=S.useState(!1),[c,u]=S.useState("all"),{toast:d}=ze(),f=S.useCallback(async()=>{try{const h=await vo.getActiveDeliverers();n(h)}catch(h){d({title:"Erro ao buscar entregadores",description:h.message,variant:"destructive"})}},[d]),p=S.useCallback(async()=>{l(!0);try{const h={};c!=="all"&&(h.status=c);const g=await Lr.getAllOrders(h);i(g)}catch(h){d({title:"Erro ao buscar entregas",description:h.message,variant:"destructive"})}finally{l(!1)}},[d,c]);return S.useEffect(()=>{f(),e==="deliveriesList"&&p()},[f,p,e]),S.useEffect(()=>{const h=()=>{e==="deliveriesList"&&p()};return window.addEventListener("orderStatusChanged",h),()=>{window.removeEventListener("orderStatusChanged",h)}},[e,p]),o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold tracking-tight text-foreground",children:"Gestão de Entregas"}),o.jsx("p",{className:"text-muted-foreground",children:"Gerenciamento de entregas, atribuição e cadastro de entregadores."})]})}),o.jsxs(Ja,{value:e,onValueChange:t,className:"w-full",children:[o.jsxs(Un,{className:"grid w-full grid-cols-2 md:w-auto",children:[o.jsxs(Ye,{value:"deliveriesList",className:"flex items-center gap-2",children:[o.jsx(wr,{className:"h-4 w-4"})," Lista de Entregas"]}),o.jsxs(Ye,{value:"deliverersManagement",className:"flex items-center gap-2",children:[o.jsx(cn,{className:"h-4 w-4"})," Entregadores"]})]}),o.jsx(gt,{value:"deliveriesList",children:o.jsx(cW,{deliveries:a,deliverersList:r,isLoading:s,fetchDeliveries:p,filterStatus:c,setFilterStatus:u})}),o.jsx(gt,{value:"deliverersManagement",children:o.jsx(lW,{})})]})]})},oj={async getFechamentosPorPeriodo(e,t){return(await Y.request("/reports/fechamentos",{method:"POST",body:JSON.stringify({data_inicio:e,data_fim:t})})).fechamentos},async getSalesReport(e,t){return(await Y.request("/reports/sales",{method:"POST",body:JSON.stringify({start_date:e,end_date:t})})).report},async getTopProducts(e,t,r=10,n=null){const a={start_date:e,end_date:t,limit:r};return n&&(a.tipo_pedido=n),(await Y.request("/reports/top-products",{method:"POST",body:JSON.stringify(a)})).products},async getCustomersReport(e,t){return(await Y.request("/reports/customers",{method:"POST",body:JSON.stringify({start_date:e,end_date:t})})).report},async getComparativeReport(e,t){return(await Y.request("/reports/comparative",{method:"POST",body:JSON.stringify({start_date:e,end_date:t})})).report},async getSalesByType(e,t,r=null){const n={start_date:e,end_date:t};return r&&(n.tipo_pedido=r),(await Y.request("/reports/sales",{method:"POST",body:JSON.stringify(n)})).report},async getTopProductsByType(e,t,r,n=10){return(await Y.request("/reports/top-products",{method:"POST",body:JSON.stringify({start_date:e,end_date:t,tipo_pedido:r,limit:n})})).products}},dW=({startDate:e,endDate:t})=>{const[r,n]=S.useState(null),[a,i]=S.useState(!1),{toast:s}=ze(),l=S.useCallback(async()=>{i(!0);try{const f=await oj.getComparativeReport(e,t);n(f)}catch(f){s({title:"Erro ao buscar dados comparativos",description:f.message,variant:"destructive"}),n(null)}finally{i(!1)}},[e,t,s]);if(S.useEffect(()=>{l()},[l]),a)return o.jsx("div",{className:"flex items-center justify-center h-40",children:o.jsx(ce,{className:"h-8 w-8 animate-spin text-primary"})});if(!r||!r.comparative)return o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Hi,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Nenhum dado comparativo encontrado para este período"})]});const{comparative:c,hourlyBreakdown:u,productPreferences:d}=r;return o.jsxs("div",{className:"space-y-6",children:[o.jsxs(ae,{children:[o.jsxs(ve,{children:[o.jsxs(me,{className:"flex items-center gap-2",children:[o.jsx(Gt,{className:"h-5 w-5"}),"Comparativo Mesa vs Delivery"]}),o.jsx(We,{children:"Análise de performance por tipo de pedido"})]}),o.jsx(ie,{children:o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:c.map(f=>{const p=f.tipo_pedido==="delivery",g=p?Po:Ao,v=p?"bg-green-50 border-green-200":"bg-blue-50 border-blue-200",m=p?"text-green-800":"text-blue-800";return o.jsxs(ae,{className:`${v} border-l-4`,children:[o.jsx(ve,{className:"pb-3",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(me,{className:`text-lg flex items-center gap-2 ${m}`,children:[o.jsx(g,{className:"h-5 w-5"}),p?"Delivery":"Mesa"]}),o.jsxs(nt,{variant:"secondary",children:[f.total_pedidos," pedidos"]})]})}),o.jsxs(ie,{className:"space-y-3",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Vendas"}),o.jsx("p",{className:"text-xl font-bold text-green-600",children:R(f.total_vendas)})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Ticket Médio"}),o.jsx("p",{className:"text-xl font-bold",children:R(f.ticket_medio)})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Clientes Únicos"}),o.jsx("p",{className:"text-lg font-semibold",children:f.clientes_unicos})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Descontos"}),o.jsx("p",{className:"text-lg font-semibold text-orange-600",children:R(f.total_descontos)})]})]}),p&&f.total_taxas_entrega>0&&o.jsxs("div",{className:"pt-2 border-t",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Taxa de Entrega Total"}),o.jsx("p",{className:"text-lg font-semibold text-blue-600",children:R(f.total_taxas_entrega)})]})]})]},f.tipo_pedido)})})})]}),d&&d.length>0&&o.jsxs(ae,{children:[o.jsxs(ve,{children:[o.jsx(me,{children:"Produtos Mais Vendidos por Tipo"}),o.jsx(We,{children:"Preferências de produtos entre mesa e delivery"})]}),o.jsx(ie,{children:o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:["delivery","mesa"].map(f=>{const p=d.filter(m=>m.tipo_pedido===f).slice(0,5);if(p.length===0)return null;const h=f==="delivery",v=h?Po:Ao;return o.jsxs("div",{children:[o.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[o.jsx(v,{className:"h-4 w-4"}),"Top 5 - ",h?"Delivery":"Mesa"]}),o.jsx("div",{className:"space-y-2",children:p.map((m,x)=>o.jsxs("div",{className:"flex justify-between items-center p-2 rounded bg-muted/50",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(nt,{variant:"outline",className:"w-6 h-6 p-0 flex items-center justify-center text-xs",children:x+1}),o.jsx("span",{className:"text-sm font-medium",children:m.produto_nome})]}),o.jsxs("span",{className:"text-sm text-muted-foreground",children:[m.quantidade_vendida," vendidos"]})]},`${m.produto_nome}-${m.tipo_pedido}`))})]},f)})})})]})]})},fW=()=>{const[e,t]=S.useState([]),[r,n]=S.useState(!1),[a,i]=S.useState("fechamentos"),{toast:s}=ze(),l=new Date().toISOString().split("T")[0],[c,u]=S.useState(l),[d,f]=S.useState(l),[p,h]=S.useState("today"),g=S.useCallback(async(j,y,w=!1)=>{n(!0);try{const _=await oj.getFechamentosPorPeriodo(j,y);t(_||[]),w&&s({title:"Relatórios Atualizados",description:"Os dados de fechamento foram recarregados."})}catch(_){s({title:"Erro ao buscar relatórios",description:_.message,variant:"destructive"}),t([])}finally{n(!1)}},[s]);S.useEffect(()=>{a==="fechamentos"&&g(c,d)},[c,d,a,g]),S.useEffect(()=>{const j=y=>{s({title:"Novo Fechamento!",description:`Caixa do dia ${new Date(y.detail.data_fechamento+"T00:00:00").toLocaleDateString()} foi fechado.`});const w=y.detail.data_fechamento;w>=c&&w<=d&&g(c,d,!0)};return window.addEventListener("cashClosed",j),()=>{window.removeEventListener("cashClosed",j)}},[c,d,g,s]);const v=j=>{h(j);const y=new Date;let w=new Date,_=new Date;switch(j){case"today":break;case"this_week":const P=y.getDay();w.setDate(y.getDate()-P+(P===0?-6:1)),_=new Date(w),_.setDate(w.getDate()+6);break;case"last_7_days":w.setDate(y.getDate()-6);break;case"this_month":w.setDate(1),_=new Date(y.getFullYear(),y.getMonth()+1,0);break;case"last_30_days":w.setDate(y.getDate()-29);break;default:return}u(w.toISOString().split("T")[0]),f(_.toISOString().split("T")[0])},m=j=>{if(!j)return;let y="";const w=j.vendas_por_metodo||{};y=Object.values(w).filter(A=>A.count>0).map(A=>`  - ${A.name}: ${R(A.total)} (${A.count} pedidos)`).join(`
`);const _=j.data_fechamento,O=`
      PIT STOP PIZZARIA - RELATÓRIO DE FECHAMENTO DE CAIXA
      ------------------------------------------
      Data do Fechamento: ${(A=>{if(!A)return"Data inválida";try{return j.data_fechamento_formatted?new Date(j.data_fechamento_formatted+"T00:00:00").toLocaleDateString("pt-BR"):new Date(A).toLocaleDateString("pt-BR")}catch{return"Data inválida"}})(_)}
      Fechado em (Sistema): ${new Date(j.created_at).toLocaleString("pt-BR")}
      ------------------------------------------
      TOTAL DE PEDIDOS (Dia do Fechamento): ${j.total_pedidos_dia||j.total_pedidos||0}
      ------------------------------------------
      VENDAS POR FORMA DE PAGAMENTO (Dia do Fechamento):
${y||"  Nenhuma venda registrada por forma de pag."}
      ------------------------------------------
      Total Geral de Vendas Brutas: ${R((j.total_vendas||0)+(j.total_descontos||0))}
      Total de Descontos (Cupons/Pontos): ${R(j.total_descontos)}
      Total Líquido de Vendas: ${R(j.total_vendas)}
      Total de Impostos: ${R(j.total_impostos)}
      Total de Taxas de Entrega: ${R(j.total_taxas_entrega)}
      Total Despesas Extras: ${R(j.total_despesas_extras)}
      Total Receitas Extras: ${R(j.total_receitas_extras)}
      ------------------------------------------
      SALDO FINAL EM CAIXA (Dia do Fechamento): ${R(j.saldo_final)}
      ------------------------------------------
      Observações: ${j.observacoes||"Nenhuma"}
      ------------------------------------------
    `,k=window.open("","_blank");k?(k.document.write("<pre>"+O+"</pre>"),k.document.close(),k.print(),s({title:"Impressão",description:"Preparando relatório para impressão."})):s({title:"Erro de Impressão",description:"Não foi possível abrir a janela de impressão.",variant:"destructive"})},x=e.reduce((j,y)=>j+(y.total_vendas||0),0),b=e.reduce((j,y)=>j+(y.saldo_final||0),0),N=e.reduce((j,y)=>j+(y.total_pedidos_dia||y.total_pedidos||0),0);return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold tracking-tight text-foreground",children:"Relatórios"}),o.jsx("p",{className:"text-muted-foreground",children:"Análise completa de fechamentos e vendas por tipo"})]}),o.jsxs(K,{onClick:()=>a==="fechamentos"?g(c,d,!0):null,disabled:r,variant:"outline",children:[r?o.jsx(ce,{className:"mr-2 h-4 w-4 animate-spin"}):o.jsx(Xi,{className:"mr-2 h-4 w-4"}),"Atualizar"]})]}),o.jsx(ae,{className:"shadow-lg",children:o.jsxs(ve,{children:[o.jsxs(me,{className:"flex items-center text-primary",children:[o.jsx(Wv,{className:"mr-2 h-5 w-5"}),"Filtros"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 pt-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"period-select",className:"text-sm font-medium text-muted-foreground",children:"Período Pré-definido"}),o.jsxs(Et,{value:p,onValueChange:v,children:[o.jsx(jt,{id:"period-select",children:o.jsx(Ct,{placeholder:"Selecione um período"})}),o.jsxs(Nt,{children:[o.jsx(Me,{value:"today",children:"Hoje"}),o.jsx(Me,{value:"last_7_days",children:"Últimos 7 dias"}),o.jsx(Me,{value:"this_week",children:"Esta Semana"}),o.jsx(Me,{value:"last_30_days",children:"Últimos 30 dias"}),o.jsx(Me,{value:"this_month",children:"Este Mês"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"start-date",className:"text-sm font-medium text-muted-foreground",children:"Data Inicial"}),o.jsx(fe,{type:"date",id:"start-date",value:c,onChange:j=>{u(j.target.value),h("custom")},className:"w-full"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"end-date",className:"text-sm font-medium text-muted-foreground",children:"Data Final"}),o.jsx(fe,{type:"date",id:"end-date",value:d,onChange:j=>{f(j.target.value),h("custom")},className:"w-full"})]})]})]})}),o.jsxs(Ja,{value:a,onValueChange:i,className:"w-full",children:[o.jsxs(Un,{className:"grid w-full grid-cols-2",children:[o.jsxs(Ye,{value:"fechamentos",className:"flex items-center gap-2",children:[o.jsx(Bv,{className:"h-4 w-4"}),"Fechamentos de Caixa"]}),o.jsxs(Ye,{value:"comparativo",className:"flex items-center gap-2",children:[o.jsx(Gt,{className:"h-4 w-4"}),"Mesa vs Delivery"]})]}),o.jsx(gt,{value:"fechamentos",className:"space-y-4",children:o.jsxs(ae,{className:"shadow-lg",children:[o.jsx(ie,{className:"pt-6",children:r?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx(ce,{className:"w-12 h-12 text-primary animate-spin"})}):e.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center",children:[o.jsx(S1,{className:"w-16 h-16 text-muted-foreground mb-4"}),o.jsx("h2",{className:"text-xl font-semibold text-foreground mb-2",children:"Nenhum fechamento encontrado"}),o.jsx("p",{className:"text-muted-foreground max-w-md",children:"Não há registros de fechamento de caixa para o período selecionado."})]}):o.jsxs($t,{children:[o.jsxs(En,{children:["Exibindo ",e.length," fechamentos de caixa."]}),o.jsx(kt,{children:o.jsxs(Le,{children:[o.jsx(te,{children:"Data Fechamento"}),o.jsx(te,{children:"Total Vendas"}),o.jsx(te,{children:"Despesas Extras"}),o.jsx(te,{children:"Receitas Extras"}),o.jsx(te,{children:"Saldo Final"}),o.jsx(te,{className:"text-right",children:"Ações"})]})}),o.jsx(Mt,{children:e.map(j=>{const y=w=>{if(!w)return"Data inválida";try{return j.data_fechamento_formatted?new Date(j.data_fechamento_formatted+"T00:00:00").toLocaleDateString("pt-BR"):new Date(w).toLocaleDateString("pt-BR")}catch{return"Data inválida"}};return o.jsxs(Le,{children:[o.jsx(J,{children:y(j.data_fechamento)}),o.jsx(J,{children:R(j.total_vendas)}),o.jsx(J,{children:R(j.total_despesas_extras)}),o.jsx(J,{children:R(j.total_receitas_extras)}),o.jsx(J,{className:"font-semibold",children:R(j.saldo_final)}),o.jsx(J,{className:"text-right",children:o.jsx(K,{variant:"ghost",size:"icon",onClick:()=>m(j),className:"text-sky-500 hover:text-sky-700",children:o.jsx(tl,{className:"h-4 w-4"})})})]},j.id)})})]})}),e.length>0&&o.jsx(la,{className:"border-t pt-4 mt-4",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 w-full",children:[o.jsxs("div",{className:"p-3 bg-muted/50 rounded-md",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Total de Pedidos no Período"}),o.jsx("p",{className:"text-lg font-bold text-primary",children:N})]}),o.jsxs("div",{className:"p-3 bg-muted/50 rounded-md",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Vendas no Período"}),o.jsx("p",{className:"text-lg font-bold text-green-600",children:R(x)})]}),o.jsxs("div",{className:"p-3 bg-muted/50 rounded-md",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Saldo Final Total no Período"}),o.jsx("p",{className:"text-lg font-bold text-blue-600",children:R(b)})]})]})})]})}),o.jsx(gt,{value:"comparativo",className:"space-y-4",children:o.jsx(dW,{startDate:c,endDate:d})})]})]})},fi=S.forwardRef(({className:e,orientation:t="horizontal",...r},n)=>o.jsx("div",{ref:n,className:se("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));fi.displayName="Separator";const Xn=({title:e,value:t,icon:r,color:n="text-gray-500",isLarge:a=!1})=>o.jsxs("div",{className:`p-4 rounded-lg shadow-md bg-background/50 border transition-transform hover:scale-105 ${a?"lg:col-span-1":""}`,children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:`text-sm font-medium text-muted-foreground ${a?"text-base":""}`,children:e}),r&&o.jsx(r,{className:`h-5 w-5 ${n} ${a?"h-6 w-6":""}`})]}),o.jsx("p",{className:`text-2xl font-bold ${n} ${a?"text-3xl mt-1":"mt-1"}`,children:t})]}),jv=({summary:e})=>o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[o.jsx(Xn,{title:"Total de Vendas (Pedidos Entregues)",value:R(e.totalSales),icon:Gt,color:"text-green-500"}),o.jsx(Xn,{title:"Total Despesas Extras",value:R(e.totalExpenses),icon:Yi,color:"text-red-500"}),o.jsx(Xn,{title:"Total Receitas Extras",value:R(e.totalExtraRevenues),icon:Gt,color:"text-blue-500"}),o.jsx(Xn,{title:"Descontos Aplicados",value:R(e.totalDiscounts),color:"text-yellow-500"}),o.jsx(Xn,{title:"Taxas de Entrega",value:R(e.totalDeliveryFees),color:"text-purple-500"}),o.jsx(Xn,{title:"Valor Líquido em Caixa",value:R(e.netRevenue),icon:Fr,color:"text-primary",isLarge:!0})]}),kc={async getAllTransactions(e={}){const t=new URLSearchParams;e.tipo&&t.append("tipo",e.tipo),e.data_inicio&&t.append("data_inicio",e.data_inicio),e.data_fim&&t.append("data_fim",e.data_fim);const r=t.toString();return(await Y.request(`/expenses${r?"?"+r:""}`)).transactions},async getById(e){return(await Y.request(`/expenses/${e}`)).transaction},async createTransaction(e){return(await Y.request("/expenses",{method:"POST",body:JSON.stringify(e)})).transaction},async updateTransaction(e,t){return(await Y.request(`/expenses/${e}`,{method:"PATCH",body:JSON.stringify(t)})).transaction},async deleteTransaction(e){return await Y.request(`/expenses/${e}`,{method:"DELETE"})}},pW=({initialTransactions:e,onTransactionsChange:t,filterDate:r,fetchDailyDataForGivenDate:n})=>{const[a,i]=S.useState(!1),[s,l]=S.useState(null),[c,u]=S.useState("despesa"),[d,f]=S.useState(""),[p,h]=S.useState(""),[g,v]=S.useState(r),[m,x]=S.useState(!1),[b,N]=S.useState([]),{toast:j}=ze();S.useEffect(()=>{N(e.map(O=>({...O,amount:O.valor,date:O.data_transacao,type:O.tipo})))},[e]),S.useEffect(()=>{v(r)},[r]);const y=()=>{l(null),u("despesa"),f(""),h(""),v(r)},w=async O=>{if(O.preventDefault(),!d||!p||!g){j({title:"Erro",description:"Preencha todos os campos da transação.",variant:"destructive"});return}const k=parseFloat(p);if(isNaN(k)||k<=0){j({title:"Erro",description:"Valor da transação inválido.",variant:"destructive"});return}x(!0);const A={tipo:c,descricao:d,valor:k,data_transacao:g};try{s&&s.id?(await kc.updateTransaction(s.id,A),j({title:"Sucesso",description:"Transação atualizada."})):(await kc.createTransaction(A),j({title:"Sucesso",description:"Transação adicionada."})),await n(r),y(),i(!1)}catch(T){j({title:"Erro ao salvar transação",description:T.message,variant:"destructive"})}finally{x(!1)}},_=O=>{l(O),u(O.tipo),f(O.descricao),h(O.valor.toString()),v(O.data_transacao),i(!0)},P=async O=>{x(!0);try{await kc.deleteTransaction(O),j({title:"Sucesso",description:"Transação removida."}),await n(r)}catch(k){j({title:"Erro ao remover transação",description:k.message,variant:"destructive"})}finally{x(!1)}};return o.jsxs(ae,{className:"shadow-xl bg-card/80 backdrop-blur-sm",children:[o.jsxs(ve,{className:"flex flex-col md:flex-row justify-between items-start md:items-center",children:[o.jsxs("div",{children:[o.jsxs(me,{className:"text-xl text-primary flex items-center",children:[o.jsx(Yi,{className:"mr-2"})," Transações Extras do Dia (",new Date(r+"T00:00:00").toLocaleDateString(),")"]}),o.jsx(We,{children:"Registre despesas e receitas não relacionadas diretamente aos pedidos."})]}),o.jsxs(Nr,{open:a,onOpenChange:O=>{i(O),O||y()},children:[o.jsx(C9,{asChild:!0,children:o.jsxs(K,{className:"mt-4 md:mt-0 bg-gradient-to-r from-primary to-red-400 hover:from-primary/90 hover:to-red-400/90 text-white",disabled:m,children:[o.jsx(Ur,{className:"mr-2 h-5 w-5"})," Nova Transação"]})}),o.jsxs(sr,{className:"sm:max-w-md bg-card",children:[o.jsxs(lr,{children:[o.jsx(cr,{className:"text-xl text-primary",children:s?"Editar Transação":"Nova Transação Extra"}),o.jsx(ur,{children:"Insira os detalhes da despesa ou receita."})]}),o.jsxs("form",{onSubmit:w,className:"space-y-4 py-4",children:[o.jsxs("div",{children:[o.jsx(re,{htmlFor:"transactionTypeForm",children:"Tipo"}),o.jsxs(Et,{value:c,onValueChange:u,disabled:m,children:[o.jsx(jt,{id:"transactionTypeForm",children:o.jsx(Ct,{})}),o.jsxs(Nt,{children:[o.jsx(Me,{value:"despesa",children:"Despesa"}),o.jsx(Me,{value:"receita",children:"Receita"})]})]})]}),o.jsxs("div",{children:[o.jsx(re,{htmlFor:"transactionDescriptionForm",children:"Descrição"}),o.jsx(fe,{id:"transactionDescriptionForm",value:d,onChange:O=>f(O.target.value),required:!0,disabled:m})]}),o.jsxs("div",{children:[o.jsx(re,{htmlFor:"transactionAmountForm",children:"Valor (R$)"}),o.jsx(fe,{id:"transactionAmountForm",type:"number",step:"0.01",value:p,onChange:O=>h(O.target.value),required:!0,disabled:m})]}),o.jsxs("div",{children:[o.jsx(re,{htmlFor:"transactionDateForm",children:"Data"}),o.jsx(fe,{id:"transactionDateForm",type:"date",value:g,onChange:O=>v(O.target.value),required:!0,disabled:m})]}),o.jsxs(Sr,{children:[o.jsx(Vn,{asChild:!0,children:o.jsx(K,{type:"button",variant:"outline",disabled:m,children:"Cancelar"})}),o.jsxs(K,{type:"submit",disabled:m,children:[m&&o.jsx(ce,{className:"mr-2 h-4 w-4 animate-spin"}),s?"Salvar":"Adicionar"]})]})]})]})]})]}),o.jsx(ie,{className:"pt-6",children:m&&b.length===0?o.jsx("div",{className:"flex items-center justify-center h-32",children:o.jsx(ce,{className:"h-8 w-8 animate-spin text-primary"})}):!m&&b.length===0?o.jsx("p",{className:"text-muted-foreground text-center py-4",children:"Nenhuma transação extra registrada para esta data."}):o.jsxs($t,{children:[o.jsx(kt,{children:o.jsxs(Le,{children:[o.jsx(te,{children:"Data"}),o.jsx(te,{children:"Tipo"}),o.jsx(te,{children:"Descrição"}),o.jsx(te,{children:"Valor"}),o.jsx(te,{className:"text-right",children:"Ações"})]})}),o.jsx(Mt,{children:b.map(O=>o.jsxs(Le,{children:[o.jsx(J,{children:new Date(O.date+"T00:00:00").toLocaleDateString()}),o.jsx(J,{children:o.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${O.type==="despesa"?"bg-red-100 text-red-700 dark:bg-red-700/30 dark:text-red-300":"bg-green-100 text-green-700 dark:bg-green-700/30 dark:text-green-300"}`,children:O.type==="despesa"?"Despesa":"Receita"})}),o.jsx(J,{children:O.descricao}),o.jsx(J,{children:R(O.amount)}),o.jsxs(J,{className:"text-right space-x-1",children:[o.jsx(K,{variant:"ghost",size:"icon",onClick:()=>_(O),className:"text-blue-500 hover:text-blue-700",disabled:m,children:o.jsx(Dn,{className:"h-4 w-4"})}),o.jsx(K,{variant:"ghost",size:"icon",onClick:()=>P(O.id),className:"text-red-500 hover:text-red-700",disabled:m,children:m&&(s==null?void 0:s.id)===O.id?o.jsx(ce,{className:"h-4 w-4 animate-spin"}):o.jsx(dr,{className:"h-4 w-4"})})]})]},O.id))})]})})]})},hW=({cashClosings:e,onPrintReport:t})=>e.length===0?o.jsx("p",{className:"text-muted-foreground text-center py-4",children:"Nenhum fechamento de caixa registrado."}):o.jsxs($t,{children:[o.jsx(kt,{children:o.jsxs(Le,{children:[o.jsx(te,{children:"Data Fechamento"}),o.jsx(te,{children:"Total Vendas"}),o.jsx(te,{children:"Despesas Extras"}),o.jsx(te,{children:"Receitas Extras"}),o.jsx(te,{children:"Saldo Final"}),o.jsx(te,{className:"text-right",children:"Ações"})]})}),o.jsx(Mt,{children:e.sort((r,n)=>new Date(n.date)-new Date(r.date)).map(r=>o.jsxs(Le,{children:[o.jsxs(J,{children:[new Date(r.date+"T00:00:00").toLocaleDateString()," (Fechado em: ",new Date(r.closedAt).toLocaleDateString(),")"]}),o.jsx(J,{children:R(r.totalSales)}),o.jsx(J,{children:R(r.totalExpenses)}),o.jsx(J,{children:R(r.totalExtraRevenues)}),o.jsx(J,{className:"font-semibold",children:R(r.netRevenue)}),o.jsx(J,{className:"text-right",children:o.jsx(K,{variant:"ghost",size:"icon",onClick:()=>t(r),className:"text-sky-500 hover:text-sky-700",children:o.jsx(tl,{className:"h-4 w-4"})})})]},r.id))}),e.length>5&&o.jsxs(En,{children:["Exibindo ",e.length," fechamentos."]})]}),mW=({salesByPaymentMethod:e,totalOrdersCount:t})=>o.jsxs(ae,{className:"mt-6",children:[o.jsx(ve,{children:o.jsxs(me,{className:"text-lg flex items-center",children:[o.jsx(Oo,{className:"mr-2 text-indigo-500"})," Vendas por Forma de Pagamento"]})}),o.jsxs(ie,{children:[t>0?o.jsx("ul",{className:"space-y-2",children:Object.values(e).filter(r=>r.count>0).map(r=>o.jsxs("li",{className:"flex justify-between items-center text-sm p-2 rounded-md bg-muted/50",children:[o.jsxs("span",{children:[r.name," (",r.count," pedidos):"]}),o.jsx("span",{className:"font-semibold",children:R(r.total)})]},r.name))}):o.jsx("p",{className:"text-muted-foreground text-center",children:"Nenhuma venda registrada para esta data."}),o.jsxs("p",{className:"text-right font-bold mt-2",children:["Total de Pedidos (Entregues): ",t]})]})]}),gW=()=>o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold tracking-tight text-foreground",children:"Fechamento de Caixa"}),o.jsx("p",{className:"text-muted-foreground",children:"Resumo financeiro, registro de transações e histórico de fechamentos."})]}),vW=Ia("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),ij=E.forwardRef(({className:e,variant:t,...r},n)=>o.jsx("div",{ref:n,role:"alert",className:se(vW({variant:t}),e),...r}));ij.displayName="Alert";const yW=E.forwardRef(({className:e,...t},r)=>o.jsx("h5",{ref:r,className:se("mb-1 font-medium leading-none tracking-tight",e),...t}));yW.displayName="AlertTitle";const sj=E.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:se("text-sm [&_p]:leading-relaxed",e),...t}));sj.displayName="AlertDescription";const xW=({selectedDate:e})=>{const[t,r]=S.useState([]),[n,a]=S.useState(!1),[i,s]=S.useState({data_inicio:"",data_fim:""}),{toast:l}=ze();S.useEffect(()=>{c()},[]);const c=async()=>{try{a(!0);const v=new URLSearchParams;i.data_inicio&&v.append("data_inicio",i.data_inicio),i.data_fim&&v.append("data_fim",i.data_fim);const m=await Y.get(`/cash-closing/separate/history?${v}`);r(m.fechamentos||[])}catch(v){console.error("Erro ao buscar histórico:",v),l({title:"Erro",description:"Erro ao carregar histórico de fechamentos",variant:"destructive"})}finally{a(!1)}},u=v=>v?new Date(v).toLocaleDateString("pt-BR"):"",d=v=>v==="delivery"?{icon:Po,label:"Delivery",variant:"default"}:v==="mesa"?{icon:Ao,label:"Mesa",variant:"secondary"}:{icon:xo,label:"Geral",variant:"outline"},f=(v,m)=>{s(x=>({...x,[v]:m}))},p=()=>{c()},h=()=>{s({data_inicio:"",data_fim:""}),setTimeout(()=>c(),100)},g=t.reduce((v,m)=>{const x=m.data_fechamento.split("T")[0];return v[x]||(v[x]=[]),v[x].push(m),v},{});return n&&t.length===0?o.jsx("div",{className:"flex items-center justify-center min-h-[300px]",children:o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx(ce,{className:"h-8 w-8 animate-spin text-primary mx-auto"}),o.jsx("p",{className:"text-muted-foreground",children:"Carregando histórico..."})]})}):o.jsxs(ae,{children:[o.jsx(ve,{children:o.jsxs(me,{className:"flex items-center gap-2",children:[o.jsx(xo,{className:"h-5 w-5"}),"Histórico de Fechamentos Separados"]})}),o.jsxs(ie,{className:"space-y-6",children:[o.jsx(ae,{className:"bg-muted/50",children:o.jsx(ie,{className:"pt-6",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 items-end",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Data Início"}),o.jsx(fe,{type:"date",value:i.data_inicio,onChange:v=>f("data_inicio",v.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Data Fim"}),o.jsx(fe,{type:"date",value:i.data_fim,onChange:v=>f("data_fim",v.target.value)})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(K,{onClick:p,className:"flex-1",children:[o.jsx(An,{className:"h-4 w-4 mr-2"}),"Buscar"]}),o.jsx(K,{variant:"outline",onClick:h,children:"Limpar"})]})]})})}),t.length===0?o.jsxs(ij,{children:[o.jsx(Od,{className:"h-4 w-4"}),o.jsx(sj,{children:"Nenhum fechamento separado encontrado no período selecionado."})]}):o.jsx("div",{className:"space-y-6",children:Object.entries(g).sort(([v],[m])=>new Date(m)-new Date(v)).map(([v,m])=>o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-2 text-lg font-semibold text-primary",children:[o.jsx(xo,{className:"h-5 w-5"}),u(v)]}),o.jsx(ae,{children:o.jsx(ie,{className:"p-0",children:o.jsxs($t,{children:[o.jsx(kt,{children:o.jsxs(Le,{children:[o.jsx(te,{children:"Tipo"}),o.jsx(te,{className:"text-center",children:"Pedidos"}),o.jsx(te,{className:"text-right",children:"Vendas"}),o.jsx(te,{className:"text-right",children:"Descontos"}),o.jsx(te,{className:"text-right",children:"Taxa Entrega"}),o.jsx(te,{className:"text-right",children:"Saldo Final"})]})}),o.jsxs(Mt,{children:[m.sort((x,b)=>x.tipo_fechamento.localeCompare(b.tipo_fechamento)).map(x=>{const b=d(x.tipo_fechamento),N=b.icon;return o.jsxs(Le,{children:[o.jsx(J,{children:o.jsxs(nt,{variant:b.variant,className:"flex items-center gap-1 w-fit",children:[o.jsx(N,{className:"h-3 w-3"}),b.label]})}),o.jsx(J,{className:"text-center",children:x.total_pedidos_dia||x.total_pedidos||0}),o.jsx(J,{className:"text-right font-medium",children:R(x.total_vendas)}),o.jsx(J,{className:"text-right",children:R(x.total_descontos)}),o.jsx(J,{className:"text-right",children:R(x.total_taxas_entrega)}),o.jsx(J,{className:"text-right",children:o.jsx("span",{className:`font-bold ${parseFloat(x.saldo_final)>=0?"text-green-600":"text-red-600"}`,children:R(x.saldo_final)})})]},x.id)}),o.jsxs(Le,{className:"bg-muted/50 font-semibold",children:[o.jsx(J,{className:"font-bold",children:"TOTAL DO DIA"}),o.jsx(J,{className:"text-center font-bold",children:m.reduce((x,b)=>x+(b.total_pedidos_dia||b.total_pedidos||0),0)}),o.jsx(J,{className:"text-right font-bold",children:R(m.reduce((x,b)=>x+parseFloat(b.total_vendas||0),0))}),o.jsx(J,{className:"text-right font-bold",children:R(m.reduce((x,b)=>x+parseFloat(b.total_descontos||0),0))}),o.jsx(J,{className:"text-right font-bold",children:R(m.reduce((x,b)=>x+parseFloat(b.total_taxas_entrega||0),0))}),o.jsx(J,{className:"text-right font-bold",children:o.jsx("span",{className:`${m.reduce((x,b)=>x+parseFloat(b.saldo_final||0),0)>=0?"text-green-600":"text-red-600"}`,children:R(m.reduce((x,b)=>x+parseFloat(b.saldo_final||0),0))})})]})]})]})})})]},v))})]})]})},md={async getAllCashClosings(){try{return(await Y.get("/cash-closing")).cash_closings||[]}catch(e){throw console.error("Error fetching cash closings:",e.message),e}},async getCurrentDayData(){try{return await Y.get("/cash-closing/current")||{}}catch(e){throw console.error("Error fetching current day data:",e.message),e}},async createCashClosing(e){try{return(await Y.post("/cash-closing",e)).cash_closing}catch(t){throw console.error("Error creating cash closing:",t.message),t}},async updateCashClosing(e,t){try{return(await Y.patch(`/cash-closing/${e}`,t)).cash_closing}catch(r){throw console.error("Error updating cash closing:",r.message),r}},async deleteCashClosing(e){try{return await Y.delete(`/cash-closing/${e}`),{success:!0}}catch(t){throw console.error("Error deleting cash closing:",t.message),t}},async closeDay(e=""){try{const{cash_closing:t,already_closed:r}=await this.getCurrentDayData();if(r)throw new Error("O caixa já foi fechado hoje");return await this.createCashClosing({...t,observacoes:e})}catch(t){throw console.error("Error closing day:",t.message),t}},async closeDayAutomatic(e=""){try{return await this.createCashClosing({auto_generate:!0,observacoes:e||`Fechamento automático gerado em ${new Date().toLocaleString("pt-BR")}`})}catch(t){throw console.error("Error closing day automatically:",t.message),t}}},bW={async getAllExpenses(e={}){try{const t=new URLSearchParams;return e.tipo&&t.append("tipo",e.tipo),e.data_inicio&&t.append("data_inicio",e.data_inicio),e.data_fim&&t.append("data_fim",e.data_fim),(await Y.get(`/expenses?${t.toString()}`)).expenses||[]}catch(t){throw console.error("Error fetching expenses:",t.message),t}},async getExpenseById(e){try{return(await Y.get(`/expenses/${e}`)).expense}catch(t){throw console.error("Error fetching expense:",t.message),t}},async getExpensesSummary(e={}){try{const t=new URLSearchParams;return e.data_inicio&&t.append("data_inicio",e.data_inicio),e.data_fim&&t.append("data_fim",e.data_fim),(await Y.get(`/expenses/summary?${t.toString()}`)).summary||{}}catch(t){throw console.error("Error fetching expenses summary:",t.message),t}},async createExpense(e){try{return(await Y.post("/expenses",e)).expense}catch(t){throw console.error("Error creating expense:",t.message),t}},async updateExpense(e,t){try{return(await Y.patch(`/expenses/${e}`,t)).expense}catch(r){throw console.error("Error updating expense:",r.message),r}},async deleteExpense(e){try{return await Y.delete(`/expenses/${e}`),{success:!0}}catch(t){throw console.error("Error deleting expense:",t.message),t}},async getDespesas(e={}){return this.getAllExpenses({...e,tipo:"despesa"})},async getReceitas(e={}){return this.getAllExpenses({...e,tipo:"receita"})},async createDespesa(e){return this.createExpense({...e,tipo:"despesa"})},async createReceita(e){return this.createExpense({...e,tipo:"receita"})},async fetchDailyTransactions(e){try{const t=e,r=e;return{data:await this.getAllExpenses({data_inicio:t,data_fim:r})||[],error:null}}catch(t){return console.error("Error fetching daily transactions:",t.message),{data:[],error:t}}},async getTodayExpenses(){const e=new Date().toISOString().split("T")[0];return this.getAllExpenses({tipo:"despesa",data_inicio:e,data_fim:e})},async getTodaySummary(){const e=new Date().toISOString().split("T")[0];return this.getExpensesSummary({data_inicio:e,data_fim:e})},async getExpensesByCategory(e=null){try{const t=e||new Date().toISOString().split("T")[0],r=await this.getAllExpenses({tipo:"despesa",data_inicio:t,data_fim:t}),n={};return r.forEach(a=>{const i=a.categoria||"outro";n[i]||(n[i]={total:0,count:0,items:[]}),n[i].total+=parseFloat(a.valor),n[i].count+=1,n[i].items.push(a)}),n}catch(t){throw console.error("Erro ao buscar despesas por categoria:",t),new Error("Erro ao buscar despesas por categoria")}}},wW={async getFechamentoConsolidado(e,t){try{const r={};return e&&(r.data_inicio=e),t&&(r.data_fim=t),await Y.get("/dashboard/fechamento-consolidado",{params:r})}catch(r){throw console.error("Erro ao buscar dados consolidados:",r),r}},async getMesasTempoReal(){try{return await Y.get("/dashboard/mesas-tempo-real")}catch(e){throw console.error("Erro ao buscar status das mesas:",e),e}},async getDashboardData(){try{return await Y.get("/dashboard")}catch(e){throw console.error("Erro ao buscar dados do dashboard:",e),e}}},jW=({data:e})=>{var i;if(!((i=e==null?void 0:e.cash_closing)!=null&&i.details_by_type)||e.cash_closing.details_by_type.length===0)return o.jsx(ae,{className:"border-dashed",children:o.jsx(ie,{className:"pt-6",children:o.jsx("p",{className:"text-muted-foreground text-center",children:"Nenhum dado por tipo disponível"})})});const t=e.cash_closing.details_by_type,r=t.reduce((s,l)=>s+l.vendas_brutas,0),n=t.find(s=>s.tipo_pedido==="mesa"),a=t.find(s=>s.tipo_pedido==="delivery");return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"text-center mb-4",children:[o.jsx("h3",{className:"text-lg font-semibold",children:"Resumo por Tipo de Pedido"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Distribuição das vendas do dia"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n&&o.jsxs(ae,{className:"border-l-4 border-l-green-500 bg-green-50/50 dark:bg-green-950/50",children:[o.jsx(ve,{className:"pb-3",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(me,{className:"text-lg flex items-center gap-2 text-green-700 dark:text-green-300",children:[o.jsx(Eo,{className:"h-5 w-5"}),"Total Vendas Mesa"]}),o.jsxs(nt,{variant:"secondary",className:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",children:[r>0?(n.vendas_brutas/r*100).toFixed(1):0,"%"]})]})}),o.jsx(ie,{children:o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:R(n.vendas_brutas)}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[n.total_pedidos," pedidos entregues"]})]}),o.jsxs("div",{className:"pt-2 border-t space-y-1 text-xs",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Ticket Médio:"}),o.jsx("span",{className:"font-medium",children:R(n.ticket_medio)})]}),n.descontos_totais>0&&o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Descontos:"}),o.jsx("span",{className:"font-medium text-orange-600",children:R(n.descontos_totais)})]})]})]})})]}),a&&o.jsxs(ae,{className:"border-l-4 border-l-blue-500 bg-blue-50/50 dark:bg-blue-950/50",children:[o.jsx(ve,{className:"pb-3",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(me,{className:"text-lg flex items-center gap-2 text-blue-700 dark:text-blue-300",children:[o.jsx(wr,{className:"h-5 w-5"}),"Total Vendas Delivery"]}),o.jsxs(nt,{variant:"secondary",className:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",children:[r>0?(a.vendas_brutas/r*100).toFixed(1):0,"%"]})]})}),o.jsx(ie,{children:o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:R(a.vendas_brutas)}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[a.total_pedidos," pedidos entregues"]})]}),o.jsxs("div",{className:"pt-2 border-t space-y-1 text-xs",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Ticket Médio:"}),o.jsx("span",{className:"font-medium",children:R(a.ticket_medio)})]}),a.total_taxas_entrega>0&&o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Taxa Entrega:"}),o.jsx("span",{className:"font-medium text-blue-600",children:R(a.total_taxas_entrega)})]}),a.descontos_totais>0&&o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Descontos:"}),o.jsx("span",{className:"font-medium text-orange-600",children:R(a.descontos_totais)})]})]})]})})]})]}),o.jsx(ae,{className:"bg-muted/30",children:o.jsx(ie,{className:"pt-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Geral"}),o.jsx("p",{className:"text-2xl font-bold",children:R(r)})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Pedidos"}),o.jsx("p",{className:"text-2xl font-bold",children:t.reduce((s,l)=>s+l.total_pedidos,0)})]})]})})})]})},NW=({detailsByType:e})=>{if(!e||e.length===0)return o.jsx(ae,{className:"border-dashed",children:o.jsx(ie,{className:"pt-6",children:o.jsx("p",{className:"text-muted-foreground text-center",children:"Nenhum dado por tipo disponível"})})});e.reduce((r,n)=>r+n.total_pedidos,0);const t=e.reduce((r,n)=>r+n.vendas_brutas,0);return o.jsx("div",{className:"space-y-4",children:o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.map(r=>{const a=r.tipo_pedido==="delivery"?Po:Ao,i=t>0?(r.vendas_brutas/t*100).toFixed(1):0;return o.jsxs(ae,{className:"border-l-4",style:{borderLeftColor:r.tipo_pedido==="delivery"?"#10b981":"#3b82f6"},children:[o.jsx(ve,{className:"pb-3",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(me,{className:"text-lg flex items-center gap-2",children:[o.jsx(a,{className:"h-5 w-5"}),r.tipo_pedido==="delivery"?"Delivery":"Mesa"]}),o.jsxs(nt,{variant:"secondary",children:[i,"%"]})]})}),o.jsxs(ie,{className:"space-y-3",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-muted-foreground",children:"Pedidos"}),o.jsx("p",{className:"text-2xl font-bold",children:r.total_pedidos})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-muted-foreground",children:"Vendas"}),o.jsx("p",{className:"text-2xl font-bold text-green-600",children:R(r.vendas_brutas)})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-muted-foreground",children:"Ticket Médio"}),o.jsx("p",{className:"text-lg font-semibold",children:R(r.ticket_medio)})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-muted-foreground",children:"Descontos"}),o.jsx("p",{className:"text-lg font-semibold text-orange-600",children:R(r.descontos_totais)})]})]}),r.tipo_pedido==="delivery"&&r.total_taxas_entrega>0&&o.jsxs("div",{className:"pt-2 border-t",children:[o.jsx("p",{className:"text-muted-foreground text-sm",children:"Taxa de Entrega"}),o.jsx("p",{className:"text-lg font-semibold text-blue-600",children:R(r.total_taxas_entrega)})]}),o.jsxs("div",{className:"pt-2 border-t",children:[o.jsx("p",{className:"text-muted-foreground text-sm mb-2",children:"Formas de Pagamento:"}),o.jsxs("div",{className:"space-y-1",children:[r.vendas_dinheiro>0&&o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{children:"Dinheiro:"}),o.jsxs("span",{children:[R(r.vendas_dinheiro)," (",r.pedidos_dinheiro,")"]})]}),r.vendas_cartao>0&&o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{children:"Cartão:"}),o.jsxs("span",{children:[R(r.vendas_cartao)," (",r.pedidos_cartao,")"]})]}),r.vendas_pix>0&&o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{children:"PIX:"}),o.jsxs("span",{children:[R(r.vendas_pix)," (",r.pedidos_pix,")"]})]})]})]})]})]},r.tipo_pedido)})})})},SW=async()=>{try{return await md.getCurrentDayData()}catch(e){throw console.error("[CashClosing] Erro ao buscar dados atuais:",e),e}},_W=async e=>{try{console.log("[DEBUG] Buscando pedidos para data:",e);const t=await Lr.getAllOrders({data_inicio:e,data_fim:e,status:["entregue","retirado"]});console.log("[DEBUG] Pedidos encontrados:",(t==null?void 0:t.length)||0);const{data:r,error:n}=await bW.fetchDailyTransactions(e);if(n)throw n;return{orders:t||[],transactions:r||[]}}catch(t){throw console.error("[CashClosing] Erro ao buscar dados do dia:",t),t}},PW=(e,t)=>{const r=e.reduce((h,g)=>h+(parseFloat(g.total)||0),0),n=e.length,a=t.filter(h=>h.tipo==="despesa").reduce((h,g)=>h+(parseFloat(g.valor)||0),0),i=t.filter(h=>h.tipo==="receita").reduce((h,g)=>h+(parseFloat(g.valor)||0),0),s=e.reduce((h,g)=>h+(parseFloat(g.desconto_aplicado)||0),0),l=e.reduce((h,g)=>h+(g.pontos_resgatados||0)*.5,0),c=s+l,u=0,d=e.reduce((h,g)=>h+(parseFloat(g.taxa_entrega)||0),0),f=r+i-a,p=pt.reduce((h,g)=>(h[g.id]={name:g.name,total:0,count:0},h),{});return e.forEach(h=>{const g=h.forma_pagamento,v=parseFloat(h.total)||0;p[g]?(p[g].total+=v,p[g].count+=1):p[g]={name:g,total:v,count:1}}),{totalSales:r,totalOrdersCount:n,totalExpenses:a,totalExtraRevenues:i,totalDiscounts:c,totalTaxes:u,totalDeliveryFees:d,netRevenue:f,salesByPaymentMethod:p}},OW=({selectedDate:e})=>{const[t,r]=S.useState("delivery"),[n,a]=S.useState(!1),[i,s]=S.useState(null),{toast:l}=ze(),c=[{value:"delivery",label:"Delivery",icon:Po,color:"text-blue-600",bgColor:"bg-blue-50 dark:bg-blue-950"},{value:"mesa",label:"Mesa",icon:Ao,color:"text-green-600",bgColor:"bg-green-50 dark:bg-green-950"},{value:"history",label:"Histórico",icon:Ed,color:"text-purple-600",bgColor:"bg-purple-50 dark:bg-purple-950"}];S.useEffect(()=>{e&&t!=="history"&&u(e)},[e,t]),S.useEffect(()=>{const h=x=>{console.log("💰 [SeparateClosing] Evento de mudança de status recebido:",x.detail),e&&t!=="history"&&u(e)},g=()=>{console.log("💰 [SeparateClosing] Evento de pedido salvo recebido"),e&&t!=="history"&&u(e)},v=x=>{console.log("💰 [SeparateClosing] Evento de pedido entregue recebido:",x.detail),e&&t!=="history"&&setTimeout(()=>{u(e)},500)},m=x=>{var b;console.log("💰 [SeparateClosing] Evento cashUpdated recebido:",x.detail),e&&t!=="history"&&((b=x.detail)==null?void 0:b.action)==="order_delivered"&&setTimeout(()=>{u(e)},500)};return window.addEventListener("orderStatusChanged",h),window.addEventListener("orderSaved",g),window.addEventListener("orderDelivered",v),window.addEventListener("cashUpdated",m),()=>{window.removeEventListener("orderStatusChanged",h),window.removeEventListener("orderSaved",g),window.removeEventListener("orderDelivered",v),window.removeEventListener("cashUpdated",m)}},[e,t]);const u=async h=>{try{a(!0);const g=await Y.get(`/cash-closing/separate/summary/${h}`);s(g)}catch(g){console.error("Erro ao buscar resumo:",g),l({title:"Erro",description:"Erro ao carregar dados do resumo separado",variant:"destructive"})}finally{a(!1)}},f=(()=>!i||t==="history"?null:i[t])(),p=({type:h,data:g,typeInfo:v})=>{const[m,x]=S.useState(!1),[b,N]=S.useState(!1),j=async()=>{var w,_;if(g){N(!0);try{const P={tipo_fechamento:h,data_fechamento:e,total_pedidos:g.total_pedidos,total_vendas:g.vendas_brutas,total_despesas_extras:g.total_despesas,total_receitas_extras:g.receitas_extras,total_descontos:g.descontos_totais,total_taxas_entrega:g.total_taxas_entrega||0,saldo_final:g.saldo_final,observacoes:`Fechamento ${h} do dia ${new Date(e+"T00:00:00").toLocaleDateString()}`,vendas_por_metodo:{dinheiro:g.vendas_dinheiro,cartao:g.vendas_cartao,pix:g.vendas_pix}};await Y.post("/cash-closing/separate/close",P),l({title:"Fechamento Salvo!",description:`Fechamento de ${h} realizado com sucesso.`}),x(!0)}catch(P){l({title:"Erro",description:((_=(w=P.response)==null?void 0:w.data)==null?void 0:_.error)||"Erro ao salvar fechamento",variant:"destructive"})}finally{N(!1)}}};if(!g)return o.jsx(ae,{className:"border-dashed",children:o.jsx(ie,{className:"pt-6",children:o.jsxs("p",{className:"text-muted-foreground text-center",children:["Nenhum dado disponível para ",h]})})});const y=v.icon;return o.jsx("div",{className:"space-y-4",children:o.jsxs(ae,{className:`border-l-4 ${v.bgColor}`,style:{borderLeftColor:v.color},children:[o.jsxs(ve,{children:[o.jsxs(me,{className:"flex items-center gap-2",children:[o.jsx(y,{className:"h-5 w-5"}),"Fechamento ",v.label]}),o.jsxs(We,{children:["Resumo das vendas de ",h," para ",new Date(e+"T00:00:00").toLocaleDateString()]})]}),o.jsxs(ie,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-muted-foreground",children:"Pedidos"}),o.jsx("p",{className:"text-2xl font-bold",children:g.total_pedidos})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-muted-foreground",children:"Vendas Brutas"}),o.jsx("p",{className:"text-2xl font-bold text-green-600",children:R(g.vendas_brutas)})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-muted-foreground",children:"Vendas Líquidas"}),o.jsx("p",{className:"text-lg font-semibold",children:R(g.vendas_liquidas)})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-muted-foreground",children:"Saldo Final"}),o.jsx("p",{className:"text-lg font-semibold text-blue-600",children:R(g.saldo_final)})]})]}),h==="delivery"&&g.total_taxas_entrega>0&&o.jsxs("div",{className:"pt-2 border-t",children:[o.jsx("p",{className:"text-muted-foreground text-sm",children:"Taxa de Entrega"}),o.jsx("p",{className:"text-lg font-semibold text-blue-600",children:R(g.total_taxas_entrega)})]}),o.jsxs("div",{className:"pt-2 border-t",children:[o.jsx("p",{className:"text-muted-foreground text-sm mb-2",children:"Formas de Pagamento:"}),o.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm",children:[g.vendas_dinheiro>0&&o.jsxs("div",{className:"text-center p-2 bg-muted/50 rounded",children:[o.jsx("p",{className:"font-semibold",children:"Dinheiro"}),o.jsx("p",{children:R(g.vendas_dinheiro)}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:["(",g.pedidos_dinheiro,")"]})]}),g.vendas_cartao>0&&o.jsxs("div",{className:"text-center p-2 bg-muted/50 rounded",children:[o.jsx("p",{className:"font-semibold",children:"Cartão"}),o.jsx("p",{children:R(g.vendas_cartao)}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:["(",g.pedidos_cartao,")"]})]}),g.vendas_pix>0&&o.jsxs("div",{className:"text-center p-2 bg-muted/50 rounded",children:[o.jsx("p",{className:"font-semibold",children:"PIX"}),o.jsx("p",{children:R(g.vendas_pix)}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:["(",g.pedidos_pix,")"]})]})]})]})]}),o.jsx(la,{children:o.jsxs(K,{onClick:j,disabled:b||m,className:"w-full",children:[b&&o.jsx(ce,{className:"mr-2 h-4 w-4 animate-spin"}),m?"Fechamento Salvo":`Fechar Caixa ${v.label}`]})})]})})};return n&&!i?o.jsx("div",{className:"flex items-center justify-center min-h-[40vh]",children:o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx(ce,{className:"h-8 w-8 animate-spin text-primary mx-auto"}),o.jsx("p",{className:"text-muted-foreground",children:"Carregando dados do fechamento separado..."})]})}):o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex justify-between items-center",children:o.jsxs("div",{children:[o.jsxs("h2",{className:"text-2xl font-bold tracking-tight flex items-center gap-2",children:[o.jsx(Yv,{className:"h-6 w-6"}),"Fechamento Separado"]}),o.jsx("p",{className:"text-muted-foreground",children:"Gerencie os fechamentos de caixa separadamente para delivery e mesa"})]})}),o.jsxs(Ja,{value:t,onValueChange:r,className:"w-full",children:[o.jsx(Un,{className:"grid w-full grid-cols-3",children:c.map(h=>{const g=h.icon;return o.jsxs(Ye,{value:h.value,className:"flex items-center gap-2",children:[o.jsx(g,{className:"w-4 h-4"}),h.label]},h.value)})}),o.jsx(gt,{value:"delivery",className:"space-y-6",children:o.jsx(p,{type:"delivery",data:f,typeInfo:c[0]})}),o.jsx(gt,{value:"mesa",className:"space-y-6",children:o.jsx(p,{type:"mesa",data:f,typeInfo:c[1]})}),o.jsx(gt,{value:"history",className:"space-y-6",children:o.jsx(xW,{selectedDate:e})})]})]})},Nv=()=>{var X;const{mode:e}=m1(),[t,r]=S.useState(null),[n,a]=S.useState({orders:[],transactions:[]}),[i,s]=S.useState([]),[l,c]=S.useState(""),[u,d]=S.useState(new Date().toISOString().split("T")[0]),[f,p]=S.useState(!1),[h,g]=S.useState(!1),[v,m]=S.useState(!1),[x,b]=S.useState(!1),[N,j]=S.useState(()=>e==="separado"?"separate":"overview"),{toast:y}=ze();S.useEffect(()=>{j(e==="separado"?"separate":"overview")},[e]);const w=S.useCallback(async()=>{g(!0);try{const I=await SW();if(r(I),u===new Date().toISOString().split("T")[0])return}catch(I){y({title:"Erro ao buscar dados atuais",description:I.message,variant:"destructive"}),r(null)}finally{g(!1)}},[y,u]),_=S.useCallback(async I=>{g(!0);try{const{orders:W,transactions:B}=await _W(I);a({orders:W,transactions:B})}catch(W){y({title:"Erro ao buscar dados do dia",description:W.message,variant:"destructive"}),a({orders:[],transactions:[]})}finally{g(!1)}},[y]),P=S.useCallback(async()=>{if(f){m(!0);try{const W=(await md.getAllCashClosings()).map(B=>({id:B.id,date:B.data_fechamento,closedAt:B.created_at,totalSales:B.total_vendas,totalExpenses:B.total_despesas_extras,totalExtraRevenues:B.total_receitas_extras,netRevenue:B.saldo_final,totalDiscounts:B.total_descontos,totalTaxes:B.total_impostos,totalDeliveryFees:B.total_taxas_entrega,totalOrdersCount:B.total_pedidos_dia||B.total_pedidos||0,salesByPaymentMethod:B.vendas_por_metodo||{}}));s(W)}catch(I){y({title:"Erro ao buscar histórico",description:I.message,variant:"destructive"}),s([])}finally{m(!1)}}},[y,f]);S.useEffect(()=>{const I=new Date().toISOString().split("T")[0];u===I?w():_(u)},[u,w,_]),S.useEffect(()=>{f&&P()},[f,P]),S.useEffect(()=>{const I=Q=>{console.log("💰 [CashClosing] Evento cashUpdated recebido:",Q.detail);const ee=new Date().toISOString().split("T")[0];u===ee&&setTimeout(()=>{w()},1e3)},W=Q=>{var ee,ge;if(console.log("💰 [CashClosing] Evento orderStatusChanged recebido:",Q.detail),((ee=Q.detail)==null?void 0:ee.newStatus)==="fechada"||((ge=Q.detail)==null?void 0:ge.newStatus)==="entregue"){const we=new Date().toISOString().split("T")[0];u===we&&setTimeout(()=>{w()},1e3)}},B=Q=>{console.log("💰 [CashClosing] Evento orderDelivered recebido:",Q.detail);const ee=new Date().toISOString().split("T")[0];u===ee&&setTimeout(()=>{w(),N==="dashboard"&&H()},500)};return window.addEventListener("cashUpdated",I),window.addEventListener("orderStatusChanged",W),window.addEventListener("orderDelivered",B),()=>{window.removeEventListener("cashUpdated",I),window.removeEventListener("orderStatusChanged",W),window.removeEventListener("orderDelivered",B)}},[u,w,N]);const O=S.useMemo(()=>PW(n.orders,n.transactions),[n]),k=u===new Date().toISOString().split("T")[0],A=k&&t?t:null,T=async()=>{b(!0);try{if(A!=null&&A.already_closed){y({title:"Atenção",description:`O caixa para o dia ${new Date(u+"T00:00:00").toLocaleDateString()} já foi fechado.`,variant:"destructive"}),b(!1);return}const I={auto_generate:!0,observacoes:l||`Fechamento automático do dia ${new Date(u+"T00:00:00").toLocaleDateString()}`},W=await md.createCashClosing(I);y({title:"Caixa Fechado! 🎉",description:`Fechamento automático do dia ${new Date(u+"T00:00:00").toLocaleDateString()} realizado com sucesso.`}),f&&P(),await w(),c("");const B=new CustomEvent("cashClosed",{detail:W});window.dispatchEvent(B)}catch(I){y({title:"Erro ao fechar caixa",description:I.message,variant:"destructive"})}finally{b(!1)}},z=I=>{var F;const W=!I,B=I||{date:u,...O,closedAt:W?null:I.closedAt||new Date().toISOString()},Q=B.salesByPaymentMethod||{};let ee=Object.values(Q).filter(he=>he.count>0).map(he=>`  - ${he.name}: ${R(he.total)} (${he.count} pedidos)`).join(`
`);ee||(ee="  Nenhuma venda registrada por forma de pag.");const ge={dinheiro:0,pix:0,cartao_debito:0,cartao_credito:0,outro:0};Object.values(Q).forEach(he=>{var be;const le=parseFloat(he.total||0);if(le>0){const ue=((be=he.name)==null?void 0:be.toLowerCase())||"";ue.includes("dinheiro")?ge.dinheiro+=le:ue.includes("pix")?ge.pix+=le:ue.includes("cartão")||ue.includes("cartao")?ue.includes("débito")||ue.includes("debito")?ge.cartao_debito+=le:(ue.includes("crédito")||ue.includes("credito"),ge.cartao_credito+=le):ge.outro+=le}});let we=0,pe=0;if(W&&k&&((F=A==null?void 0:A.cash_closing)!=null&&F.details_by_type)){const he=A.cash_closing.details_by_type,le=he.find(ue=>ue.tipo_pedido==="mesa"),be=he.find(ue=>ue.tipo_pedido==="delivery");we=parseFloat((le==null?void 0:le.vendas_brutas)||0),pe=parseFloat((be==null?void 0:be.vendas_brutas)||0)}const D=B.date||B.data_fechamento,q=`PIT STOP PIZZARIA - FECHAMENTO DE CAIXA
------------------------------------------
Data: ${new Date(D+"T00:00:00").toLocaleDateString()}
${B.closedAt?`Fechado em: ${new Date(B.closedAt).toLocaleString()}`:"Status: Em Aberto (Resumo do Dia)"}
------------------------------------------
TOTAL DE PEDIDOS (Entregues): ${B.totalOrdersCount||0}
------------------------------------------
VENDAS POR FORMA DE PAGAMENTO:
${ee}

TOTAL POR FORMA DE PAGAMENTO:
Dinheiro: ${R(ge.dinheiro)}
PIX: ${R(ge.pix)}
Cartão Débito: ${R(ge.cartao_debito)}
Cartão Crédito: ${R(ge.cartao_credito)}
Outro: ${R(ge.outro)}
------------------------------------------
Total Geral de Vendas Brutas: ${R((B.totalSales||0)+(B.totalDiscounts||0))}
Total de Descontos (Cupons/Pontos): ${R(B.totalDiscounts||0)}
Total Líquido de Vendas: ${R(B.totalSales||0)}
Total de Impostos: ${R(B.totalTaxes||0)}
Total de Taxas de Entrega: ${R(B.totalDeliveryFees||0)}
Total Despesas Extras: ${R(B.totalExpenses||0)}
Total Receitas Extras: ${R(B.totalExtraRevenues||0)}
------------------------------------------
RESUMO POR TIPO DE PEDIDO:
Total Vendas Mesa: ${R(we)}
Total Vendas Delivery: ${R(pe)}
------------------------------------------
SALDO FINAL EM CAIXA: ${R(B.netRevenue||0)}
------------------------------------------`,G=window.open("","_blank");G?(G.document.write("<pre>"+q+"</pre>"),G.document.close(),G.print(),y({title:"Impressão",description:"Preparando relatório para impressão."})):y({title:"Erro de Impressão",description:"Não foi possível abrir a janela de impressão.",variant:"destructive"})},[$,M]=S.useState(null),[L,V]=S.useState(!1),H=async(I=null,W=null)=>{try{console.log("🔍 [Dashboard] Buscando dados dashboard:",{dataInicio:I,dataFim:W,filterDate:u}),V(!0);const B=await wW.getFechamentoConsolidado(I||u,W||u);console.log("✅ [Dashboard] Dados recebidos:",B),M(B)}catch(B){console.error("❌ [Dashboard] Erro ao buscar dados:",B),y({title:"Erro",description:"Erro ao carregar dados do dashboard",variant:"destructive"})}finally{V(!1)}};S.useEffect(()=>{console.log("🔄 [Dashboard] useEffect triggered:",{activeTab:N,filterDate:u}),N==="dashboard"&&(console.log("📊 [Dashboard] Chamando fetchDashboardData..."),H())},[u,N]),S.useEffect(()=>{console.log("🚀 [Dashboard] Carregamento inicial..."),H()},[]);const C=()=>{if(L)return o.jsx(ae,{children:o.jsx(ie,{className:"p-6",children:o.jsxs("div",{className:"flex items-center justify-center h-32",children:[o.jsx(ce,{className:"h-8 w-8 animate-spin"}),o.jsx("span",{className:"ml-2",children:"Carregando dados do dashboard..."})]})})});if(!$)return o.jsx(ae,{children:o.jsx(ie,{className:"p-6",children:o.jsx("div",{className:"text-center text-muted-foreground",children:"Nenhum dado disponível para o período selecionado"})})});const{vendas_por_tipo:I,mesas_abertas:W,totais_gerais:B,top_produtos:Q}=$;return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsx(ae,{children:o.jsx(ie,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Pedidos"}),o.jsx("p",{className:"text-2xl font-bold",children:B.total_pedidos})]}),o.jsx(Fc,{className:"h-8 w-8 text-blue-500"})]})})}),o.jsx(ae,{children:o.jsx(ie,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Vendas Brutas"}),o.jsx("p",{className:"text-2xl font-bold text-green-600",children:R(B.vendas_brutas)})]}),o.jsx(Fr,{className:"h-8 w-8 text-green-500"})]})})}),o.jsx(ae,{children:o.jsx(ie,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Mesas Abertas"}),o.jsx("p",{className:"text-2xl font-bold text-orange-600",children:B.mesas_abertas})]}),o.jsx(Eo,{className:"h-8 w-8 text-orange-500"})]})})}),o.jsx(ae,{children:o.jsx(ie,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Valor Pendente"}),o.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:R(B.valor_pendente_mesas)})]}),o.jsx(Ki,{className:"h-8 w-8 text-yellow-500"})]})})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[I.mesa&&o.jsxs(ae,{children:[o.jsx(ve,{children:o.jsxs(me,{className:"flex items-center gap-2",children:[o.jsx(Eo,{className:"h-5 w-5 text-green-600"}),"Mesa - Consumo Local"]})}),o.jsxs(ie,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Pedidos"}),o.jsx("p",{className:"text-xl font-semibold",children:I.mesa.total_pedidos})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Vendas"}),o.jsx("p",{className:"text-xl font-semibold text-green-600",children:R(I.mesa.vendas_liquidas)})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Ticket Médio"}),o.jsx("p",{className:"text-lg font-medium",children:R(I.mesa.ticket_medio)})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Descontos"}),o.jsx("p",{className:"text-lg font-medium text-red-600",children:R(I.mesa.descontos_totais)})]})]}),o.jsx(fi,{}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Formas de Pagamento:"}),o.jsxs("div",{className:"space-y-2",children:[I.mesa.formas_pagamento.dinheiro.valor>0&&o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsxs("span",{children:["💵 Dinheiro (",I.mesa.formas_pagamento.dinheiro.pedidos,")"]}),o.jsx("span",{children:R(I.mesa.formas_pagamento.dinheiro.valor)})]}),I.mesa.formas_pagamento.cartao.valor>0&&o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsxs("span",{children:["💳 Cartão (",I.mesa.formas_pagamento.cartao.pedidos,")"]}),o.jsx("span",{children:R(I.mesa.formas_pagamento.cartao.valor)})]}),I.mesa.formas_pagamento.pix.valor>0&&o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsxs("span",{children:["📱 PIX (",I.mesa.formas_pagamento.pix.pedidos,")"]}),o.jsx("span",{children:R(I.mesa.formas_pagamento.pix.valor)})]})]})]})]})]}),I.delivery&&o.jsxs(ae,{children:[o.jsx(ve,{children:o.jsxs(me,{className:"flex items-center gap-2",children:[o.jsx(wr,{className:"h-5 w-5 text-blue-600"}),"Delivery - Entrega"]})}),o.jsxs(ie,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Pedidos"}),o.jsx("p",{className:"text-xl font-semibold",children:I.delivery.total_pedidos})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Vendas"}),o.jsx("p",{className:"text-xl font-semibold text-blue-600",children:R(I.delivery.vendas_liquidas)})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Ticket Médio"}),o.jsx("p",{className:"text-lg font-medium",children:R(I.delivery.ticket_medio)})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Taxa Entrega"}),o.jsx("p",{className:"text-lg font-medium text-blue-600",children:R(I.delivery.total_taxas_entrega)})]})]}),o.jsx(fi,{}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Formas de Pagamento:"}),o.jsxs("div",{className:"space-y-2",children:[I.delivery.formas_pagamento.dinheiro.valor>0&&o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsxs("span",{children:["💵 Dinheiro (",I.delivery.formas_pagamento.dinheiro.pedidos,")"]}),o.jsx("span",{children:R(I.delivery.formas_pagamento.dinheiro.valor)})]}),I.delivery.formas_pagamento.cartao.valor>0&&o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsxs("span",{children:["💳 Cartão (",I.delivery.formas_pagamento.cartao.pedidos,")"]}),o.jsx("span",{children:R(I.delivery.formas_pagamento.cartao.valor)})]}),I.delivery.formas_pagamento.pix.valor>0&&o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsxs("span",{children:["📱 PIX (",I.delivery.formas_pagamento.pix.pedidos,")"]}),o.jsx("span",{children:R(I.delivery.formas_pagamento.pix.valor)})]})]})]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs(ae,{children:[o.jsx(ve,{children:o.jsxs(me,{className:"flex items-center gap-2",children:[o.jsx(cn,{className:"h-5 w-5"}),"Mesas Abertas (",W.length,")"]})}),o.jsx(ie,{children:W.length===0?o.jsx("p",{className:"text-center text-muted-foreground py-4",children:"Todas as mesas estão fechadas"}):o.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:W.map((ee,ge)=>o.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[o.jsxs("div",{children:[o.jsxs("span",{className:"font-medium",children:["Mesa #",ee.numero_mesa]}),o.jsxs("span",{className:"ml-2 text-xs text-muted-foreground",children:["(",ee.status_pedido,")"]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"font-semibold text-green-600",children:R(ee.valor_pendente)}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:[ee.pedidos_pendentes," pedido(s)"]})]})]},ge))})})]}),o.jsxs(ae,{children:[o.jsx(ve,{children:o.jsxs(me,{className:"flex items-center gap-2",children:[o.jsx(Gt,{className:"h-5 w-5"}),"Top Produtos do Período"]})}),o.jsx(ie,{children:Q.length===0?o.jsx("p",{className:"text-center text-muted-foreground py-4",children:"Nenhum produto vendido no período"}):o.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:Q.slice(0,10).map((ee,ge)=>o.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("span",{className:"font-medium text-sm",children:ee.produto_nome}),o.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[o.jsxs("span",{children:[ee.quantidade_vendida," vendas"]}),o.jsx(nt,{variant:ee.tipo_pedido==="mesa"?"default":"secondary",className:"text-xs",children:ee.tipo_pedido})]})]}),o.jsx("div",{className:"text-right",children:o.jsx("div",{className:"font-semibold text-green-600 text-sm",children:R(ee.receita_total)})})]},ge))})})]})]})]})};return o.jsxs("div",{className:"space-y-8",children:[o.jsx(gW,{}),o.jsxs(Ja,{value:N,onValueChange:j,className:"w-full",children:[o.jsxs(Un,{className:"grid w-full grid-cols-5",children:[o.jsxs(Ye,{value:"overview",className:"flex items-center gap-2",children:[o.jsx(Gt,{className:"h-4 w-4"}),"Resumo Geral"]}),o.jsxs(Ye,{value:"dashboard",className:"flex items-center gap-2",children:[o.jsx(Fc,{className:"h-4 w-4"}),"Dashboard de Fechamento"]}),o.jsxs(Ye,{value:"mesa-vs-delivery",className:"flex items-center gap-2",children:[o.jsx(Hi,{className:"h-4 w-4"}),"Mesa vs Delivery"]}),o.jsxs(Ye,{value:"fechamento",className:"flex items-center gap-2",children:[o.jsx(eo,{className:"h-4 w-4"}),"Fechamento"]}),o.jsxs(Ye,{value:"separado",className:"flex items-center gap-2",children:[o.jsx(Yv,{className:"h-4 w-4"}),"Fechamento Separado"]})]}),o.jsxs(gt,{value:"overview",className:"space-y-6",children:[o.jsxs(ae,{className:"shadow-xl bg-card/80 backdrop-blur-sm",children:[o.jsxs(ve,{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[o.jsxs("div",{children:[o.jsxs(me,{className:"text-xl text-primary flex items-center",children:[o.jsx(xo,{className:"mr-2"}),k?"Fechamento de Caixa Integrado":"Resumo do Dia"]}),o.jsx(We,{children:k?"Análise completa com fechamento automático do dia atual":"Selecione a data para ver o resumo financeiro."})]}),o.jsx(fe,{type:"date",value:u,onChange:I=>d(I.target.value),className:"w-full md:w-auto bg-background/70",disabled:h||x})]}),o.jsx(ie,{className:"pt-6",children:h?o.jsx("div",{className:"flex items-center justify-center h-40",children:o.jsx(ce,{className:"h-10 w-10 animate-spin text-primary"})}):o.jsx(o.Fragment,{children:k&&A?o.jsxs("div",{className:"space-y-6",children:[A.already_closed&&o.jsxs(nt,{variant:"destructive",className:"mb-4",children:[o.jsx(Ki,{className:"h-4 w-4 mr-1"}),"Caixa já fechado para este dia"]}),o.jsx(jv,{summary:{totalSales:A.cash_closing.vendas_brutas,totalOrdersCount:A.cash_closing.total_pedidos,totalExpenses:A.cash_closing.total_despesas,totalExtraRevenues:A.cash_closing.receitas_extras,totalDiscounts:A.cash_closing.descontos_totais,totalTaxes:0,totalDeliveryFees:((X=A.cash_closing.details_by_type)==null?void 0:X.reduce((I,W)=>I+(W.total_taxas_entrega||0),0))||0,netRevenue:A.cash_closing.saldo_final,salesByPaymentMethod:{dinheiro:{name:"Dinheiro",total:A.cash_closing.vendas_dinheiro,count:A.cash_closing.pedidos_dinheiro},cartao:{name:"Cartão",total:A.cash_closing.vendas_cartao,count:A.cash_closing.pedidos_cartao},pix:{name:"PIX",total:A.cash_closing.vendas_pix,count:A.cash_closing.pedidos_pix}}}}),o.jsx(jW,{data:A})]}):o.jsxs(o.Fragment,{children:[o.jsx(jv,{summary:O}),o.jsx(mW,{salesByPaymentMethod:O.salesByPaymentMethod,totalOrdersCount:O.totalOrdersCount})]})})}),o.jsxs(la,{className:"flex flex-col sm:flex-row justify-end gap-2 pt-6 border-t",children:[o.jsxs(K,{variant:"outline",onClick:()=>z(null),disabled:h||x,children:[o.jsx(O1,{className:"mr-2 h-4 w-4"})," Gerar Relatório do Dia"]}),k&&A&&!A.already_closed&&o.jsxs(K,{onClick:T,className:"bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white",disabled:h||x,children:[x?o.jsx(ce,{className:"mr-2 h-4 w-4 animate-spin"}):o.jsx(eo,{className:"mr-2 h-4 w-4"}),"Fechar Caixa Automaticamente"]}),!k&&o.jsxs(K,{onClick:T,className:"bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white",disabled:h||x,children:[x?o.jsx(ce,{className:"mr-2 h-4 w-4 animate-spin"}):o.jsx(Fr,{className:"mr-2 h-4 w-4"}),"Fechar Caixa do Dia"]})]})]}),o.jsx(pW,{initialTransactions:n.transactions,fetchDailyDataForGivenDate:_,filterDate:u})]}),o.jsx(gt,{value:"mesa-vs-delivery",className:"space-y-6",children:o.jsxs(ae,{className:"shadow-xl bg-card/80 backdrop-blur-sm",children:[o.jsxs(ve,{children:[o.jsxs(me,{className:"text-xl text-primary flex items-center",children:[o.jsx(Hi,{className:"mr-2"}),"Análise por Tipo de Pedido"]}),o.jsx(We,{children:"Comparação detalhada entre vendas de mesa e delivery"})]}),o.jsx(ie,{className:"pt-6",children:k&&A?o.jsx(NW,{detailsByType:A.cash_closing.details_by_type}):o.jsx("div",{className:"text-center py-8",children:o.jsx("p",{className:"text-muted-foreground",children:"Análise por tipo disponível apenas para o dia atual"})})})]})}),o.jsx(gt,{value:"fechamento",className:"space-y-6",children:o.jsxs(ae,{className:"shadow-xl bg-card/80 backdrop-blur-sm",children:[o.jsxs(ve,{children:[o.jsxs(me,{className:"text-xl text-primary flex items-center",children:[o.jsx(eo,{className:"mr-2"}),"Fechamento de Caixa"]}),o.jsx(We,{children:"Finalize o fechamento do caixa do dia"})]}),o.jsx(ie,{className:"pt-6",children:k&&A?o.jsx(o.Fragment,{children:A.already_closed?o.jsx(ae,{className:"border-gray-200 bg-gray-50/50",children:o.jsx(ie,{className:"pt-6",children:o.jsxs("div",{className:"text-center",children:[o.jsx(ta,{className:"h-12 w-12 text-green-500 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Caixa Já Fechado"}),o.jsx("p",{className:"text-gray-600",children:"O fechamento deste dia já foi realizado."})]})})}):o.jsxs(ae,{className:"border-green-200 bg-green-50/50",children:[o.jsxs(ve,{children:[o.jsxs(me,{className:"text-green-800 flex items-center gap-2",children:[o.jsx(eo,{className:"h-5 w-5"}),"Fechamento Automático Integrado"]}),o.jsx(We,{className:"text-green-700",children:'Todos os dados foram calculados automaticamente. Clique em "Fechar Caixa" para finalizar o dia.'})]}),o.jsxs(ie,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium",children:"Observações (opcional)"}),o.jsx(Hl,{placeholder:"Adicione observações sobre o fechamento do dia...",value:l,onChange:I=>c(I.target.value),className:"mt-1",disabled:x})]}),o.jsxs("div",{className:"bg-white p-4 rounded-lg border",children:[o.jsx("h4",{className:"font-semibold mb-2",children:"Resumo do Fechamento:"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Total de Pedidos:"}),o.jsx("span",{className:"ml-2 font-medium",children:A.cash_closing.total_pedidos})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Vendas Brutas:"}),o.jsx("span",{className:"ml-2 font-medium text-green-600",children:R(A.cash_closing.vendas_brutas)})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Total Despesas:"}),o.jsx("span",{className:"ml-2 font-medium text-red-600",children:R(A.cash_closing.total_despesas)})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Saldo Final:"}),o.jsx("span",{className:"ml-2 font-bold text-lg text-blue-600",children:R(A.cash_closing.saldo_final)})]})]})]})]}),o.jsx(la,{children:o.jsxs(K,{onClick:T,className:"w-full bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white",disabled:h||x,children:[x?o.jsx(ce,{className:"mr-2 h-4 w-4 animate-spin"}):o.jsx(eo,{className:"mr-2 h-4 w-4"}),"Fechar Caixa Automaticamente"]})})]})}):o.jsx("div",{className:"text-center py-8",children:o.jsx("p",{className:"text-muted-foreground",children:"Fechamento de caixa disponível apenas para o dia atual"})})})]})}),o.jsx(gt,{value:"separado",className:"space-y-6",children:o.jsx(OW,{selectedDate:u})}),o.jsx(gt,{value:"dashboard",className:"space-y-6",children:o.jsx(C,{})})]}),o.jsxs(ae,{className:"shadow-xl bg-card/80 backdrop-blur-sm",children:[o.jsxs(ve,{children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[o.jsxs(me,{className:"text-xl text-primary flex items-center",children:[o.jsx(Ed,{className:"mr-2"})," Histórico de Fechamentos"]}),o.jsx(K,{variant:"outline",onClick:()=>p(!f),className:"mt-4 md:mt-0",children:f?"Ocultar Histórico":"Mostrar Histórico"})]}),o.jsx(We,{children:"Visualize os fechamentos de caixa salvos."})]}),f&&o.jsx(ie,{className:"pt-6",children:v?o.jsx("div",{className:"flex items-center justify-center h-40",children:o.jsx(ce,{className:"h-10 w-10 animate-spin text-primary"})}):o.jsx(hW,{cashClosings:i,onPrintReport:z})})]})]})},AW=()=>{var T,z;const[e,t]=S.useState(!0),[r,n]=S.useState(""),[a,i]=S.useState(""),[s,l]=S.useState(""),[c,u]=S.useState(""),[d,f]=S.useState("atendente"),[p,h]=S.useState(!1),[g,v]=S.useState(""),m=Pd(),x=el(),{toast:b}=ze(),{signInWithPassword:N,signUp:j,userRole:y,session:w}=xi(),_=((z=(T=x.state)==null?void 0:T.from)==null?void 0:z.pathname)||"/dashboard",P=async $=>{var M;$.preventDefault(),h(!0),v("");try{const{data:L,error:V,profile:H}=await N(r,a);if(V){let C="Falha no login. Verifique suas credenciais.";V.message.includes("Invalid login credentials")?C="E-mail ou senha incorretos.":V.message.includes("Email not confirmed")?C="Confirme seu e-mail antes de fazer login.":V.message.includes("Too many requests")&&(C="Muitas tentativas de login. Tente novamente em alguns minutos."),v(C),b({title:"Erro no Login",description:C,variant:"destructive"})}else if(L!=null&&L.session){const C=(H==null?void 0:H.full_name)||((M=L.user.email)==null?void 0:M.split("@")[0]);b({title:"Login realizado com sucesso!",description:`Bem-vindo de volta, ${C}!`,variant:"default"}),m("/dashboard",{replace:!0})}else v("Não foi possível estabelecer a sessão. Tente novamente."),b({title:"Erro no Login",description:"Não foi possível estabelecer a sessão. Tente novamente.",variant:"destructive"})}catch(L){console.error("Erro no login:",L),v("Ocorreu um erro inesperado. Tente novamente."),b({title:"Erro Inesperado",description:"Não foi possível completar o login. Tente novamente em alguns instantes.",variant:"destructive"})}finally{h(!1)}},O=async $=>{if($.preventDefault(),!c.trim()){v("O nome completo é obrigatório."),b({title:"Campo Obrigatório",description:"Por favor, informe seu nome completo.",variant:"destructive"});return}if(a!==s){v("As senhas não coincidem."),b({title:"Erro de Validação",description:"As senhas digitadas não coincidem.",variant:"destructive"});return}if(a.length<6){v("A senha deve ter pelo menos 6 caracteres."),b({title:"Senha Muito Curta",description:"A senha deve ter pelo menos 6 caracteres.",variant:"destructive"});return}h(!0),v("");try{const{data:M,error:L,profile:V}=await j(r,a,c,d);if(L){let H="Falha no cadastro. Verifique os dados informados.",C="Erro no Cadastro";L.message.includes("already registered")||L.message.includes("already been registered")?(H="Esse e-mail já está cadastrado. Tente fazer login ou use outro e-mail.",C="E-mail Já Cadastrado"):L.message.includes("Invalid email")?(H="Formato de e-mail inválido. Verifique se digitou corretamente.",C="E-mail Inválido"):L.message.includes("Password")?(H="A senha não atende aos critérios de segurança.",C="Senha Inválida"):L.message.includes("rate limit")&&(H="Muitas tentativas de cadastro. Aguarde alguns minutos.",C="Limite Excedido"),v(H),b({title:C,description:H,variant:"destructive"})}else M!=null&&M.user?(V||console.warn("Perfil não foi criado imediatamente. Será criado pelo trigger do banco."),b({title:"Conta Criada com Sucesso!",description:`Bem-vindo, ${c}! Sua conta foi criada. Agora você pode fazer login.`,variant:"default"}),t(!0),k()):(v("Erro ao criar conta, tente novamente."),b({title:"Erro no Cadastro",description:"Não foi possível criar sua conta. Tente novamente em alguns instantes.",variant:"destructive"}))}catch(M){console.error("Erro crítico no cadastro:",M),v("Ocorreu um erro inesperado durante o cadastro."),b({title:"Erro Crítico",description:"Falha no sistema durante o cadastro. Tente novamente mais tarde ou entre em contato com o suporte.",variant:"destructive"})}finally{h(!1)}},k=()=>{n(""),i(""),l(""),u(""),f("atendente")},A=()=>{t(!e),v(""),n(""),i(""),l(""),u("")};return w?o.jsx(yo,{to:_,replace:!0}):o.jsx("div",{className:"flex items-center justify-center min-h-[calc(100vh-10rem)] p-4",children:o.jsxs(ae,{className:"w-full max-w-md shadow-2xl bg-card/90 backdrop-blur-sm",children:[o.jsxs(ve,{className:"text-center",children:[o.jsx("div",{className:"inline-block p-3 bg-primary/10 rounded-full mx-auto mb-4",children:e?o.jsx(Rc,{className:"h-10 w-10 text-primary"}):o.jsx(Zi,{className:"h-10 w-10 text-primary"})}),o.jsx(me,{className:"text-3xl font-bold text-primary",children:e?"Bem-vindo de Volta!":"Crie sua Conta"}),o.jsx(We,{className:"text-foreground/70",children:e?"Acesse sua conta para gerenciar a pizzaria.":"Preencha os campos para se registrar."})]}),o.jsxs("form",{onSubmit:e?P:O,children:[o.jsxs(ie,{className:"space-y-5 p-6",children:[g&&o.jsxs("div",{className:"bg-destructive/10 border border-destructive/30 text-destructive p-3 rounded-md flex items-start space-x-2",children:[o.jsx(vt,{className:"h-5 w-5 mt-0.5 flex-shrink-0"}),o.jsx("p",{className:"text-sm break-words",children:g})]}),!e&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(re,{htmlFor:"fullName",children:"Nome Completo"}),o.jsx(fe,{id:"fullName",type:"text",placeholder:"Seu Nome Completo",value:c,onChange:$=>u($.target.value),required:!0,className:"bg-background/70"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(re,{htmlFor:"email",children:"Email"}),o.jsx(fe,{id:"email",type:"email",placeholder:"seu@email.com",value:r,onChange:$=>n($.target.value),required:!0,className:"bg-background/70"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(re,{htmlFor:"password",children:"Senha"}),o.jsx(fe,{id:"password",type:"password",placeholder:"********",value:a,onChange:$=>i($.target.value),required:!0,className:"bg-background/70"})]}),!e&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(re,{htmlFor:"confirmPassword",children:"Confirmar Senha"}),o.jsx(fe,{id:"confirmPassword",type:"password",placeholder:"********",value:s,onChange:$=>l($.target.value),required:!0,className:"bg-background/70"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(re,{htmlFor:"role",children:"Tipo de Usuário"}),o.jsxs(Et,{value:d,onValueChange:f,children:[o.jsx(jt,{className:"w-full bg-background/70",children:o.jsx(Ct,{placeholder:"Selecione o tipo de usuário"})}),o.jsxs(Nt,{children:[o.jsx(Me,{value:"atendente",children:"Atendente"}),o.jsx(Me,{value:"entregador",children:"Entregador"}),o.jsx(Me,{value:"admin",children:"Administrador"})]})]})]})]})]}),o.jsxs(la,{className:"flex flex-col gap-4 p-6",children:[o.jsxs(K,{type:"submit",className:"w-full bg-gradient-to-r from-primary to-red-400 hover:from-primary/90 hover:to-red-400/90 text-white shadow-md hover:shadow-lg transition-shadow",disabled:p,children:[p?o.jsx(ce,{className:"mr-2 h-5 w-5 animate-spin"}):e?o.jsx(Rc,{className:"mr-2 h-5 w-5"}):o.jsx(Zi,{className:"mr-2 h-5 w-5"}),e?"Entrar":"Cadastrar"]}),o.jsx(K,{variant:"link",type:"button",onClick:A,className:"text-primary hover:underline",children:e?"Não tem uma conta? Cadastre-se":"Já tem uma conta? Faça login"})]})]})]})})};var Xl="Checkbox",[EW,TG]=Vr(Xl),[CW,Gf]=EW(Xl);function TW(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:a,disabled:i,form:s,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[p,h]=Ma({prop:r,defaultProp:a??!1,onChange:c,caller:Xl}),[g,v]=S.useState(null),[m,x]=S.useState(null),b=S.useRef(!1),N=g?!!s||!!g.closest("form"):!0,j={checked:p,disabled:i,setChecked:h,control:g,setControl:v,name:l,form:s,value:d,hasConsumerStoppedPropagationRef:b,required:u,defaultChecked:sn(a)?!1:a,isFormControl:N,bubbleInput:m,setBubbleInput:x};return o.jsx(CW,{scope:t,...j,children:$W(f)?f(j):n})}var lj="CheckboxTrigger",cj=S.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},a)=>{const{control:i,value:s,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:p,isFormControl:h,bubbleInput:g}=Gf(lj,e),v=Tt(a,d),m=S.useRef(c);return S.useEffect(()=>{const x=i==null?void 0:i.form;if(x){const b=()=>f(m.current);return x.addEventListener("reset",b),()=>x.removeEventListener("reset",b)}},[i,f]),o.jsx(He.button,{type:"button",role:"checkbox","aria-checked":sn(c)?"mixed":c,"aria-required":u,"data-state":hj(c),"data-disabled":l?"":void 0,disabled:l,value:s,...n,ref:v,onKeyDown:Oe(t,x=>{x.key==="Enter"&&x.preventDefault()}),onClick:Oe(r,x=>{f(b=>sn(b)?!0:!b),g&&h&&(p.current=x.isPropagationStopped(),p.current||x.stopPropagation())})})});cj.displayName=lj;var Hf=S.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:i,required:s,disabled:l,value:c,onCheckedChange:u,form:d,...f}=e;return o.jsx(TW,{__scopeCheckbox:r,checked:a,defaultChecked:i,disabled:l,required:s,onCheckedChange:u,name:n,form:d,value:c,internal_do_not_use_render:({isFormControl:p})=>o.jsxs(o.Fragment,{children:[o.jsx(cj,{...f,ref:t,__scopeCheckbox:r}),p&&o.jsx(pj,{__scopeCheckbox:r})]})})});Hf.displayName=Xl;var uj="CheckboxIndicator",dj=S.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,i=Gf(uj,r);return o.jsx(yi,{present:n||sn(i.checked)||i.checked===!0,children:o.jsx(He.span,{"data-state":hj(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});dj.displayName=uj;var fj="CheckboxBubbleInput",pj=S.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:s,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:p,setBubbleInput:h}=Gf(fj,e),g=Tt(r,h),v=Nd(i),m=Sd(n);S.useEffect(()=>{const b=p;if(!b)return;const N=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(N,"checked").set,w=!a.current;if(v!==i&&y){const _=new Event("click",{bubbles:w});b.indeterminate=sn(i),y.call(b,sn(i)?!1:i),b.dispatchEvent(_)}},[p,v,i,a]);const x=S.useRef(sn(i)?!1:i);return o.jsx(He.input,{type:"checkbox","aria-hidden":!0,defaultChecked:s??x.current,required:l,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:g,style:{...t.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});pj.displayName=fj;function $W(e){return typeof e=="function"}function sn(e){return e==="indeterminate"}function hj(e){return sn(e)?"indeterminate":e?"checked":"unchecked"}const kW=S.forwardRef(({className:e,...t},r)=>o.jsx(Hf,{ref:r,className:se("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:o.jsx(dj,{className:se("flex items-center justify-center text-current"),children:o.jsx(Ad,{className:"h-4 w-4"})})}));kW.displayName=Hf.displayName;var[Yl,$G]=Vr("Tooltip",[Rv]),Kf=Rv(),MW="TooltipProvider",Sv="tooltip.open",[kG,mj]=Yl(MW),gj="Tooltip",[MG,Zl]=Yl(gj),gd="TooltipTrigger",IW=S.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=Zl(gd,r),i=mj(gd,r),s=Kf(r),l=S.useRef(null),c=Tt(t,l,a.onTriggerChange),u=S.useRef(!1),d=S.useRef(!1),f=S.useCallback(()=>u.current=!1,[]);return S.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),o.jsx(a1,{asChild:!0,...s,children:o.jsx(He.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:c,onPointerMove:Oe(e.onPointerMove,p=>{p.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),d.current=!0)}),onPointerLeave:Oe(e.onPointerLeave,()=>{a.onTriggerLeave(),d.current=!1}),onPointerDown:Oe(e.onPointerDown,()=>{a.open&&a.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Oe(e.onFocus,()=>{u.current||a.onOpen()}),onBlur:Oe(e.onBlur,a.onClose),onClick:Oe(e.onClick,a.onClose)})})});IW.displayName=gd;var DW="TooltipPortal",[IG,RW]=Yl(DW,{forceMount:void 0}),ka="TooltipContent",vj=S.forwardRef((e,t)=>{const r=RW(ka,e.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...i}=e,s=Zl(ka,e.__scopeTooltip);return o.jsx(yi,{present:n||s.open,children:s.disableHoverableContent?o.jsx(yj,{side:a,...i,ref:t}):o.jsx(LW,{side:a,...i,ref:t})})}),LW=S.forwardRef((e,t)=>{const r=Zl(ka,e.__scopeTooltip),n=mj(ka,e.__scopeTooltip),a=S.useRef(null),i=Tt(t,a),[s,l]=S.useState(null),{trigger:c,onClose:u}=r,d=a.current,{onPointerInTransitChange:f}=n,p=S.useCallback(()=>{l(null),f(!1)},[f]),h=S.useCallback((g,v)=>{const m=g.currentTarget,x={x:g.clientX,y:g.clientY},b=VW(x,m.getBoundingClientRect()),N=UW(x,b),j=WW(v.getBoundingClientRect()),y=HW([...N,...j]);l(y),f(!0)},[f]);return S.useEffect(()=>()=>p(),[p]),S.useEffect(()=>{if(c&&d){const g=m=>h(m,d),v=m=>h(m,c);return c.addEventListener("pointerleave",g),d.addEventListener("pointerleave",v),()=>{c.removeEventListener("pointerleave",g),d.removeEventListener("pointerleave",v)}}},[c,d,h,p]),S.useEffect(()=>{if(s){const g=v=>{const m=v.target,x={x:v.clientX,y:v.clientY},b=(c==null?void 0:c.contains(m))||(d==null?void 0:d.contains(m)),N=!GW(x,s);b?p():N&&(p(),u())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[c,d,s,u,p]),o.jsx(yj,{...e,ref:i})}),[FW,zW]=Yl(gj,{isInside:!1}),BW=Dv("TooltipContent"),yj=S.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:s,...l}=e,c=Zl(ka,r),u=Kf(r),{onClose:d}=c;return S.useEffect(()=>(document.addEventListener(Sv,d),()=>document.removeEventListener(Sv,d)),[d]),S.useEffect(()=>{if(c.trigger){const f=p=>{const h=p.target;h!=null&&h.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),o.jsx(o1,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:o.jsxs(i1,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(BW,{children:n}),o.jsx(FW,{scope:r,isInside:!0,children:o.jsx(s1,{id:c.contentId,role:"tooltip",children:a||n})})]})})});vj.displayName=ka;var xj="TooltipArrow",qW=S.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=Kf(r);return zW(xj,r).isInside?null:o.jsx(l1,{...a,...n,ref:t})});qW.displayName=xj;function VW(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,a,i)){case i:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function UW(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function WW(e){const{top:t,right:r,bottom:n,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:n},{x:a,y:n}]}function GW(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,s=t.length-1;i<t.length;s=i++){const l=t[i],c=t[s],u=l.x,d=l.y,f=c.x,p=c.y;d>n!=p>n&&r<(f-u)*(n-d)/(p-d)+u&&(a=!a)}return a}function HW(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),KW(t)}function KW(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const a=e[n];for(;t.length>=2;){const i=t[t.length-1],s=t[t.length-2];if((i.x-s.x)*(a.y-s.y)>=(i.y-s.y)*(a.x-s.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const a=e[n];for(;r.length>=2;){const i=r[r.length-1],s=r[r.length-2];if((i.x-s.x)*(a.y-s.y)>=(i.y-s.y)*(a.x-s.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var bj=vj;const XW=S.forwardRef(({className:e,sideOffset:t=4,...r},n)=>o.jsx(bj,{ref:n,sideOffset:t,className:se("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));XW.displayName=bj.displayName;const YW=({isOpen:e,onOpenChange:t,onSubmit:r,initialCouponData:n,isLoading:a})=>{const[i,s]=S.useState(""),[l,c]=S.useState(""),[u,d]=S.useState("percentual"),[f,p]=S.useState(""),[h,g]=S.useState(""),[v,m]=S.useState(""),[x,b]=S.useState(""),[N,j]=S.useState(!0),{toast:y}=ze(),w=()=>{s(""),c(""),d("percentual"),p(""),g(""),m(""),b(""),j(!0)};S.useEffect(()=>{var P,O,k;n?(s(n.codigo||""),c(n.descricao||""),d(n.tipo_desconto||"percentual"),p(((P=n.valor_desconto)==null?void 0:P.toString())||""),g(n.data_validade?new Date(n.data_validade).toISOString().slice(0,16):""),m(((O=n.usages_maximos)==null?void 0:O.toString())||""),b(((k=n.valor_minimo_pedido)==null?void 0:k.toString())||""),j(n.ativo===void 0?!0:n.ativo)):w()},[n,e]);const _=P=>{if(P.preventDefault(),!i||!u||!f){y({title:"Erro de Validação",description:"Código, Tipo e Valor do Desconto são obrigatórios.",variant:"destructive"});return}if(parseFloat(f)<=0){y({title:"Erro de Validação",description:"Valor do desconto deve ser positivo.",variant:"destructive"});return}if(u==="percentual"&&parseFloat(f)>100){y({title:"Erro de Validação",description:"Desconto percentual não pode ser maior que 100%.",variant:"destructive"});return}r({codigo:i.toUpperCase(),descricao:l,tipo_desconto:u,valor_desconto:parseFloat(f),data_validade:h?new Date(h).toISOString():null,usages_maximos:v?parseInt(v,10):null,valor_minimo_pedido:x?parseFloat(x):null,ativo:N})};return o.jsx(Nr,{open:e,onOpenChange:P=>{t(P),P||w()},children:o.jsxs(sr,{className:"sm:max-w-lg bg-card",children:[o.jsxs(lr,{children:[o.jsx(cr,{className:"text-2xl text-primary",children:n?"Editar Cupom":"Adicionar Novo Cupom"}),o.jsx(ur,{children:"Preencha os detalhes do cupom. Clique em salvar quando terminar."})]}),o.jsxs("form",{onSubmit:_,className:"grid gap-6 py-4 max-h-[70vh] overflow-y-auto pr-2",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(re,{htmlFor:"coupon-code",className:"text-foreground/80",children:"Código do Cupom (Ex: PROMO10)"}),o.jsx(fe,{id:"coupon-code",value:i,onChange:P=>s(P.target.value.toUpperCase()),required:!0,className:"bg-background/70"})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(re,{htmlFor:"coupon-desc",className:"text-foreground/80",children:"Descrição (opcional)"}),o.jsx(fe,{id:"coupon-desc",value:l,onChange:P=>c(P.target.value),className:"bg-background/70"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(re,{htmlFor:"coupon-type",className:"text-foreground/80",children:"Tipo de Desconto"}),o.jsxs(Et,{value:u,onValueChange:d,required:!0,children:[o.jsx(jt,{id:"coupon-type",children:o.jsx(Ct,{})}),o.jsxs(Nt,{children:[o.jsx(Me,{value:"percentual",children:"Percentual (%)"}),o.jsx(Me,{value:"valor_fixo",children:"Valor Fixo (R$)"})]})]})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(re,{htmlFor:"coupon-value",className:"text-foreground/80",children:"Valor do Desconto"}),o.jsx(fe,{id:"coupon-value",type:"number",step:"0.01",placeholder:u==="percentual"?"Ex: 10 (para 10%)":"Ex: 5 (para R$5,00)",value:f,onChange:P=>p(P.target.value),required:!0,className:"bg-background/70"})]})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(re,{htmlFor:"coupon-validity",className:"text-foreground/80",children:"Data de Validade (opcional)"}),o.jsxs("div",{className:"relative",children:[o.jsx(fe,{id:"coupon-validity",type:"datetime-local",value:h,onChange:P=>g(P.target.value),className:"bg-background/70 pr-8"}),o.jsx(xo,{className:"absolute right-2 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(re,{htmlFor:"coupon-max-uses",className:"text-foreground/80",children:"Usos Máximos (opcional)"}),o.jsx(fe,{id:"coupon-max-uses",type:"number",placeholder:"Ex: 100",value:v,onChange:P=>m(P.target.value),className:"bg-background/70"})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(re,{htmlFor:"coupon-min-order",className:"text-foreground/80",children:"Valor Mínimo Pedido (R$) (opcional)"}),o.jsx(fe,{id:"coupon-min-order",type:"number",step:"0.01",placeholder:"Ex: 50.00",value:x,onChange:P=>b(P.target.value),className:"bg-background/70"})]})]}),o.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[o.jsx(Za,{id:"coupon-active",checked:N,onCheckedChange:j}),o.jsx(re,{htmlFor:"coupon-active",className:"text-foreground/80",children:"Cupom Ativo"})]}),o.jsxs(Sr,{className:"mt-4",children:[o.jsx(Vn,{asChild:!0,children:o.jsx(K,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:a,children:"Cancelar"})}),o.jsxs(K,{type:"submit",className:"bg-primary hover:bg-primary/90",disabled:a,children:[a&&o.jsx(ce,{className:"mr-2 h-4 w-4 animate-spin"}),n?"Salvar Alterações":"Adicionar Cupom"]})]})]})]})})},ZW=()=>{const[e,t]=S.useState([]),[r,n]=S.useState(""),[a,i]=S.useState(!1),[s,l]=S.useState(null),[c,u]=S.useState(!1),{toast:d}=ze(),{userRole:f,loading:p}=xi(),h=Pd();S.useEffect(()=>{!p&&f!=="admin"&&(d({title:"Acesso Negado",description:"Você não tem permissão para acessar esta página.",variant:"destructive"}),h("/dashboard"))},[f,p,h,d]);const g=S.useCallback(async()=>{u(!0);try{const y=await go.getAllCoupons();t(y)}catch(y){d({title:"Erro ao carregar cupons",description:y.message,variant:"destructive"})}finally{u(!1)}},[d]);S.useEffect(()=>{g()},[g]);const v=()=>{l(null)},m=S.useCallback(y=>{i(y),y||v()},[v]),x=async y=>{u(!0);try{s&&s.id?(await go.updateCoupon(s.id,y),d({title:"Sucesso!",description:"Cupom atualizado com sucesso."})):(await go.createCoupon(y),d({title:"Sucesso!",description:"Cupom criado com sucesso."})),g(),i(!1),v()}catch(w){d({title:`Erro ao ${s?"atualizar":"criar"} cupom`,description:w.message,variant:"destructive"})}finally{u(!1)}},b=S.useCallback(y=>{l(y),i(!0)},[]),N=async y=>{u(!0);try{await go.deleteCoupon(y),d({title:"Sucesso!",description:"Cupom removido com sucesso."}),g()}catch(w){d({title:"Erro ao remover cupom",description:w.message,variant:"destructive"})}finally{u(!1)}},j=e.filter(y=>y.codigo.toLowerCase().includes(r.toLowerCase())||y.descricao&&y.descricao.toLowerCase().includes(r.toLowerCase()));return p?o.jsx("div",{className:"flex justify-center items-center h-screen",children:o.jsx(ce,{className:"h-16 w-16 animate-spin text-primary"})}):f!=="admin"?null:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-3xl font-bold tracking-tight text-foreground flex items-center",children:[o.jsx(lp,{className:"mr-3 h-8 w-8 text-primary"})," Gerenciamento de Cupons"]}),o.jsx("p",{className:"text-muted-foreground",children:"Crie e gerencie cupons de desconto para seus clientes."})]}),o.jsxs(K,{onClick:()=>{l(null),i(!0)},className:"bg-gradient-to-r from-primary to-red-400 hover:from-primary/90 hover:to-red-400/90 text-white shadow-md hover:shadow-lg transition-shadow",disabled:c,children:[o.jsx(Ur,{className:"mr-2 h-5 w-5"})," Adicionar Cupom"]})]}),o.jsx(YW,{isOpen:a,onOpenChange:m,onSubmit:x,initialCouponData:s,isLoading:c}),o.jsxs("div",{className:"relative w-full md:w-1/3 mb-4",children:[o.jsx(fe,{type:"search",placeholder:"Buscar por código ou descrição...",value:r,onChange:y=>n(y.target.value),className:"pl-10 w-full bg-background/70"}),o.jsx(lp,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"})]}),c&&e.length===0?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx(ce,{className:"h-12 w-12 animate-spin text-primary"})}):!c&&j.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center p-6 bg-card rounded-lg shadow-md",children:[o.jsx(vt,{className:"w-16 h-16 text-primary/50 mb-4"}),o.jsx("h3",{className:"text-xl font-semibold text-foreground",children:"Nenhum cupom encontrado"}),o.jsx("p",{className:"text-muted-foreground",children:r?"Tente refinar sua busca ou ":"Comece adicionando um novo cupom."})]}):o.jsx("div",{className:"overflow-x-auto bg-card rounded-lg shadow-md",children:o.jsxs($t,{children:[o.jsx(kt,{children:o.jsxs(Le,{className:"hover:bg-muted/20",children:[o.jsx(te,{className:"text-foreground/90",children:"Código"}),o.jsx(te,{className:"text-foreground/90",children:"Descrição"}),o.jsx(te,{className:"text-foreground/90",children:"Tipo"}),o.jsx(te,{className:"text-right text-foreground/90",children:"Valor"}),o.jsx(te,{className:"text-foreground/90",children:"Validade"}),o.jsx(te,{className:"text-right text-foreground/90",children:"Usos"}),o.jsx(te,{className:"text-right text-foreground/90",children:"Mín. Pedido"}),o.jsx(te,{className:"text-center text-foreground/90",children:"Ativo"}),o.jsx(te,{className:"text-right text-foreground/90",children:"Ações"})]})}),o.jsx(Mt,{children:j.map(y=>o.jsxs(motion.tr,{layout:!0,className:"hover:bg-muted/30 transition-colors",children:[o.jsx(J,{className:"font-medium text-foreground",children:y.codigo}),o.jsx(J,{className:"text-foreground/90 text-sm max-w-xs truncate",children:y.descricao||"-"}),o.jsx(J,{className:"text-foreground/90",children:y.tipo_desconto==="percentual"?"Percentual":"Valor Fixo"}),o.jsx(J,{className:"text-right text-foreground/90",children:y.tipo_desconto==="percentual"?`${y.valor_desconto}%`:R(y.valor_desconto)}),o.jsx(J,{className:"text-foreground/90",children:y.data_validade?new Date(y.data_validade).toLocaleDateString("pt-BR"):"Sem validade"}),o.jsxs(J,{className:"text-right text-foreground/90",children:[y.usages_atuais," / ",y.usages_maximos||"∞"]}),o.jsx(J,{className:"text-right text-foreground/90",children:R(y.valor_minimo_pedido||0)}),o.jsx(J,{className:"text-center",children:o.jsx("span",{className:`px-2 py-0.5 text-xs font-semibold rounded-full ${y.ativo?"bg-green-500/20 text-green-700 dark:bg-green-700/30 dark:text-green-400":"bg-red-500/20 text-red-700 dark:bg-red-700/30 dark:text-red-400"}`,children:y.ativo?"Sim":"Não"})}),o.jsxs(J,{className:"text-right space-x-1",children:[o.jsx(K,{variant:"ghost",size:"icon",onClick:()=>b(y),className:"text-blue-500 hover:text-blue-700 hover:bg-blue-100/50 dark:hover:bg-blue-700/20",disabled:c,children:o.jsx(Dn,{className:"h-4 w-4"})}),o.jsx(K,{variant:"ghost",size:"icon",onClick:()=>N(y.id),className:"text-red-500 hover:text-red-700 hover:bg-red-100/50 dark:hover:bg-red-700/20",disabled:c,children:c?o.jsx(ce,{className:"h-4 w-4 animate-spin"}):o.jsx(dr,{className:"h-4 w-4"})})]})]},y.id))}),j.length>5&&o.jsxs(TableCaption,{children:["Total de ",j.length," cupons."]})]})})]})};var Xf="ToastProvider",[Yf,JW,QW]=kv("Toast"),[wj,DG]=Vr("Toast",[QW]),[eG,Jl]=wj(Xf),jj=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:s}=e,[l,c]=S.useState(null),[u,d]=S.useState(0),f=S.useRef(!1),p=S.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Xf}\`. Expected non-empty \`string\`.`),o.jsx(Yf.Provider,{scope:t,children:o.jsx(eG,{scope:t,label:r,duration:n,swipeDirection:a,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:S.useCallback(()=>d(h=>h+1),[]),onToastRemove:S.useCallback(()=>d(h=>h-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:p,children:s})})};jj.displayName=Xf;var Nj="ToastViewport",tG=["F8"],vd="toast.viewportPause",yd="toast.viewportResume",Sj=S.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=tG,label:a="Notifications ({hotkey})",...i}=e,s=Jl(Nj,r),l=JW(r),c=S.useRef(null),u=S.useRef(null),d=S.useRef(null),f=S.useRef(null),p=Tt(t,f,s.onViewportChange),h=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=s.toastCount>0;S.useEffect(()=>{const m=x=>{var N;n.length!==0&&n.every(j=>x[j]||x.code===j)&&((N=f.current)==null||N.focus())};return document.addEventListener("keydown",m),()=>document.removeEventListener("keydown",m)},[n]),S.useEffect(()=>{const m=c.current,x=f.current;if(g&&m&&x){const b=()=>{if(!s.isClosePausedRef.current){const w=new CustomEvent(vd);x.dispatchEvent(w),s.isClosePausedRef.current=!0}},N=()=>{if(s.isClosePausedRef.current){const w=new CustomEvent(yd);x.dispatchEvent(w),s.isClosePausedRef.current=!1}},j=w=>{!m.contains(w.relatedTarget)&&N()},y=()=>{m.contains(document.activeElement)||N()};return m.addEventListener("focusin",b),m.addEventListener("focusout",j),m.addEventListener("pointermove",b),m.addEventListener("pointerleave",y),window.addEventListener("blur",b),window.addEventListener("focus",N),()=>{m.removeEventListener("focusin",b),m.removeEventListener("focusout",j),m.removeEventListener("pointermove",b),m.removeEventListener("pointerleave",y),window.removeEventListener("blur",b),window.removeEventListener("focus",N)}}},[g,s.isClosePausedRef]);const v=S.useCallback(({tabbingDirection:m})=>{const b=l().map(N=>{const j=N.ref.current,y=[j,...hG(j)];return m==="forwards"?y:y.reverse()});return(m==="forwards"?b.reverse():b).flat()},[l]);return S.useEffect(()=>{const m=f.current;if(m){const x=b=>{var y,w,_;const N=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!N){const P=document.activeElement,O=b.shiftKey;if(b.target===m&&O){(y=u.current)==null||y.focus();return}const T=v({tabbingDirection:O?"backwards":"forwards"}),z=T.findIndex($=>$===P);Mc(T.slice(z+1))?b.preventDefault():O?(w=u.current)==null||w.focus():(_=d.current)==null||_.focus()}};return m.addEventListener("keydown",x),()=>m.removeEventListener("keydown",x)}},[l,v]),o.jsxs(c1,{ref:c,role:"region","aria-label":a.replace("{hotkey}",h),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&o.jsx(xd,{ref:u,onFocusFromOutsideViewport:()=>{const m=v({tabbingDirection:"forwards"});Mc(m)}}),o.jsx(Yf.Slot,{scope:r,children:o.jsx(He.ol,{tabIndex:-1,...i,ref:p})}),g&&o.jsx(xd,{ref:d,onFocusFromOutsideViewport:()=>{const m=v({tabbingDirection:"backwards"});Mc(m)}})]})});Sj.displayName=Nj;var _j="ToastFocusProxy",xd=S.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=e,i=Jl(_j,r);return o.jsx(Lv,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:s=>{var u;const l=s.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&n()}})});xd.displayName=_j;var Ai="Toast",rG="toast.swipeStart",nG="toast.swipeMove",aG="toast.swipeCancel",oG="toast.swipeEnd",Pj=S.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:i,...s}=e,[l,c]=Ma({prop:n,defaultProp:a??!0,onChange:i,caller:Ai});return o.jsx(yi,{present:r||l,children:o.jsx(lG,{open:l,...s,ref:t,onClose:()=>c(!1),onPause:_o(e.onPause),onResume:_o(e.onResume),onSwipeStart:Oe(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Oe(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Oe(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Oe(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});Pj.displayName=Ai;var[iG,sG]=wj(Ai,{onClose(){}}),lG=S.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:i,onClose:s,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:p,onSwipeEnd:h,...g}=e,v=Jl(Ai,r),[m,x]=S.useState(null),b=Tt(t,$=>x($)),N=S.useRef(null),j=S.useRef(null),y=a||v.duration,w=S.useRef(0),_=S.useRef(y),P=S.useRef(0),{onToastAdd:O,onToastRemove:k}=v,A=_o(()=>{var M;(m==null?void 0:m.contains(document.activeElement))&&((M=v.viewport)==null||M.focus()),s()}),T=S.useCallback($=>{!$||$===1/0||(window.clearTimeout(P.current),w.current=new Date().getTime(),P.current=window.setTimeout(A,$))},[A]);S.useEffect(()=>{const $=v.viewport;if($){const M=()=>{T(_.current),u==null||u()},L=()=>{const V=new Date().getTime()-w.current;_.current=_.current-V,window.clearTimeout(P.current),c==null||c()};return $.addEventListener(vd,L),$.addEventListener(yd,M),()=>{$.removeEventListener(vd,L),$.removeEventListener(yd,M)}}},[v.viewport,y,c,u,T]),S.useEffect(()=>{i&&!v.isClosePausedRef.current&&T(y)},[i,y,v.isClosePausedRef,T]),S.useEffect(()=>(O(),()=>k()),[O,k]);const z=S.useMemo(()=>m?kj(m):null,[m]);return v.viewport?o.jsxs(o.Fragment,{children:[z&&o.jsx(cG,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:z}),o.jsx(iG,{scope:r,onClose:A,children:Fv.createPortal(o.jsx(Yf.ItemSlot,{scope:r,children:o.jsx(u1,{asChild:!0,onEscapeKeyDown:Oe(l,()=>{v.isFocusedToastEscapeKeyDownRef.current||A(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:o.jsx(He.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":v.swipeDirection,...g,ref:b,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Oe(e.onKeyDown,$=>{$.key==="Escape"&&(l==null||l($.nativeEvent),$.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,A()))}),onPointerDown:Oe(e.onPointerDown,$=>{$.button===0&&(N.current={x:$.clientX,y:$.clientY})}),onPointerMove:Oe(e.onPointerMove,$=>{if(!N.current)return;const M=$.clientX-N.current.x,L=$.clientY-N.current.y,V=!!j.current,H=["left","right"].includes(v.swipeDirection),C=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,X=H?C(0,M):0,I=H?0:C(0,L),W=$.pointerType==="touch"?10:2,B={x:X,y:I},Q={originalEvent:$,delta:B};V?(j.current=B,Wi(nG,f,Q,{discrete:!1})):_v(B,v.swipeDirection,W)?(j.current=B,Wi(rG,d,Q,{discrete:!1}),$.target.setPointerCapture($.pointerId)):(Math.abs(M)>W||Math.abs(L)>W)&&(N.current=null)}),onPointerUp:Oe(e.onPointerUp,$=>{const M=j.current,L=$.target;if(L.hasPointerCapture($.pointerId)&&L.releasePointerCapture($.pointerId),j.current=null,N.current=null,M){const V=$.currentTarget,H={originalEvent:$,delta:M};_v(M,v.swipeDirection,v.swipeThreshold)?Wi(oG,h,H,{discrete:!0}):Wi(aG,p,H,{discrete:!0}),V.addEventListener("click",C=>C.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),cG=e=>{const{__scopeToast:t,children:r,...n}=e,a=Jl(Ai,t),[i,s]=S.useState(!1),[l,c]=S.useState(!1);return fG(()=>s(!0)),S.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:o.jsx(d1,{asChild:!0,children:o.jsx(Lv,{...n,children:i&&o.jsxs(o.Fragment,{children:[a.label," ",r]})})})},uG="ToastTitle",Oj=S.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return o.jsx(He.div,{...n,ref:t})});Oj.displayName=uG;var dG="ToastDescription",Aj=S.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return o.jsx(He.div,{...n,ref:t})});Aj.displayName=dG;var Ej="ToastAction",Cj=S.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?o.jsx($j,{altText:r,asChild:!0,children:o.jsx(Zf,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Ej}\`. Expected non-empty \`string\`.`),null)});Cj.displayName=Ej;var Tj="ToastClose",Zf=S.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,a=sG(Tj,r);return o.jsx($j,{asChild:!0,children:o.jsx(He.button,{type:"button",...n,ref:t,onClick:Oe(e.onClick,a.onClose)})})});Zf.displayName=Tj;var $j=S.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...a}=e;return o.jsx(He.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:t})});function kj(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),pG(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const s=n.dataset.radixToastAnnounceAlt;s&&t.push(s)}else t.push(...kj(n))}}),t}function Wi(e,t,r,{discrete:n}){const a=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?p1(a,i):a.dispatchEvent(i)}var _v=(e,t,r=0)=>{const n=Math.abs(e.x),a=Math.abs(e.y),i=n>a;return t==="left"||t==="right"?i&&n>r:!i&&a>r};function fG(e=()=>{}){const t=_o(e);f1(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function pG(e){return e.nodeType===e.ELEMENT_NODE}function hG(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Mc(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var mG=jj,Mj=Sj,Ij=Pj,Dj=Oj,Rj=Aj,Lj=Cj,Fj=Zf;const gG=mG,zj=E.forwardRef(({className:e,...t},r)=>o.jsx(Mj,{ref:r,className:se("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));zj.displayName=Mj.displayName;const vG=Ia("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border",destructive:"group destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Bj=E.forwardRef(({className:e,variant:t,...r},n)=>o.jsx(Ij,{ref:n,className:se(vG({variant:t}),e),...r}));Bj.displayName=Ij.displayName;const yG=E.forwardRef(({className:e,...t},r)=>o.jsx(Lj,{ref:r,className:se("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));yG.displayName=Lj.displayName;const qj=E.forwardRef(({className:e,...t},r)=>o.jsx(Fj,{ref:r,className:se("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:o.jsx(rl,{className:"h-4 w-4"})}));qj.displayName=Fj.displayName;const Vj=E.forwardRef(({className:e,...t},r)=>o.jsx(Dj,{ref:r,className:se("text-sm font-semibold",e),...t}));Vj.displayName=Dj.displayName;const Uj=E.forwardRef(({className:e,...t},r)=>o.jsx(Rj,{ref:r,className:se("text-sm opacity-90",e),...t}));Uj.displayName=Rj.displayName;function xG(){const{toasts:e}=ze();return o.jsxs(gG,{children:[e.map(({id:t,title:r,description:n,action:a,...i})=>{const{dismiss:s,...l}=i;return o.jsxs(Bj,{...l,children:[o.jsxs("div",{className:"grid gap-1",children:[r&&o.jsx(Vj,{children:r}),n&&o.jsx(Uj,{children:n})]}),a,o.jsx(qj,{})]},t)}),o.jsx(zj,{})]})}const Er=({children:e,allowedRoles:t})=>{const{session:r,user:n,userRole:a,loading:i,initialized:s,isAuthenticated:l}=xi(),c=el();return i&&!s?o.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-background text-foreground",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(ce,{className:"h-8 w-8 animate-spin text-primary"}),o.jsx("p",{className:"text-lg font-medium",children:"Verificando autenticação..."})]}),o.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Aguarde um momento"})]}):!l()||!r||!n?(console.log("🔒 Usuário não autenticado, redirecionando para login"),o.jsx(yo,{to:"/login",state:{from:c},replace:!0})):t&&t.length>0&&(!a||!t.includes(a))?(console.log("⛔ Usuário sem permissão para esta rota:",{userRole:a,allowedRoles:t}),o.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-background text-foreground",children:[o.jsxs("div",{className:"flex items-center space-x-3 text-destructive",children:[o.jsx(I1,{className:"h-8 w-8"}),o.jsx("p",{className:"text-lg font-medium",children:"Acesso Negado"})]}),o.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Você não tem permissão para acessar esta página"}),o.jsx("button",{className:"mt-4 px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90",onClick:()=>window.history.back(),children:"Voltar"})]})):(console.log("✅ Acesso autorizado:",{user:n.email,role:a}),e)};class Ut extends E.Component{constructor(t){super(t),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(t){return console.error("🚨 ErrorBoundary - Erro capturado:",t),{hasError:!0}}componentDidCatch(t,r){console.error("🚨 ErrorBoundary - Detalhes do erro:",{error:t,errorInfo:r,componentStack:r.componentStack,errorBoundary:this}),this.setState({error:t,errorInfo:r})}render(){return this.state.hasError?(console.log("🚨 ErrorBoundary - Renderizando tela de erro"),o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-red-50 dark:bg-red-900/20",children:o.jsxs("div",{className:"max-w-md w-full bg-white dark:bg-gray-800 shadow-lg rounded-lg p-6",children:[o.jsx("h2",{className:"text-xl font-bold text-red-600 mb-4",children:"🚨 Erro na Aplicação"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:"Algo deu errado. Verifique o console para mais detalhes."}),o.jsxs("details",{className:"mb-4",children:[o.jsx("summary",{className:"cursor-pointer text-sm text-gray-500",children:"Detalhes técnicos"}),o.jsxs("pre",{className:"mt-2 text-xs bg-gray-100 dark:bg-gray-700 p-2 rounded overflow-auto",children:[this.state.error&&this.state.error.toString(),o.jsx("br",{}),this.state.errorInfo&&this.state.errorInfo.componentStack]})]}),o.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-red-600 text-white py-2 px-4 rounded hover:bg-red-700",children:"Recarregar Página"})]})})):this.props.children}}const Gi={async getResumoMesa(e){try{return await Y.get(`/orders/mesa/${e}/resumo`)}catch(t){throw console.error("Erro ao buscar resumo da mesa:",t),t}},async fecharMesa(e,t=""){try{return await Y.put(`/orders/mesa/${e}/fechar`,{observacoes:t})}catch(r){throw console.error("Erro ao fechar mesa:",r),r}},async fecharConta(e,t,r=""){try{console.log("🧾 Tentando fechar conta:",{numeroMesa:e,formaPagamento:t,observacoes:r});const n=await Y.post(`/orders/mesa/${e}/fechar-conta`,{forma_pagamento:t,observacoes:r});return console.log("✅ Conta fechada com sucesso:",n),n}catch(n){throw console.error("❌ Erro ao fechar conta da mesa:",n),console.error("   URL tentada:",`/orders/mesa/${e}/fechar-conta`),console.error("   Tipo de erro:",n.name),console.error("   Mensagem:",n.message),n}},async getMesasAbertas(){try{return await Y.get("/dashboard/mesas-tempo-real")}catch(e){throw console.error("Erro ao buscar mesas abertas:",e),e}},async adicionarItemMesa(e,t,r){try{return await Y.post(`/orders/mesa/${e}/adicionar-item`,{produto_id:t,quantidade:r})}catch(n){throw console.error("Erro ao adicionar item à mesa:",n),n}}},bG={async getConfigurations(){try{return await Y.get("/configurations")}catch(e){throw console.error("Erro ao buscar configurações:",e),e}},async getConfiguration(e){try{return await Y.get(`/configurations/${e}`)}catch(t){throw console.error("Erro ao buscar configuração:",t),t}},async updateConfiguration(e,t,r){try{return await Y.put(`/configurations/${e}`,{valor:t,descricao:r})}catch(n){throw console.error("Erro ao atualizar configuração:",n),n}},async createConfiguration(e,t,r,n="texto"){try{return await Y.post("/configurations",{chave:e,valor:t,descricao:r,tipo:n})}catch(a){throw console.error("Erro ao criar configuração:",a),a}},async getPixConfigurations(){var e,t,r;try{const[n,a,i]=await Promise.all([this.getConfiguration("pix_qr_code"),this.getConfiguration("pix_chave"),this.getConfiguration("empresa_nome")]);return{pix_qr_code:((e=n==null?void 0:n.configuration)==null?void 0:e.valor)||null,pix_chave:((t=a==null?void 0:a.configuration)==null?void 0:t.valor)||null,empresa_nome:((r=i==null?void 0:i.configuration)==null?void 0:r.valor)||"PIT STOP PIZZARIA"}}catch(n){return console.error("Erro ao buscar configurações PIX:",n),{pix_qr_code:null,pix_chave:null,empresa_nome:"PIT STOP PIZZARIA"}}}},wG=()=>{var we,pe;const[e,t]=S.useState([]),[r,n]=S.useState(null),[a,i]=S.useState(""),[s,l]=S.useState(""),[c,u]=S.useState(null),[d,f]=S.useState(!1),[p,h]=S.useState(!0),[g,v]=S.useState(!1),[m,x]=S.useState(null),[b,N]=S.useState("dinheiro"),[j,y]=S.useState(!1),[w,_]=S.useState([]),[P,O]=S.useState(null),[k,A]=S.useState(1),[T,z]=S.useState(!1),{toast:$}=ze();S.useEffect(()=>{M(),L();const D=G=>{console.log("📡 Evento de mudança de status recebido:",G.detail),M()},q=()=>{console.log("📡 Evento de pedido salvo recebido"),M()};return window.addEventListener("orderStatusChanged",D),window.addEventListener("orderSaved",q),()=>{window.removeEventListener("orderStatusChanged",D),window.removeEventListener("orderSaved",q)}},[]);const M=async()=>{var D,q;try{h(!0);const G=await Gi.getMesasAbertas(),F=(G==null?void 0:G.mesas)||[];console.log("📋 Mesas carregadas:",F.length,F),t(F)}catch(G){if(console.error("❌ Erro ao carregar mesas:",G),(D=G.message)!=null&&D.includes("401")||(q=G.message)!=null&&q.includes("403"))return;$({title:"Erro",description:G.message||"Erro ao carregar mesas abertas",variant:"destructive"})}finally{h(!1)}},L=async()=>{try{const D=await bG.getPixConfigurations();u(D)}catch(D){console.error("Erro ao carregar configurações PIX:",D)}},V=async D=>{var q,G;if(!D){$({title:"Atenção",description:"Informe o número da mesa",variant:"destructive"});return}try{f(!0);const F=await Gi.getResumoMesa(D);console.log("🔍 Resumo da mesa",D,":",F),F&&F.mesa?(console.log("📊 Mesa carregada:",F.mesa),console.log("💵 Total:",F.mesa.total),n(F.mesa),$({title:"Mesa encontrada",description:`Mesa ${D} carregada com sucesso`})):(n(null),$({title:"Mesa não encontrada",description:"Mesa não encontrada ou já fechada",variant:"destructive"}))}catch(F){console.error("❌ Erro ao buscar mesa:",F),n(null);const he=((G=(q=F.response)==null?void 0:q.data)==null?void 0:G.error)||F.message||"Mesa não encontrada ou já fechada";$({title:"Mesa não encontrada",description:he,variant:"destructive"})}finally{f(!1)}},H=async D=>{if(D)try{const q=wv(D,c),G=window.open("","_blank","width=300,height=600");if(!G){$({title:"Erro de Impressão",description:"Não foi possível abrir a janela de impressão",variant:"destructive"});return}G.document.write("<html><head><title>Fechamento Mesa "+D.numero_mesa+"</title>"),G.document.write("<style>body { font-family: monospace; font-size: 10pt; margin: 5px; } pre { white-space: pre-wrap; word-wrap: break-word; } </style>"),G.document.write("</head><body>"),G.document.write("<pre>"+q+"</pre>"),G.document.write("</body></html>"),G.document.close(),G.onload=function(){G.focus(),G.print()},$({title:"Cupom Gerado",description:`Cupom da mesa ${D.numero_mesa} preparado para impressão`})}catch{$({title:"Erro na Impressão",description:"Erro ao gerar cupom para impressão",variant:"destructive"})}},C=D=>{if(!D||!(c!=null&&c.pix_qr_code)){$({title:"PIX não configurado",description:"Configure o QR Code PIX nas configurações do sistema",variant:"destructive"});return}try{const q=parseFloat(D.total).toFixed(2),G=VU(c.pix_qr_code,q,D.numero_mesa),F=window.open("","_blank","width=400,height=600");if(!F){$({title:"Erro de Impressão",description:"Não foi possível abrir a janela de impressão",variant:"destructive"});return}F.document.write(G),F.document.close(),F.onload=function(){F.focus(),F.print()},$({title:"QR Code PIX Gerado",description:`QR Code PIX da mesa ${D.numero_mesa} preparado para impressão`})}catch{$({title:"Erro na Impressão",description:"Erro ao gerar QR Code PIX",variant:"destructive"})}},X=D=>{console.log("🧾 Abrindo modal fechar conta:",D),console.log("💰 Total da mesa:",(D==null?void 0:D.total)||(D==null?void 0:D.valor_total)),x(D),N("dinheiro"),v(!0)},I=async()=>{var D,q;if(m)try{f(!0);const G=await Gi.fecharConta(m.numero_mesa,b,s);G&&G.success&&await ge({...m,observacoes:s,forma_pagamento:b,data_fechamento:new Date().toISOString()}),$({title:"Conta Fechada!",description:`Mesa ${m.numero_mesa} foi fechada com sucesso`,duration:5e3}),v(!1),x(null),n(null),i(""),l(""),await new Promise(F=>setTimeout(F,500)),await M(),window.dispatchEvent(new CustomEvent("orderStatusChanged",{detail:{numeroMesa:m.numero_mesa,newStatus:"fechada"}})),window.dispatchEvent(new CustomEvent("cashUpdated",{detail:{source:"mesa_fechamento"}}))}catch(G){$({title:"Erro ao Fechar Conta",description:((q=(D=G.response)==null?void 0:D.data)==null?void 0:q.error)||"Erro ao fechar conta da mesa",variant:"destructive"})}finally{f(!1)}},W=D=>D?new Date(D).toLocaleString("pt-BR"):"N/A",B=async()=>{try{z(!0);const D=await tn.getAllActiveProducts();console.log("🔍 Produtos carregados:",D.length);const q=D.filter(G=>G.tipo_produto!=="pizza"&&G.tipo_produto!=="borda");console.log("🥤 Produtos filtrados (bebidas):",q.length),console.log("📋 Exemplos:",q.slice(0,3).map(G=>({nome:G.nome,tipo:G.tipo_produto,preco_unitario:G.preco_unitario,preco_base:G.preco_base}))),_(q)}catch(D){console.error("Erro ao carregar produtos:",D),$({title:"Erro",description:"Erro ao carregar produtos disponíveis",variant:"destructive"})}finally{z(!1)}},Q=async()=>{if(!r){$({title:"Atenção",description:"Selecione uma mesa primeiro",variant:"destructive"});return}if(!["retirado","pronto","preparando","pendente"].includes(r.status_pedido)){$({title:"Atenção",description:"Só é possível adicionar itens em mesas abertas",variant:"destructive"});return}O(null),A(1),y(!0),w.length===0&&await B()},ee=async()=>{var D,q;if(!(!P||!r))try{f(!0);const G=await Gi.adicionarItemMesa(r.numero_mesa,P.id,k);$({title:"Item Adicionado!",description:G.message||`Item adicionado à mesa ${r.numero_mesa}`,duration:3e3}),y(!1),O(null),A(1),await V(r.numero_mesa)}catch(G){$({title:"Erro ao Adicionar Item",description:((q=(D=G.response)==null?void 0:D.data)==null?void 0:q.error)||"Erro ao adicionar item à mesa",variant:"destructive"})}finally{f(!1)}},ge=async D=>{if(D)try{const q=document.createElement("iframe");q.style.display="none",document.body.appendChild(q);const G=wv(D,c);q.contentDocument.write("<html><head><title>Cupom Mesa "+D.numero_mesa+"</title>"),q.contentDocument.write("<style>body { font-family: monospace; font-size: 10pt; margin: 5px; } pre { white-space: pre-wrap; word-wrap: break-word; } </style>"),q.contentDocument.write("</head><body>"),q.contentDocument.write("<pre>"+G+"</pre>"),q.contentDocument.write("</body></html>"),q.contentDocument.close(),q.contentWindow.focus(),q.contentWindow.print(),setTimeout(()=>{document.body.removeChild(q)},1e3)}catch(q){console.error("Erro ao imprimir cupom:",q),H(D)}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("h1",{className:"text-3xl font-bold tracking-tight flex items-center gap-2",children:[o.jsx(Eo,{className:"h-8 w-8 text-primary"}),"Fechamento de Mesas"]}),o.jsxs(K,{onClick:M,variant:"outline",size:"sm",disabled:p,children:[o.jsx(Xi,{className:`h-4 w-4 mr-2 ${p?"animate-spin":""}`}),"Atualizar"]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs(ae,{children:[o.jsx(ve,{children:o.jsxs(me,{className:"flex items-center gap-2",children:[o.jsx(An,{className:"h-5 w-5"}),"Buscar Mesa para Fechamento"]})}),o.jsxs(ie,{className:"space-y-4",children:[o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx(re,{htmlFor:"numeroMesa",children:"Número da Mesa"}),o.jsx(fe,{id:"numeroMesa",type:"number",placeholder:"Digite o número da mesa",value:a,onChange:D=>i(D.target.value),onKeyPress:D=>D.key==="Enter"&&V(a)})]}),o.jsx("div",{className:"flex items-end",children:o.jsxs(K,{onClick:()=>V(a),disabled:d||!a,children:[o.jsx(An,{className:"h-4 w-4 mr-2"}),"Buscar"]})})]}),r&&o.jsxs("div",{className:"mt-6 space-y-4",children:[o.jsx(fi,{}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Mesa"}),o.jsxs("p",{className:"text-lg font-semibold",children:["#",r.numero_mesa]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Total"}),o.jsx("p",{className:"text-lg font-semibold text-green-600",children:R(parseFloat(r.total||0))})]}),o.jsxs("div",{className:"col-span-2",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Cliente"}),o.jsx("p",{className:"text-sm",children:((we=r.cliente)==null?void 0:we.nome)||"Cliente não identificado"}),((pe=r.cliente)==null?void 0:pe.telefone)&&o.jsx("p",{className:"text-xs text-muted-foreground",children:r.cliente.telefone})]})]}),r.itens&&r.itens.length>0&&o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Itens Consumidos:"}),o.jsx("div",{className:"max-h-32 overflow-y-auto space-y-1",children:r.itens.map((D,q)=>o.jsxs("div",{className:"flex justify-between text-xs",children:[o.jsxs("span",{children:[D.quantidade,"x ",D.sabor_registrado||D.produto_nome]}),o.jsx("span",{children:R(D.quantidade*D.valor_unitario)})]},q))})]}),o.jsxs("div",{children:[o.jsx(re,{htmlFor:"observacoes",children:"Observações do Fechamento"}),o.jsx(Hl,{id:"observacoes",placeholder:"Observações sobre o fechamento (opcional)",value:s,onChange:D=>l(D.target.value),rows:2})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(K,{onClick:()=>H(r),variant:"outline",size:"sm",className:"flex-1",children:[o.jsx($1,{className:"h-4 w-4 mr-2"}),"Imprimir Cupom"]}),o.jsxs(K,{onClick:()=>C(r),variant:"outline",size:"sm",className:"flex-1",children:[o.jsx(sp,{className:"h-4 w-4 mr-2"}),"QR Code PIX"]})]}),["retirado","pronto","preparando","pendente"].includes(r.status_pedido)&&o.jsxs(K,{onClick:Q,variant:"outline",className:"w-full",children:[o.jsx(Lc,{className:"h-4 w-4 mr-2"}),"Adicionar Item"]}),o.jsxs(K,{onClick:()=>X(r),className:"w-full",disabled:d,children:[o.jsx(ta,{className:"h-4 w-4 mr-2"}),d?"Fechando...":"Fechar Conta"]})]})]})]}),o.jsxs(ae,{children:[o.jsx(ve,{children:o.jsxs(me,{className:"flex items-center gap-2",children:[o.jsx(cn,{className:"h-5 w-5"}),"Mesas Abertas (",e.length,")"]})}),o.jsx(ie,{children:p?o.jsx("div",{className:"text-center py-4 text-muted-foreground",children:"Carregando mesas..."}):e.length===0?o.jsx("div",{className:"text-center py-4 text-muted-foreground",children:"Nenhuma mesa aberta no momento"}):o.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:e.map(D=>o.jsxs("div",{className:"p-3 border rounded-lg",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{className:"font-semibold",children:["Mesa #",D.numero_mesa]}),o.jsx(nt,{variant:D.status_pedido==="entregue"?"default":"secondary",children:D.status_pedido})]}),o.jsx("span",{className:"text-lg font-semibold text-green-600",children:R(parseFloat(D.valor_total||D.total||0))})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs text-muted-foreground",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Ki,{className:"h-3 w-3"}),"Aberta: ",W(D.abertura)]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Fr,{className:"h-3 w-3"}),D.total_pedidos," pedido(s)"]})]}),o.jsx("div",{className:"flex gap-1 mt-2",children:o.jsx(K,{onClick:()=>{i(D.numero_mesa.toString()),V(D.numero_mesa)},size:"sm",variant:"outline",className:"flex-1",children:"Ver Detalhes"})})]},D.numero_mesa))})})]})]}),o.jsxs(ae,{children:[o.jsx(ve,{children:o.jsxs(me,{className:"flex items-center gap-2",children:[o.jsx(sp,{className:"h-5 w-5"}),"Status do PIX"]})}),o.jsx(ie,{children:o.jsx("div",{className:"flex items-center gap-2",children:c!=null&&c.pix_chave?o.jsxs(o.Fragment,{children:[o.jsx(ta,{className:"h-4 w-4 text-green-500"}),o.jsxs("span",{className:"text-sm",children:["PIX configurado: ",c.pix_chave]})]}):o.jsxs(o.Fragment,{children:[o.jsx(Od,{className:"h-4 w-4 text-yellow-500"}),o.jsx("span",{className:"text-sm",children:"PIX não configurado - Configure nas configurações do sistema"})]})})})]}),o.jsx(Nr,{open:g,onOpenChange:v,children:o.jsxs(sr,{className:"sm:max-w-md",children:[o.jsxs(lr,{children:[o.jsxs(cr,{children:["Fechar Conta - Mesa ",m==null?void 0:m.numero_mesa]}),o.jsx(ur,{children:"Selecione a forma de pagamento para fechar a conta desta mesa."})]}),o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(re,{children:"Total da Mesa"}),o.jsx("div",{className:"text-2xl font-bold text-green-600",children:R(parseFloat((m==null?void 0:m.total)||(m==null?void 0:m.valor_total)||0))})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(re,{children:"Forma de Pagamento"}),o.jsxs(Wf,{value:b,onValueChange:N,children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ia,{value:"dinheiro",id:"dinheiro"}),o.jsx(re,{htmlFor:"dinheiro",children:"Dinheiro"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ia,{value:"cartao",id:"cartao"}),o.jsx(re,{htmlFor:"cartao",children:"Cartão"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ia,{value:"pix",id:"pix"}),o.jsx(re,{htmlFor:"pix",children:"PIX"})]})]})]})]}),o.jsxs(Sr,{children:[o.jsx(K,{variant:"outline",onClick:()=>v(!1),disabled:d,children:"Cancelar"}),o.jsxs(K,{onClick:I,disabled:d,children:[o.jsx(ta,{className:"h-4 w-4 mr-2"}),d?"Fechando...":"Confirmar e Fechar"]})]})]})}),o.jsx(Nr,{open:j,onOpenChange:y,children:o.jsxs(sr,{className:"sm:max-w-md",children:[o.jsxs(lr,{children:[o.jsxs(cr,{children:["Adicionar Item - Mesa ",r==null?void 0:r.numero_mesa]}),o.jsx(ur,{children:"Selecione um produto para adicionar à mesa."})]}),o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(re,{children:"Selecione o Produto"}),T?o.jsx("div",{className:"text-center py-4 text-muted-foreground",children:"Carregando produtos..."}):w.length===0?o.jsx("div",{className:"text-center py-4 text-muted-foreground",children:"Nenhum produto disponível"}):o.jsxs("select",{className:"w-full p-2 border rounded-md bg-white text-black",style:{backgroundColor:"white",color:"black"},value:(P==null?void 0:P.id)||"",onChange:D=>{const q=w.find(G=>G.id===D.target.value);O(q)},children:[o.jsx("option",{value:"",children:"Selecione um produto"}),w.map(D=>{const q=D.preco_unitario||D.preco_base||0;return o.jsxs("option",{value:D.id,style:{color:"black",backgroundColor:"white"},children:[D.nome," - ",R(q),q===0&&" (Sem preço)"]},D.id)})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(re,{htmlFor:"quantidade",children:"Quantidade"}),o.jsx(fe,{id:"quantidade",type:"number",min:"1",value:k,onChange:D=>A(parseInt(D.target.value)||1)})]}),P&&o.jsxs("div",{className:"space-y-2 p-3 bg-gray-50 rounded-md",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{children:"Produto:"}),o.jsx("span",{className:"font-medium",children:P.nome})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{children:"Valor unitário:"}),o.jsx("span",{children:R(P.preco_unitario||P.preco_base||0)})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{children:"Quantidade:"}),o.jsx("span",{children:k})]}),o.jsx(fi,{}),o.jsxs("div",{className:"flex justify-between font-semibold",children:[o.jsx("span",{children:"Total:"}),o.jsx("span",{className:"text-green-600",children:R((P.preco_unitario||P.preco_base||0)*k)})]})]})]}),o.jsxs(Sr,{children:[o.jsx(K,{variant:"outline",onClick:()=>y(!1),disabled:d,children:"Cancelar"}),o.jsxs(K,{onClick:ee,disabled:d||!P||k<1,children:[o.jsx(Lc,{className:"h-4 w-4 mr-2"}),d?"Adicionando...":"Adicionar Item"]})]})]})})]})};function jG(){return console.log("🚀 App - Sistema PIT STOP iniciado!"),o.jsx(Ut,{children:o.jsx(yN,{defaultTheme:"system",storageKey:"vite-ui-theme",children:o.jsx(bN,{children:o.jsxs(g1,{children:[o.jsx(Ut,{children:o.jsx(ON,{children:o.jsx(Ut,{children:o.jsxs(v1,{children:[o.jsx(Ot,{path:"/login",element:o.jsx(AW,{})}),o.jsx(Ot,{path:"/",element:o.jsx(yo,{to:"/dashboard",replace:!0})}),o.jsx(Ot,{path:"/dashboard",element:o.jsx(Ut,{children:o.jsx(Er,{allowedRoles:["admin","atendente","entregador"],children:o.jsx(E9,{})})})}),o.jsx(Ot,{path:"/produtos",element:o.jsx(Ut,{children:o.jsx(Er,{allowedRoles:["admin","atendente"],children:o.jsx(uU,{})})})}),o.jsx(Ot,{path:"/clientes",element:o.jsx(Ut,{children:o.jsx(Er,{allowedRoles:["admin","atendente"],children:o.jsx(hU,{})})})}),o.jsx(Ot,{path:"/pedidos",element:o.jsx(Ut,{children:o.jsx(Er,{allowedRoles:["admin","atendente"],children:o.jsx(UU,{})})})}),o.jsx(Ot,{path:"/entregas",element:o.jsx(Ut,{children:o.jsx(Er,{allowedRoles:["admin","atendente","entregador"],children:o.jsx(uW,{})})})}),o.jsx(Ot,{path:"/fechamento-caixa",element:o.jsx(Ut,{children:o.jsx(Er,{allowedRoles:["admin","atendente"],children:o.jsx(Nv,{})})})}),o.jsx(Ot,{path:"/fechamento-caixa/:mode",element:o.jsx(Ut,{children:o.jsx(Er,{allowedRoles:["admin","atendente"],children:o.jsx(Nv,{})})})}),o.jsx(Ot,{path:"/fechamento-separado",element:o.jsx(yo,{to:"/fechamento-caixa/separado",replace:!0})}),o.jsx(Ot,{path:"/relatorios",element:o.jsx(Ut,{children:o.jsx(Er,{allowedRoles:["admin"],children:o.jsx(fW,{})})})}),o.jsx(Ot,{path:"/cupons",element:o.jsx(Ut,{children:o.jsx(Er,{allowedRoles:["admin"],children:o.jsx(ZW,{})})})}),o.jsx(Ot,{path:"/mesas",element:o.jsx(wG,{})}),o.jsx(Ot,{path:"*",element:o.jsx(yo,{to:"/dashboard",replace:!0})})]})})})}),o.jsx(xG,{})]})})})})}console.log("✅ main.jsx carregou!");"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(e=>{console.log("📱 PWA Service Worker registrado:",e.scope),e.addEventListener("updatefound",()=>{const t=e.installing;t.addEventListener("statechange",()=>{t.state==="installed"&&navigator.serviceWorker.controller&&confirm("Nova versão disponível! Recarregar agora?")&&(t.postMessage({type:"SKIP_WAITING"}),window.location.reload())})})}).catch(e=>{console.log("❌ Erro ao registrar Service Worker:",e)})});let ea;window.addEventListener("beforeinstallprompt",e=>{console.log("📲 PWA pode ser instalada"),e.preventDefault(),ea=e,NG()});function NG(){const e=document.createElement("div");e.innerHTML=`
    <div style="
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      background: #dc2626;
      color: white;
      padding: 12px;
      text-align: center;
      z-index: 9999;
      font-family: system-ui;
    ">
      📱 Instale o PIT Pizzaria como app!
      <button onclick="installPWA()" style="
        margin-left: 10px;
        background: white;
        color: #dc2626;
        border: none;
        padding: 4px 12px;
        border-radius: 4px;
        cursor: pointer;
        font-weight: bold;
      ">Instalar</button>
      <button onclick="this.parentElement.parentElement.remove()" style="
        margin-left: 5px;
        background: transparent;
        color: white;
        border: 1px solid white;
        padding: 4px 8px;
        border-radius: 4px;
        cursor: pointer;
      ">✕</button>
    </div>
  `,document.body.appendChild(e),setTimeout(()=>{e.parentElement&&e.remove()},1e4)}window.installPWA=async()=>{if(ea){ea.prompt();const{outcome:e}=await ea.userChoice;console.log("📱 Resultado da instalação:",e),ea=null;const t=document.querySelector('[style*="position: fixed"]');t&&t.remove()}};window.addEventListener("appinstalled",()=>{console.log("✅ PWA instalada com sucesso!"),ea=null});Ic.createRoot(document.getElementById("root")).render(o.jsx(E.StrictMode,{children:o.jsx(jG,{})}));
